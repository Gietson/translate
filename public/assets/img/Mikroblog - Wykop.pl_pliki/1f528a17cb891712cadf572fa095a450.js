!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:k&&!k.call("\ufeff\xa0")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}});function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var L="undefined",M;for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;while(h--)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(F)||[""],j=b.length;while(j--)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped())b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];while(e--)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}n.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;while(f=p[q++])if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c)){e=0;while(f=h[e++])pb.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",j="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=h.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b)return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--)if(b=Ub[e]+c,b in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function kc(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});(function(){var a=jQuery,b=function(){function a(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.positionFromTop=50,this.showImageNumberLabel=!0,this.alwaysShowNavOnTouchDevices=!0,this.wrapAround=!1}return a.prototype.albumLabel=function(a,b){return"Obrazek "+a+" z "+b},a}(),c=function(){function b(a){this.options=a,this.album=[],this.currentImageIndex=void 0,this.init()}return b.prototype.init=function(){this.enable(),this.build()},b.prototype.enable=function(){var b=this;a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){return b.start(a(c.currentTarget)),!1})},b.prototype.build=function(){var b=this;a("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(a("body")),this.$lightbox=a("#lightbox"),this.$overlay=a("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return b.end(),!1}),this.$lightbox.hide().on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$outerContainer.on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return b.changeImage(0===b.currentImageIndex?b.album.length-1:b.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return b.changeImage(b.currentImageIndex===b.album.length-1?0:b.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return b.end(),!1})},b.prototype.start=function(b){function c(a){d.album.push({link:a.attr("href"),title:a.attr("data-title")||a.attr("title")})}var d=this,e=a(window);e.on("resize",a.proxy(this.sizeOverlay,this)),a("select, object, embed").css({visibility:"hidden"}),this.sizeOverlay(),this.album=[];var f,g=0,h=b.attr("data-lightbox");if(h){f=a(b.prop("tagName")+'[data-lightbox="'+h+'"]');for(var i=0;i<f.length;i=++i)c(a(f[i])),f[i]===b[0]&&(g=i)}else if("lightbox"===b.attr("rel"))c(b);else{f=a(b.prop("tagName")+'[rel="'+b.attr("rel")+'"]');for(var j=0;j<f.length;j=++j)c(a(f[j])),f[j]===b[0]&&(g=j)}var k=e.scrollTop()+this.options.positionFromTop,l=e.scrollLeft();this.$lightbox.css({top:k+"px",left:l+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(g)},b.prototype.changeImage=function(b){var c=this;this.disableKeyboardNav();var d=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),a(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var e=new Image;e.onload=function(){var f,g,h,i,j,k,l;d.attr("src",c.album[b].link),f=a(e),d.width(e.width),d.height(e.height),c.options.fitImagesInViewport&&(l=a(window).width(),k=a(window).height(),j=l-c.containerLeftPadding-c.containerRightPadding-20,i=k-c.containerTopPadding-c.containerBottomPadding-120,(e.width>j||e.height>i)&&(e.width/j>e.height/i?(h=j,g=parseInt(e.height/(e.width/h),10),d.width(h),d.height(g)):(g=i,h=parseInt(e.width/(e.height/g),10),d.width(h),d.height(g)))),c.sizeContainer(d.width(),d.height())},e.src=this.album[b].link,this.currentImageIndex=b},b.prototype.sizeOverlay=function(){this.$overlay.width(a(window).width()).height(a(document).height())},b.prototype.sizeContainer=function(a,b){function c(){d.$lightbox.find(".lb-dataContainer").width(g),d.$lightbox.find(".lb-prevLink").height(h),d.$lightbox.find(".lb-nextLink").height(h),d.showImage()}var d=this,e=this.$outerContainer.outerWidth(),f=this.$outerContainer.outerHeight(),g=a+this.containerLeftPadding+this.containerRightPadding,h=b+this.containerTopPadding+this.containerBottomPadding;e!==g||f!==h?this.$outerContainer.animate({width:g,height:h},this.options.resizeDuration,"swing",function(){c()}):c()},b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},b.prototype.updateNav=function(){var a=!1;try{document.createEvent("TouchEvent"),a=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(b){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(a&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),a&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),a&&this.$lightbox.find(".lb-next").css("opacity","1"))))},b.prototype.updateDetails=function(){var b=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(){location.href=a(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return b.sizeOverlay()})},b.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var a=new Image;a.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var b=new Image;b.src=this.album[this.currentImageIndex-1].link}},b.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))},b.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")},b.prototype.keyboardAction=function(a){var b=27,c=37,d=39,e=a.keyCode,f=String.fromCharCode(e).toLowerCase();e===b||f.match(/x|o|c/)?this.end():"p"===f||e===c?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===f||e===d)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},b.prototype.end=function(){this.disableKeyboardNav(),a(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),a("select, object, embed").css({visibility:"visible"})},b}();a(function(){{var a=new b;new c(a)}})}).call(this);(function($){$.fn.mfupload=function(opt){var methods={completed:function(){},start:function(){},loaded:function(){},progress:function(){},error:function(){},upload_old:function(ctl,iframe){settings.init();var fnam=ctl.attr('value').replace(/^.*[\\\/]/,'')
var xload={fileno:-1,filename:fnam,perc:0,sent:0,total:0};settings.start(xload);$('<iframe id="'+iframe+'" name="'+iframe+'" src="#" style="display:none"></iframe>').appendTo('body');$('#'+iframe).bind('load',function(){var tmp=$('#'+iframe).contents().find('body').html();var result=jQuery.parseJSON(tmp);result.fileno=-1;settings.loaded(result);settings.completed();$('#'+iframe).unbind('load');$('#'+iframe).remove()});ctl.parent().submit()},uploadFromHTML:function(html){var url=$(html).filter('img').attr('src');if(url){settings.start({});try{var xhr=new XMLHttpRequest()}
catch(e){alert("Your browser does not support AJAX!");return !1}
xhr.open("POST",settings.html_upload,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.upload.addEventListener("progress",function(e){},!1);xhr.addEventListener("load",function(e){var result=e.target.responseText;result.isHtml=!0;settings.loaded(result)},!1);var nef=new FormData();nef.append("folder",settings.folder);nef.append("file_element",settings.file_elem);nef.append("udata",settings.user_data);nef.append("url",url);for(key in settings.postdata){nef.append(key,settings.postdata[key])}
xhr.send(nef)}},upload:function(files){nfiles=files.length;cfiles=nfiles;settings.init();if(typeof files!=="undefined"){for(var i=0;i<nfiles;i++){var ext=files[i].name.toLowerCase().split(/\./);ext=ext[ext.length-1];if(settings.type&&settings.type.indexOf(ext)==-1){var err={err_no:1,err_des:"Niepoprawny typ pliku",fileno:i,filename:files[i].name};settings.error(err);cfiles --;if(cfiles==0)settings.completed()}else if(settings.maxsize>0&&files[i].size>settings.maxsize*1048576){var err={err_no:2,err_des:"Maksymalny rozmiar pliku to "+settings.maxsize+" MB.",fileno:i,filename:files[i].name};settings.error(err);cfiles --;if(cfiles==0)settings.completed()}else{var xload={fileno:i,filename:files[i].name,perc:0,sent:0,total:0};settings.start(xload);try{var xhr=new XMLHttpRequest()}
catch(e){alert("Your browser does not support AJAX!");return !1}
xhr.open("POST",settings.post_upload,!0);xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");xhr.upload.filenumb=i;xhr.filenumb=i;xhr.upload.filename=files[i].name;xhr.upload.addEventListener("progress",function(e){if(e.lengthComputable){var loaded=Math.ceil((e.loaded/e.total)*100);var xload={fileno:this.filenumb,filename:this.filename,perc:loaded,sent:e.loaded,total:e.total};settings.progress(xload)}},!1);xhr.addEventListener("load",function(e){var result=e.target.responseText;settings.loaded(result)},!1);var nef=new FormData();nef.append("folder",settings.folder);nef.append("file_element",settings.file_elem);nef.append("udata",settings.user_data);nef.append(settings.file_elem,files[i]);for(key in settings.postdata){nef.append(key,settings.postdata[key])}
xhr.send(nef)}}}else{alert("no support")}}}
var settings={'init':methods.init,'start':methods.start,'loaded':methods.loaded,'progress':methods.progress,'completed':methods.completed,'ini_text':'drag files to here','over_text':'drop files','over_col':'white','over_bkcol':'green','post_upload':'./upload.php','html_upload':'./upload.php','postdata':{},'maxsize':'2','type':'','folder':'./','user_data':'','file_elem':''};if(opt)$.extend(settings,opt);this.each(function(){if(!((window.location!=window.parent.location)?!0:!1)){settings.file_elem="mf_file_"+$(this).attr("id");settings.iframe="mf_iframe_"+$(this).attr("id");var extraFields="";for(key in settings.postdata){extraFields+='<input type="hidden" value="'+settings.postdata[key]+'" name="'+key+'">'}
$(this).append('<div class="mf_upload_m"><form method="post" enctype="multipart/form-data" class="file" action="'+settings.post_upload+'" target="'+settings.iframe+'">'+extraFields+'<input type="file" class="file" name="'+settings.file_elem+'" id="'+settings.file_elem+'" multiple /><input type="hidden" name="folder" value="'+settings.folder+'" /><input type="hidden" name="file_element" value="'+settings.file_elem+'" /></form><div class="mf_upload_ins"></div></div>');$(this).find(".mf_upload_m").css({'position':'relative','margin':0,'padding':0,'width':'inherit','height':'0px'});$(this).find(".file").css({'position':'relative','text-align':'right','-moz-opacity':'0','filter':'alpha(opacity: 0)','opacity':'0','z-index':'2','width':'100%','height':'100%',top:0,left:0});$(this).find(".mf_upload_ins").css({'position':'absolute','text-align':'center','z-index':'1','width':'100%','height':'100%','top':0,'left':0});$(this).find('.mf_upload_ins').empty().html(settings.ini_text);$(this).bind({dragleave:function(e){e.preventDefault();$(this).find(".mf_upload_ins").css('color','inherit');$(this).find(".mf_upload_ins").css('background-color','inherit').html(settings.ini_text)},drop:function(e){e.preventDefault();$(this).find(".mf_upload_ins").css('color','inherit');$(this).find(".mf_upload_ins").css('background-color','inherit').html(settings.ini_text);var obj=e.originalEvent;if(obj.dataTransfer.getData('text/html').length>0){methods.uploadFromHTML(obj.dataTransfer.getData('text/html'))}else if(obj.dataTransfer.files){methods.upload(obj.dataTransfer.files)}
else alert("Drag and Drop not supported by your browser.")},dragover:function(e){e.preventDefault();$(this).find(".mf_upload_ins").css('color',settings.over_col);$(this).find(".mf_upload_ins").css('background-color',settings.over_bkcol);$(this).find(".mf_upload_ins").html('<div>'+settings.over_text+'</div>')}});$(this).find('input[type=file]').bind('change',function(e){e.preventDefault();if(e.target.files)methods.upload(e.target.files);else methods.upload_old($(this),settings.iframe)})}})}})(jQuery);(function(win){var PERMISSION_DEFAULT="default",PERMISSION_GRANTED="granted",PERMISSION_DENIED="denied",PERMISSION=[PERMISSION_GRANTED,PERMISSION_DEFAULT,PERMISSION_DENIED],defaultSetting={pageVisibility:!1,autoClose:10000},empty={},emptyString="",isSupported=(function(){var isSupported=!1;try{isSupported=!!(win.Notification||win.webkitNotifications||navigator.mozNotification||(win.external&&win.external.msIsSiteMode()!==undefined))}catch(e){}
return isSupported}()),ieVerification=Math.floor((Math.random()*10)+1),isFunction=function(value){return(value&&(value).constructor===Function)},isString=function(value){return(value&&(value).constructor===String)},isObject=function(value){return(value&&(value).constructor===Object)},mixin=function(target,source){var name,s;for(name in source){s=source[name];if(!(name in target)||(target[name]!==s&&(!(name in empty)||empty[name]!==s))){target[name]=s}}
return target},noop=function(){},settings=defaultSetting;function getNotification(title,options){var notification;if(win.Notification){notification=new win.Notification(title,{icon:isString(options.icon)?options.icon:options.icon.x32,body:options.body||emptyString,tag:options.tag||emptyString});if(isFunction(options.onclick)){notification.onclick=options.onclick}}else if(win.webkitNotifications){notification=win.webkitNotifications.createNotification(options.icon,title,options.body);if(isFunction(options.onclick)){notification.onclick=options.onclick}
notification.show()}else if(navigator.mozNotification){notification=navigator.mozNotification.createNotification(title,options.body,options.icon);if(isFunction(options.onclick)){notification.onclick=options.onclick}
notification.show()}else if(win.external&&win.external.msIsSiteMode()){win.external.msSiteModeClearIconOverlay();win.external.msSiteModeSetIconOverlay((isString(options.icon)?options.icon:options.icon.x16),title);win.external.msSiteModeActivate();notification={"ieVerification":ieVerification+1}}
return notification}
function getWrapper(notification){return{close:function(){if(notification){if(notification.close){notification.close()}else if(win.external&&win.external.msIsSiteMode()){if(notification.ieVerification===ieVerification){win.external.msSiteModeClearIconOverlay()}}}}}}
function requestPermission(callback){if(!isSupported){return}
var callbackFunction=isFunction(callback)?callback:noop;if(win.webkitNotifications&&win.webkitNotifications.checkPermission){win.webkitNotifications.requestPermission(callbackFunction)}else if(win.Notification&&win.Notification.requestPermission){win.Notification.requestPermission(callbackFunction)}}
function permissionLevel(){var permission;if(!isSupported){return}
if(win.Notification&&win.Notification.permissionLevel){permission=win.Notification.permissionLevel()}else if(win.webkitNotifications&&win.webkitNotifications.checkPermission){permission=PERMISSION[win.webkitNotifications.checkPermission()]}else if(navigator.mozNotification){permission=PERMISSION_GRANTED}else if(win.Notification&&win.Notification.permission){permission=win.Notification.permission}else if(win.external&&(win.external.msIsSiteMode()!==undefined)){permission=win.external.msIsSiteMode()?PERMISSION_GRANTED:PERMISSION_DEFAULT}
return permission}
function config(params){if(params&&isObject(params)){mixin(settings,params)}
return settings}
function isDocumentHidden(){return settings.pageVisibility?(document.hidden||document.msHidden||document.mozHidden||document.webkitHidden):!0}
function createNotification(title,options){var notification,notificationWrapper;if(isSupported&&isDocumentHidden()&&isString(title)&&(options&&(isString(options.icon)||isObject(options.icon)))&&(permissionLevel()===PERMISSION_GRANTED)){notification=getNotification(title,options)}
notificationWrapper=getWrapper(notification);if(settings.autoClose&&notification&&!notification.ieVerification&&notification.addEventListener){notification.addEventListener("show",function(){var notification=notificationWrapper;win.setTimeout(function(){notification.close()},settings.autoClose)})}
return notificationWrapper}
win.notify={PERMISSION_DEFAULT:PERMISSION_DEFAULT,PERMISSION_GRANTED:PERMISSION_GRANTED,PERMISSION_DENIED:PERMISSION_DENIED,isSupported:isSupported,config:config,createNotification:createNotification,permissionLevel:permissionLevel,requestPermission:requestPermission};if(isFunction(Object.seal)){Object.seal(win.notify)}}(window));(function($){jQuery.fn.extend({lazyload:function(){var d=$(window).data().lazyloaders;if(!d){d=[]}
this.each(function(){var $self=$(this);d.push({'element':this,'top':$self.offset().top})});$(window).data('lazyloaders',d);$(window).trigger('scroll.lazy')},showComment:function(){return this.each(function(){var $self=$(this);$self.attr('src',$self.data('original'))})}});$(document).ready(function(){var scrolling=!1;$(window).bind('scroll.lazy',function(){if(!scrolling){scrolling=!0;setTimeout(function(){var d=$(window).data().lazyloaders;if(!d||!d.length){scrolling=!1;return}
var top=$(window).scrollTop();var fold=wykop.height.window+top;var threshold=400;for(var i=0;i<d.length;i++){var p=d[i];if(p){if(fold>p.top-threshold){$(p.element).showComment();delete d[i]}}}
$(window).data('lazyloaders',d.filter(function(){return !0}));scrolling=!1},250)}});$(window).trigger('scroll')})})(jQuery);(function(window,document,undefined){(function(factory){"use strict";if(typeof define==='function'&&define.amd){define(['jquery'],factory)}
else if(jQuery&&!jQuery.fn.qtip){factory(jQuery)}}(function($){"use strict";var TRUE=!0,FALSE=!1,NULL=null,X='x',Y='y',WIDTH='width',HEIGHT='height',TOP='top',LEFT='left',BOTTOM='bottom',RIGHT='right',CENTER='center',FLIP='flip',FLIPINVERT='flipinvert',SHIFT='shift',QTIP,PROTOTYPE,CORNER,CHECKS,PLUGINS={},NAMESPACE='qtip',ATTR_HAS='data-hasqtip',ATTR_ID='data-qtip-id',WIDGET=['ui-widget','ui-tooltip'],SELECTOR='.'+NAMESPACE,INACTIVE_EVENTS='click dblclick mousedown mouseup mousemove mouseleave mouseenter'.split(' '),CLASS_FIXED=NAMESPACE+'-fixed',CLASS_DEFAULT=NAMESPACE+'-default',CLASS_FOCUS=NAMESPACE+'-focus',CLASS_HOVER=NAMESPACE+'-hover',CLASS_DISABLED=NAMESPACE+'-disabled',replaceSuffix='_replacedByqTip',oldtitle='oldtitle',trackingBound,BROWSER={ie:(function(){for(var v=4,i=document.createElement("div");(i.innerHTML="<!--[if gt IE "+v+"]><i></i><![endif]-->")&&i.getElementsByTagName("i")[0];v+=1){}
return v>4?v:NaN}()),iOS:parseFloat((''+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,''])[1]).replace('undefined','3_2').replace('_','.').replace('_',''))||FALSE};function QTip(target,options,id,attr){this.id=id;this.target=target;this.tooltip=NULL;this.elements={target:target};this._id=NAMESPACE+'-'+id;this.timers={img:{}};this.options=options;this.plugins={};this.cache={event:{},target:$(),disabled:FALSE,attr:attr,onTooltip:FALSE,lastClass:''};this.rendered=this.destroyed=this.disabled=this.waiting=this.hiddenDuringWait=this.positioning=this.triggering=FALSE}
PROTOTYPE=QTip.prototype;PROTOTYPE._when=function(deferreds){return $.when.apply($,deferreds)};PROTOTYPE.render=function(show){if(this.rendered||this.destroyed){return this}
var self=this,options=this.options,cache=this.cache,elements=this.elements,text=options.content.text,title=options.content.title,button=options.content.button,posOptions=options.position,namespace='.'+this._id+' ',deferreds=[],tooltip;$.attr(this.target[0],'aria-describedby',this._id);cache.posClass=this._createPosClass((this.position={my:posOptions.my,at:posOptions.at}).my);this.tooltip=elements.tooltip=tooltip=$('<div/>',{'id':this._id,'class':[NAMESPACE,CLASS_DEFAULT,options.style.classes,cache.posClass].join(' '),'width':options.style.width||'','height':options.style.height||'','tracking':posOptions.target==='mouse'&&posOptions.adjust.mouse,'role':'alert','aria-live':'polite','aria-atomic':FALSE,'aria-describedby':this._id+'-content','aria-hidden':TRUE}).toggleClass(CLASS_DISABLED,this.disabled).attr(ATTR_ID,this.id).data(NAMESPACE,this).appendTo(posOptions.container).append(elements.content=$('<div />',{'class':NAMESPACE+'-content','id':this._id+'-content','aria-atomic':TRUE}));this.rendered=-1;this.positioning=TRUE;if(title){this._createTitle();if(!$.isFunction(title)){deferreds.push(this._updateTitle(title,FALSE))}}
if(button){this._createButton()}
if(!$.isFunction(text)){deferreds.push(this._updateContent(text,FALSE))}
this.rendered=TRUE;this._setWidget();$.each(PLUGINS,function(name){var instance;if(this.initialize==='render'&&(instance=this(self))){self.plugins[name]=instance}});this._unassignEvents();this._assignEvents();this._when(deferreds).then(function(){self._trigger('render');self.positioning=FALSE;if(!self.hiddenDuringWait&&(options.show.ready||show)){self.toggle(TRUE,cache.event,FALSE)}
self.hiddenDuringWait=FALSE});QTIP.api[this.id]=this;return this};PROTOTYPE.destroy=function(immediate){if(this.destroyed){return this.target}
function process(){if(this.destroyed){return}
this.destroyed=TRUE;var target=this.target,title=target.attr(oldtitle),timer;if(this.rendered){this.tooltip.stop(1,0).find('*').remove().end().remove()}
$.each(this.plugins,function(name){this.destroy&&this.destroy()});for(timer in this.timers){clearTimeout(this.timers[timer])}
target.removeData(NAMESPACE).removeAttr(ATTR_ID).removeAttr(ATTR_HAS).removeAttr('aria-describedby');if(this.options.suppress&&title){target.attr('title',title).removeAttr(oldtitle)}
this._unassignEvents();this.options=this.elements=this.cache=this.timers=this.plugins=this.mouse=NULL;delete QTIP.api[this.id]}
if((immediate!==TRUE||this.triggering==='hide')&&this.rendered){this.tooltip.one('tooltiphidden',$.proxy(process,this));!this.triggering&&this.hide()}
else{process.call(this)}
return this.target};function invalidOpt(a){return a===NULL||$.type(a)!=='object'}
function invalidContent(c){return !($.isFunction(c)||(c&&c.attr)||c.length||($.type(c)==='object'&&(c.jquery||c.then)))}
function sanitizeOptions(opts){var content,text,ajax,once;if(invalidOpt(opts)){return FALSE}
if(invalidOpt(opts.metadata)){opts.metadata={type:opts.metadata}}
if('content' in opts){content=opts.content;if(invalidOpt(content)||content.jquery||content.done){content=opts.content={text:(text=invalidContent(content)?FALSE:content)}}
else{text=content.text}
if('ajax' in content){ajax=content.ajax;once=ajax&&ajax.once!==FALSE;delete content.ajax;content.text=function(event,api){var loading=text||$(this).attr(api.options.content.attr)||'Loading...',deferred=$.ajax($.extend({},ajax,{context:api})).then(ajax.success,NULL,ajax.error).then(function(content){if(content&&once){api.set('content.text',content)}
return content},function(xhr,status,error){if(api.destroyed||xhr.status===0){return}
api.set('content.text',status+': '+error)});return !once?(api.set('content.text',loading),deferred):loading}}
if('title' in content){if($.isPlainObject(content.title)){content.button=content.title.button;content.title=content.title.text}
if(invalidContent(content.title||FALSE)){content.title=FALSE}}}
if('position' in opts&&invalidOpt(opts.position)){opts.position={my:opts.position,at:opts.position}}
if('show' in opts&&invalidOpt(opts.show)){opts.show=opts.show.jquery?{target:opts.show}:opts.show===TRUE?{ready:TRUE}:{event:opts.show}}
if('hide' in opts&&invalidOpt(opts.hide)){opts.hide=opts.hide.jquery?{target:opts.hide}:{event:opts.hide}}
if('style' in opts&&invalidOpt(opts.style)){opts.style={classes:opts.style}}
$.each(PLUGINS,function(){this.sanitize&&this.sanitize(opts)});return opts}
CHECKS=PROTOTYPE.checks={builtin:{'^id$':function(obj,o,v,prev){var id=v===TRUE?QTIP.nextid:v,new_id=NAMESPACE+'-'+id;if(id!==FALSE&&id.length>0&&!$('#'+new_id).length){this._id=new_id;if(this.rendered){this.tooltip[0].id=this._id;this.elements.content[0].id=this._id+'-content';this.elements.title[0].id=this._id+'-title'}}
else{obj[o]=prev}},'^prerender':function(obj,o,v){v&&!this.rendered&&this.render(this.options.show.ready)},'^content.text$':function(obj,o,v){this._updateContent(v)},'^content.attr$':function(obj,o,v,prev){if(this.options.content.text===this.target.attr(prev)){this._updateContent(this.target.attr(v))}},'^content.title$':function(obj,o,v){if(!v){return this._removeTitle()}
v&&!this.elements.title&&this._createTitle();this._updateTitle(v)},'^content.button$':function(obj,o,v){this._updateButton(v)},'^content.title.(text|button)$':function(obj,o,v){this.set('content.'+o,v)},'^position.(my|at)$':function(obj,o,v){'string'===typeof v&&(this.position[o]=obj[o]=new CORNER(v,o==='at'))},'^position.container$':function(obj,o,v){this.rendered&&this.tooltip.appendTo(v)},'^show.ready$':function(obj,o,v){v&&(!this.rendered&&this.render(TRUE)||this.toggle(TRUE))},'^style.classes$':function(obj,o,v,p){this.rendered&&this.tooltip.removeClass(p).addClass(v)},'^style.(width|height)':function(obj,o,v){this.rendered&&this.tooltip.css(o,v)},'^style.widget|content.title':function(){this.rendered&&this._setWidget()},'^style.def':function(obj,o,v){this.rendered&&this.tooltip.toggleClass(CLASS_DEFAULT,!!v)},'^events.(render|show|move|hide|focus|blur)$':function(obj,o,v){this.rendered&&this.tooltip[($.isFunction(v)?'':'un')+'bind']('tooltip'+o,v)},'^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)':function(){if(!this.rendered){return}
var posOptions=this.options.position;this.tooltip.attr('tracking',posOptions.target==='mouse'&&posOptions.adjust.mouse);this._unassignEvents();this._assignEvents()}}};function convertNotation(options,notation){var i=0,obj,option=options,levels=notation.split('.');while(option=option[levels[i++]]){if(i<levels.length){obj=option}}
return[obj||options,levels.pop()]}
PROTOTYPE.get=function(notation){if(this.destroyed){return this}
var o=convertNotation(this.options,notation.toLowerCase()),result=o[0][o[1]];return result.precedance?result.string():result};function setCallback(notation,args){var category,rule,match;for(category in this.checks){for(rule in this.checks[category]){if(match=(new RegExp(rule,'i')).exec(notation)){args.push(match);if(category==='builtin'||this.plugins[category]){this.checks[category][rule].apply(this.plugins[category]||this,args)}}}}}
var rmove=/^position\.(my|at|adjust|target|container|viewport)|style|content|show\.ready/i,rrender=/^prerender|show\.ready/i;PROTOTYPE.set=function(option,value){if(this.destroyed){return this}
var rendered=this.rendered,reposition=FALSE,options=this.options,checks=this.checks,name;if('string'===typeof option){name=option;option={};option[name]=value}
else{option=$.extend({},option)}
$.each(option,function(notation,value){if(rendered&&rrender.test(notation)){delete option[notation];return}
var obj=convertNotation(options,notation.toLowerCase()),previous;previous=obj[0][obj[1]];obj[0][obj[1]]=value&&value.nodeType?$(value):value;reposition=rmove.test(notation)||reposition;option[notation]=[obj[0],obj[1],value,previous]});sanitizeOptions(options);this.positioning=TRUE;$.each(option,$.proxy(setCallback,this));this.positioning=FALSE;if(this.rendered&&this.tooltip[0].offsetWidth>0&&reposition){this.reposition(options.position.target==='mouse'?NULL:this.cache.event)}
return this};PROTOTYPE._update=function(content,element,reposition){var self=this,cache=this.cache;if(!this.rendered||!content){return FALSE}
if($.isFunction(content)){content=content.call(this.elements.target,cache.event,this)||''}
if($.isFunction(content.then)){cache.waiting=TRUE;return content.then(function(c){cache.waiting=FALSE;return self._update(c,element)},NULL,function(e){return self._update(e,element)})}
if(content===FALSE||(!content&&content!=='')){return FALSE}
if(content.jquery&&content.length>0){element.empty().append(content.css({display:'block',visibility:'visible'}))}
else{element.html(content)}
return this._waitForContent(element).then(function(images){if(self.rendered&&self.tooltip[0].offsetWidth>0){self.reposition(cache.event,!images.length)}})};PROTOTYPE._waitForContent=function(element){var cache=this.cache;cache.waiting=TRUE;return($.fn.imagesLoaded?element.imagesLoaded():$.Deferred().resolve([])).done(function(){cache.waiting=FALSE}).promise()};PROTOTYPE._updateContent=function(content,reposition){this._update(content,this.elements.content,reposition)};PROTOTYPE._updateTitle=function(content,reposition){if(this._update(content,this.elements.title,reposition)===FALSE){this._removeTitle(FALSE)}};PROTOTYPE._createTitle=function(){var elements=this.elements,id=this._id+'-title';if(elements.titlebar){this._removeTitle()}
elements.titlebar=$('<div />',{'class':NAMESPACE+'-titlebar '+(this.options.style.widget?createWidgetClass('header'):'')}).append(elements.title=$('<div />',{'id':id,'class':NAMESPACE+'-title','aria-atomic':TRUE})).insertBefore(elements.content).delegate('.qtip-close','mousedown keydown mouseup keyup mouseout',function(event){$(this).toggleClass('ui-state-active ui-state-focus',event.type.substr(-4)==='down')}).delegate('.qtip-close','mouseover mouseout',function(event){$(this).toggleClass('ui-state-hover',event.type==='mouseover')});if(this.options.content.button){this._createButton()}};PROTOTYPE._removeTitle=function(reposition){var elements=this.elements;if(elements.title){elements.titlebar.remove();elements.titlebar=elements.title=elements.button=NULL;if(reposition!==FALSE){this.reposition()}}};PROTOTYPE._createPosClass=function(my){return NAMESPACE+'-pos-'+(my||this.options.position.my).abbrev()};PROTOTYPE.reposition=function(event,effect){if(!this.rendered||this.positioning||this.destroyed){return this}
this.positioning=TRUE;var cache=this.cache,tooltip=this.tooltip,posOptions=this.options.position,target=posOptions.target,my=posOptions.my,at=posOptions.at,viewport=posOptions.viewport,container=posOptions.container,adjust=posOptions.adjust,method=adjust.method.split(' '),tooltipWidth=tooltip.outerWidth(FALSE),tooltipHeight=tooltip.outerHeight(FALSE),targetWidth=0,targetHeight=0,type=tooltip.css('position'),position={left:0,top:0},visible=tooltip[0].offsetWidth>0,isScroll=event&&event.type==='scroll',win=$(window),doc=container[0].ownerDocument,mouse=this.mouse,pluginCalculations,offset,adjusted,newClass;if($.isArray(target)&&target.length===2){at={x:LEFT,y:TOP};position={left:target[0],top:target[1]}}
else if(target==='mouse'){at={x:LEFT,y:TOP};if((!adjust.mouse||this.options.hide.distance)&&cache.origin&&cache.origin.pageX){event=cache.origin}
else if(!event||(event&&(event.type==='resize'||event.type==='scroll'))){event=cache.event}
else if(mouse&&mouse.pageX){event=mouse}
if(type!=='static'){position=container.offset()}
if(doc.body.offsetWidth!==(window.innerWidth||doc.documentElement.clientWidth)){offset=$(document.body).offset()}
position={left:event.pageX-position.left+(offset&&offset.left||0),top:event.pageY-position.top+(offset&&offset.top||0)};if(adjust.mouse&&isScroll&&mouse){position.left-=(mouse.scrollX||0)-win.scrollLeft();position.top-=(mouse.scrollY||0)-win.scrollTop()}}
else{if(target==='event'){if(event&&event.target&&event.type!=='scroll'&&event.type!=='resize'){cache.target=$(event.target)}
else if(!event.target){cache.target=this.elements.target}}
else if(target!=='event'){cache.target=$(target.jquery?target:this.elements.target)}
target=cache.target;target=$(target).eq(0);if(target.length===0){return this}
else if(target[0]===document||target[0]===window){targetWidth=BROWSER.iOS?window.innerWidth:target.width();targetHeight=BROWSER.iOS?window.innerHeight:target.height();if(target[0]===window){position={top:(viewport||target).scrollTop(),left:(viewport||target).scrollLeft()}}}
else if(PLUGINS.imagemap&&target.is('area')){pluginCalculations=PLUGINS.imagemap(this,target,at,PLUGINS.viewport?method:FALSE)}
else if(PLUGINS.svg&&target&&target[0].ownerSVGElement){pluginCalculations=PLUGINS.svg(this,target,at,PLUGINS.viewport?method:FALSE)}
else{targetWidth=target.outerWidth(FALSE);targetHeight=target.outerHeight(FALSE);position=target.offset()}
if(pluginCalculations){targetWidth=pluginCalculations.width;targetHeight=pluginCalculations.height;offset=pluginCalculations.offset;position=pluginCalculations.position}
position=this.reposition.offset(target,position,container);if((BROWSER.iOS>3.1&&BROWSER.iOS<4.1)||(BROWSER.iOS>=4.3&&BROWSER.iOS<4.33)||(!BROWSER.iOS&&type==='fixed')){position.left-=win.scrollLeft();position.top-=win.scrollTop()}
if(!pluginCalculations||(pluginCalculations&&pluginCalculations.adjustable!==FALSE)){position.left+=at.x===RIGHT?targetWidth:at.x===CENTER?targetWidth/2:0;position.top+=at.y===BOTTOM?targetHeight:at.y===CENTER?targetHeight/2:0}}
position.left+=adjust.x+(my.x===RIGHT?-tooltipWidth:my.x===CENTER?-tooltipWidth/2:0);position.top+=adjust.y+(my.y===BOTTOM?-tooltipHeight:my.y===CENTER?-tooltipHeight/2:0);if(PLUGINS.viewport){adjusted=position.adjusted=PLUGINS.viewport(this,position,posOptions,targetWidth,targetHeight,tooltipWidth,tooltipHeight);if(offset&&adjusted.left){position.left+=offset.left}
if(offset&&adjusted.top){position.top+=offset.top}
if(adjusted.my){this.position.my=adjusted.my}}
else{position.adjusted={left:0,top:0}}
if(cache.posClass!==(newClass=this._createPosClass(this.position.my))){tooltip.removeClass(cache.posClass).addClass((cache.posClass=newClass))}
if(!this._trigger('move',[position,viewport.elem||viewport],event)){return this}
delete position.adjusted;if(effect===FALSE||!visible||isNaN(position.left)||isNaN(position.top)||target==='mouse'||!$.isFunction(posOptions.effect)){tooltip.css(position)}
else if($.isFunction(posOptions.effect)){posOptions.effect.call(tooltip,this,$.extend({},position));tooltip.queue(function(next){$(this).css({opacity:'',height:''});if(BROWSER.ie){this.style.removeAttribute('filter')}
next()})}
this.positioning=FALSE;return this};PROTOTYPE.reposition.offset=function(elem,pos,container){if(!container[0]){return pos}
var ownerDocument=$(elem[0].ownerDocument),quirks=!!BROWSER.ie&&document.compatMode!=='CSS1Compat',parent=container[0],scrolled,position,parentOffset,overflow;function scroll(e,i){pos.left+=i*e.scrollLeft();pos.top+=i*e.scrollTop()}
do{if((position=$.css(parent,'position'))!=='static'){if(position==='fixed'){parentOffset=parent.getBoundingClientRect();scroll(ownerDocument,-1)}
else{parentOffset=$(parent).position();parentOffset.left+=(parseFloat($.css(parent,'borderLeftWidth'))||0);parentOffset.top+=(parseFloat($.css(parent,'borderTopWidth'))||0)}
pos.left-=parentOffset.left+(parseFloat($.css(parent,'marginLeft'))||0);pos.top-=parentOffset.top+(parseFloat($.css(parent,'marginTop'))||0);if(!scrolled&&(overflow=$.css(parent,'overflow'))!=='hidden'&&overflow!=='visible'){scrolled=$(parent)}}}
while((parent=parent.offsetParent));if(scrolled&&(scrolled[0]!==ownerDocument[0]||quirks)){scroll(scrolled,1)}
return pos};var C=(CORNER=PROTOTYPE.reposition.Corner=function(corner,forceY){corner=(''+corner).replace(/([A-Z])/,' $1').replace(/middle/gi,CENTER).toLowerCase();this.x=(corner.match(/left|right/i)||corner.match(/center/)||['inherit'])[0].toLowerCase();this.y=(corner.match(/top|bottom|center/i)||['inherit'])[0].toLowerCase();this.forceY=!!forceY;var f=corner.charAt(0);this.precedance=(f==='t'||f==='b'?Y:X)}).prototype;C.invert=function(z,center){this[z]=this[z]===LEFT?RIGHT:this[z]===RIGHT?LEFT:center||this[z]};C.string=function(join){var x=this.x,y=this.y;var result=x!==y?(x==='center'||y!=='center'&&(this.precedance===Y||this.forceY)?[y,x]:[x,y]):[x];return join!==!1?result.join(' '):result};C.abbrev=function(){var result=this.string(!1);return result[0].charAt(0)+(result[1]&&result[1].charAt(0)||'')};C.clone=function(){return new CORNER(this.string(),this.forceY)};PROTOTYPE.toggle=function(state,event){var cache=this.cache,options=this.options,tooltip=this.tooltip;if(event){if((/over|enter/).test(event.type)&&cache.event&&(/out|leave/).test(cache.event.type)&&options.show.target.add(event.target).length===options.show.target.length&&tooltip.has(event.relatedTarget).length){return this}
cache.event=$.event.fix(event)}
this.waiting&&!state&&(this.hiddenDuringWait=TRUE);if(!this.rendered){return state?this.render(1):this}
else if(this.destroyed||this.disabled){return this}
var type=state?'show':'hide',opts=this.options[type],otherOpts=this.options[!state?'show':'hide'],posOptions=this.options.position,contentOptions=this.options.content,width=this.tooltip.css('width'),visible=this.tooltip.is(':visible'),animate=state||opts.target.length===1,sameTarget=!event||opts.target.length<2||cache.target[0]===event.target,identicalState,allow,showEvent,delay,after;if((typeof state).search('boolean|number')){state=!visible}
identicalState=!tooltip.is(':animated')&&visible===state&&sameTarget;allow=!identicalState?!!this._trigger(type,[90]):NULL;if(this.destroyed){return this}
if(allow!==FALSE&&state){this.focus(event)}
if(!allow||identicalState){return this}
$.attr(tooltip[0],'aria-hidden',!!!state);if(state){this.mouse&&(cache.origin=$.event.fix(this.mouse));if($.isFunction(contentOptions.text)){this._updateContent(contentOptions.text,FALSE)}
if($.isFunction(contentOptions.title)){this._updateTitle(contentOptions.title,FALSE)}
if(!trackingBound&&posOptions.target==='mouse'&&posOptions.adjust.mouse){$(document).bind('mousemove.'+NAMESPACE,this._storeMouse);trackingBound=TRUE}
if(!width){tooltip.css('width',tooltip.outerWidth(FALSE))}
this.reposition(event,arguments[2]);if(!width){tooltip.css('width','')}
if(!!opts.solo){(typeof opts.solo==='string'?$(opts.solo):$(SELECTOR,opts.solo)).not(tooltip).not(opts.target).qtip('hide',$.Event('tooltipsolo'))}}
else{clearTimeout(this.timers.show);delete cache.origin;if(trackingBound&&!$(SELECTOR+'[tracking="true"]:visible',opts.solo).not(tooltip).length){$(document).unbind('mousemove.'+NAMESPACE);trackingBound=FALSE}
this.blur(event)}
after=$.proxy(function(){if(state){if(BROWSER.ie){tooltip[0].style.removeAttribute('filter')}
tooltip.css('overflow','');if('string'===typeof opts.autofocus){$(this.options.show.autofocus,tooltip).focus()}
this.options.show.target.trigger('qtip-'+this.id+'-inactive')}
else{tooltip.css({display:'',visibility:'',opacity:'',left:'',top:''})}
this._trigger(state?'visible':'hidden')},this);if(opts.effect===FALSE||animate===FALSE){tooltip[type]();after()}
else if($.isFunction(opts.effect)){tooltip.stop(1,1);opts.effect.call(tooltip,this);tooltip.queue('fx',function(n){after();n()})}
else{tooltip.fadeTo(90,state?1:0,after)}
if(state){opts.target.trigger('qtip-'+this.id+'-inactive')}
return this};PROTOTYPE.show=function(event){return this.toggle(TRUE,event)};PROTOTYPE.hide=function(event){return this.toggle(FALSE,event)};PROTOTYPE.focus=function(event){if(!this.rendered||this.destroyed){return this}
var qtips=$(SELECTOR),tooltip=this.tooltip,curIndex=parseInt(tooltip[0].style.zIndex,10),newIndex=QTIP.zindex+qtips.length,focusedElem;if(!tooltip.hasClass(CLASS_FOCUS)){if(this._trigger('focus',[newIndex],event)){if(curIndex!==newIndex){qtips.each(function(){if(this.style.zIndex>curIndex){this.style.zIndex=this.style.zIndex-1}});qtips.filter('.'+CLASS_FOCUS).qtip('blur',event)}
tooltip.addClass(CLASS_FOCUS)[0].style.zIndex=newIndex}}
return this};PROTOTYPE.blur=function(event){if(!this.rendered||this.destroyed){return this}
this.tooltip.removeClass(CLASS_FOCUS);this._trigger('blur',[this.tooltip.css('zIndex')],event);return this};PROTOTYPE.disable=function(state){if(this.destroyed){return this}
if(state==='toggle'){state=!(this.rendered?this.tooltip.hasClass(CLASS_DISABLED):this.disabled)}
else if('boolean'!==typeof state){state=TRUE}
if(this.rendered){this.tooltip.toggleClass(CLASS_DISABLED,state).attr('aria-disabled',state)}
this.disabled=!!state;return this};PROTOTYPE.enable=function(){return this.disable(FALSE)};PROTOTYPE._createButton=function(){var self=this,elements=this.elements,tooltip=elements.tooltip,button=this.options.content.button,isString=typeof button==='string',close=isString?button:'Close tooltip';if(elements.button){elements.button.remove()}
if(button.jquery){elements.button=button}
else{elements.button=$('<a />',{'class':'qtip-close '+(this.options.style.widget?'':NAMESPACE+'-icon'),'title':close,'aria-label':close}).prepend($('<span />',{'class':'ui-icon ui-icon-close','html':'&times;'}))}
elements.button.appendTo(elements.titlebar||tooltip).attr('role','button').click(function(event){if(!tooltip.hasClass(CLASS_DISABLED)){self.hide(event)}
return FALSE})};PROTOTYPE._updateButton=function(button){if(!this.rendered){return FALSE}
var elem=this.elements.button;if(button){this._createButton()}
else{elem.remove()}};function createWidgetClass(cls){return WIDGET.concat('').join(cls?'-'+cls+' ':' ')}
PROTOTYPE._setWidget=function(){var on=this.options.style.widget,elements=this.elements,tooltip=elements.tooltip,disabled=tooltip.hasClass(CLASS_DISABLED);tooltip.removeClass(CLASS_DISABLED);CLASS_DISABLED=on?'ui-state-disabled':'qtip-disabled';tooltip.toggleClass(CLASS_DISABLED,disabled);tooltip.toggleClass('ui-helper-reset '+createWidgetClass(),on).toggleClass(CLASS_DEFAULT,this.options.style.def&&!on);if(elements.content){elements.content.toggleClass(createWidgetClass('content'),on)}
if(elements.titlebar){elements.titlebar.toggleClass(createWidgetClass('header'),on)}
if(elements.button){elements.button.toggleClass(NAMESPACE+'-icon',!on)}};function delay(callback,duration){if(duration>0){return setTimeout($.proxy(callback,this),duration)}
else{callback.call(this)}}
function showMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED)){return}
clearTimeout(this.timers.show);clearTimeout(this.timers.hide);this.timers.show=delay.call(this,function(){this.toggle(TRUE,event)},this.options.show.delay)}
function hideMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED)||this.destroyed){return}
var relatedTarget=$(event.relatedTarget),ontoTooltip=relatedTarget.closest(SELECTOR)[0]===this.tooltip[0],ontoTarget=relatedTarget[0]===this.options.show.target[0];clearTimeout(this.timers.show);clearTimeout(this.timers.hide);if(this!==relatedTarget[0]&&(this.options.position.target==='mouse'&&ontoTooltip)||(this.options.hide.fixed&&((/mouse(out|leave|move)/).test(event.type)&&(ontoTooltip||ontoTarget)))){try{event.preventDefault();event.stopImmediatePropagation()}catch(e){}
return}
this.timers.hide=delay.call(this,function(){this.toggle(FALSE,event)},this.options.hide.delay,this)}
function inactiveMethod(event){if(this.tooltip.hasClass(CLASS_DISABLED)||!this.options.hide.inactive){return}
clearTimeout(this.timers.inactive);this.timers.inactive=delay.call(this,function(){this.hide(event)},this.options.hide.inactive)}
function repositionMethod(event){if(this.rendered&&this.tooltip[0].offsetWidth>0){this.reposition(event)}}
PROTOTYPE._storeMouse=function(event){(this.mouse=$.event.fix(event)).type='mousemove';return this};PROTOTYPE._bind=function(targets,events,method,suffix,context){if(!targets||!method||!events.length){return}
var ns='.'+this._id+(suffix?'-'+suffix:'');$(targets).bind((events.split?events:events.join(ns+' '))+ns,$.proxy(method,context||this));return this};PROTOTYPE._unbind=function(targets,suffix){targets&&$(targets).unbind('.'+this._id+(suffix?'-'+suffix:''));return this};function delegate(selector,events,method){$(document.body).delegate(selector,(events.split?events:events.join('.'+NAMESPACE+' '))+'.'+NAMESPACE,function(){var api=QTIP.api[$.attr(this,ATTR_ID)];api&&!api.disabled&&method.apply(api,arguments)})}
PROTOTYPE._trigger=function(type,args,event){var callback=$.Event('tooltip'+type);callback.originalEvent=(event&&$.extend({},event))||this.cache.event||NULL;this.triggering=type;this.tooltip.trigger(callback,[this].concat(args||[]));this.triggering=FALSE;return !callback.isDefaultPrevented()};PROTOTYPE._bindEvents=function(showEvents,hideEvents,showTargets,hideTargets,showMethod,hideMethod){var similarTargets=showTargets.filter(hideTargets).add(hideTargets.filter(showTargets)),toggleEvents=[];if(similarTargets.length){$.each(hideEvents,function(i,type){var showIndex=$.inArray(type,showEvents);showIndex>-1&&toggleEvents.push(showEvents.splice(showIndex,1)[0])});if(toggleEvents.length){this._bind(similarTargets,toggleEvents,function(event){var state=this.rendered?this.tooltip[0].offsetWidth>0:!1;(state?hideMethod:showMethod).call(this,event)});showTargets=showTargets.not(similarTargets);hideTargets=hideTargets.not(similarTargets)}}
this._bind(showTargets,showEvents,showMethod);this._bind(hideTargets,hideEvents,hideMethod)};PROTOTYPE._assignInitialEvents=function(event){var options=this.options,showTarget=options.show.target,hideTarget=options.hide.target,showEvents=options.show.event?$.trim(''+options.show.event).split(' '):[],hideEvents=options.hide.event?$.trim(''+options.hide.event).split(' '):[];this._bind(this.elements.target,['remove','removeqtip'],function(event){this.destroy(!0)},'destroy');if(/mouse(over|enter)/i.test(options.show.event)&&!/mouse(out|leave)/i.test(options.hide.event)){hideEvents.push('mouseleave')}
this._bind(showTarget,'mousemove',function(event){this._storeMouse(event);this.cache.onTarget=TRUE});function hoverIntent(event){if(this.disabled||this.destroyed){return FALSE}
this.cache.event=event&&$.event.fix(event);this.cache.target=event&&$(event.target);clearTimeout(this.timers.show);this.timers.show=delay.call(this,function(){this.render(typeof event==='object'||options.show.ready)},options.prerender?0:options.show.delay)}
this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,hoverIntent,function(){if(!this.timers){return FALSE}
clearTimeout(this.timers.show)});if(options.show.ready||options.prerender){hoverIntent.call(this,event)}};PROTOTYPE._assignEvents=function(){var self=this,options=this.options,posOptions=options.position,tooltip=this.tooltip,showTarget=options.show.target,hideTarget=options.hide.target,containerTarget=posOptions.container,viewportTarget=posOptions.viewport,documentTarget=$(document),bodyTarget=$(document.body),windowTarget=$(window),showEvents=options.show.event?$.trim(''+options.show.event).split(' '):[],hideEvents=options.hide.event?$.trim(''+options.hide.event).split(' '):[];$.each(options.events,function(name,callback){self._bind(tooltip,name==='toggle'?['tooltipshow','tooltiphide']:['tooltip'+name],callback,null,tooltip)});if(/mouse(out|leave)/i.test(options.hide.event)&&options.hide.leave==='window'){this._bind(documentTarget,['mouseout','blur'],function(event){if(!/select|option/.test(event.target.nodeName)&&!event.relatedTarget){this.hide(event)}})}
if(options.hide.fixed){hideTarget=hideTarget.add(tooltip.addClass(CLASS_FIXED))}
else if(/mouse(over|enter)/i.test(options.show.event)){this._bind(hideTarget,'mouseleave',function(){clearTimeout(this.timers.show)})}
if((''+options.hide.event).indexOf('unfocus')>-1){this._bind(containerTarget.closest('html'),['mousedown','touchstart'],function(event){var elem=$(event.target),enabled=this.rendered&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0,isAncestor=elem.parents(SELECTOR).filter(this.tooltip[0]).length>0;if(elem[0]!==this.target[0]&&elem[0]!==this.tooltip[0]&&!isAncestor&&!this.target.has(elem[0]).length&&enabled){this.hide(event)}})}
if('number'===typeof options.hide.inactive){this._bind(showTarget,'qtip-'+this.id+'-inactive',inactiveMethod,'inactive');this._bind(hideTarget.add(tooltip),QTIP.inactiveEvents,inactiveMethod)}
this._bindEvents(showEvents,hideEvents,showTarget,hideTarget,showMethod,hideMethod);this._bind(showTarget.add(tooltip),'mousemove',function(event){if('number'===typeof options.hide.distance){var origin=this.cache.origin||{},limit=this.options.hide.distance,abs=Math.abs;if(abs(event.pageX-origin.pageX)>=limit||abs(event.pageY-origin.pageY)>=limit){this.hide(event)}}
this._storeMouse(event)});if(posOptions.target==='mouse'){if(posOptions.adjust.mouse){if(options.hide.event){this._bind(showTarget,['mouseenter','mouseleave'],function(event){if(!this.cache){return FALSE}
this.cache.onTarget=event.type==='mouseenter'})}
this._bind(documentTarget,'mousemove',function(event){if(this.rendered&&this.cache.onTarget&&!this.tooltip.hasClass(CLASS_DISABLED)&&this.tooltip[0].offsetWidth>0){this.reposition(event)}})}}
if(posOptions.adjust.resize||viewportTarget.length){this._bind($.event.special.resize?viewportTarget:windowTarget,'resize',repositionMethod)}
if(posOptions.adjust.scroll){this._bind(windowTarget.add(posOptions.container),'scroll',repositionMethod)}};PROTOTYPE._unassignEvents=function(){var options=this.options,showTargets=options.show.target,hideTargets=options.hide.target,targets=$.grep([this.elements.target[0],this.rendered&&this.tooltip[0],options.position.container[0],options.position.viewport[0],options.position.container.closest('html')[0],window,document],function(i){return typeof i==='object'});if(showTargets&&showTargets.toArray){targets=targets.concat(showTargets.toArray())}
if(hideTargets&&hideTargets.toArray){targets=targets.concat(hideTargets.toArray())}
this._unbind(targets)._unbind(targets,'destroy')._unbind(targets,'inactive')};$(function(){delegate(SELECTOR,['mouseenter','mouseleave'],function(event){var state=event.type==='mouseenter',tooltip=$(event.currentTarget),target=$(event.relatedTarget||event.target),options=this.options;if(state){this.focus(event);tooltip.hasClass(CLASS_FIXED)&&!tooltip.hasClass(CLASS_DISABLED)&&clearTimeout(this.timers.hide)}
else{if(options.position.target==='mouse'&&options.position.adjust.mouse&&options.hide.event&&options.show.target&&!target.closest(options.show.target[0]).length){this.hide(event)}}
tooltip.toggleClass(CLASS_HOVER,state)});delegate('['+ATTR_ID+']',INACTIVE_EVENTS,inactiveMethod)});function init(elem,id,opts){var obj,posOptions,attr,config,title,docBody=$(document.body),newTarget=elem[0]===document?docBody:elem,metadata=(elem.metadata)?elem.metadata(opts.metadata):NULL,metadata5=opts.metadata.type==='html5'&&metadata?metadata[opts.metadata.name]:NULL,html5=elem.data(opts.metadata.name||'qtipopts');try{html5=typeof html5==='string'?$.parseJSON(html5):html5}catch(e){}
config=$.extend(TRUE,{},QTIP.defaults,opts,typeof html5==='object'?sanitizeOptions(html5):NULL,sanitizeOptions(metadata5||metadata));posOptions=config.position;config.id=id;if('boolean'===typeof config.content.text){attr=elem.attr(config.content.attr);if(config.content.attr!==FALSE&&attr){config.content.text=attr}
else{return FALSE}}
if(!posOptions.container.length){posOptions.container=docBody}
if(posOptions.target===FALSE){posOptions.target=newTarget}
if(config.show.target===FALSE){config.show.target=newTarget}
if(config.show.solo===TRUE){config.show.solo=posOptions.container.closest('body')}
if(config.hide.target===FALSE){config.hide.target=newTarget}
if(config.position.viewport===TRUE){config.position.viewport=posOptions.container}
posOptions.container=posOptions.container.eq(0);posOptions.at=new CORNER(posOptions.at,TRUE);posOptions.my=new CORNER(posOptions.my);if(elem.data(NAMESPACE)){if(config.overwrite){elem.qtip('destroy',!0)}
else if(config.overwrite===FALSE){return FALSE}}
elem.attr(ATTR_HAS,id);if(config.suppress&&(title=elem.attr('title'))){elem.removeAttr('title').attr(oldtitle,title).attr('title','')}
obj=new QTip(elem,config,id,!!attr);elem.data(NAMESPACE,obj);return obj}
QTIP=$.fn.qtip=function(options,notation,newValue){var command=(''+options).toLowerCase(),returned=NULL,args=$.makeArray(arguments).slice(1),event=args[args.length-1],opts=this[0]?$.data(this[0],NAMESPACE):NULL;if((!arguments.length&&opts)||command==='api'){return opts}
else if('string'===typeof options){this.each(function(){var api=$.data(this,NAMESPACE);if(!api){return TRUE}
if(event&&event.timeStamp){api.cache.event=event}
if(notation&&(command==='option'||command==='options')){if(newValue!==undefined||$.isPlainObject(notation)){api.set(notation,newValue)}
else{returned=api.get(notation);return FALSE}}
else if(api[command]){api[command].apply(api,args)}});return returned!==NULL?returned:this}
else if('object'===typeof options||!arguments.length){opts=sanitizeOptions($.extend(TRUE,{},options));return this.each(function(i){var api,id;id=$.isArray(opts.id)?opts.id[i]:opts.id;id=!id||id===FALSE||id.length<1||QTIP.api[id]?QTIP.nextid++:id;api=init($(this),id,opts);if(api===FALSE){return TRUE}
else{QTIP.api[id]=api}
$.each(PLUGINS,function(){if(this.initialize==='initialize'){this(api)}});api._assignInitialEvents(event)})}};$.qtip=QTip;QTIP.api={};$.each({attr:function(attr,val){if(this.length){var self=this[0],title='title',api=$.data(self,'qtip');if(attr===title&&api&&'object'===typeof api&&api.options.suppress){if(arguments.length<2){return $.attr(self,oldtitle)}
if(api&&api.options.content.attr===title&&api.cache.attr){api.set('content.text',val)}
return this.attr(oldtitle,val)}}
return $.fn['attr'+replaceSuffix].apply(this,arguments)},clone:function(keepData){var titles=$([]),title='title',elems=$.fn['clone'+replaceSuffix].apply(this,arguments);if(!keepData){elems.filter('['+oldtitle+']').attr('title',function(){return $.attr(this,oldtitle)}).removeAttr(oldtitle)}
return elems}},function(name,func){if(!func||$.fn[name+replaceSuffix]){return TRUE}
var old=$.fn[name+replaceSuffix]=$.fn[name];$.fn[name]=function(){return func.apply(this,arguments)||old.apply(this,arguments)}});if(!$.ui){$['cleanData'+replaceSuffix]=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=$(elems[i])).length;i++){if(elem.attr(ATTR_HAS)){try{elem.triggerHandler('removeqtip')}
catch(e){}}}
$['cleanData'+replaceSuffix].apply(this,arguments)}};QTIP.version='2.2.1';QTIP.nextid=0;QTIP.inactiveEvents=INACTIVE_EVENTS;QTIP.zindex=15000;QTIP.defaults={prerender:FALSE,id:FALSE,overwrite:TRUE,suppress:TRUE,content:{text:TRUE,attr:'title',title:FALSE,button:FALSE},position:{my:'top left',at:'bottom right',target:FALSE,container:FALSE,viewport:FALSE,adjust:{x:0,y:0,mouse:TRUE,scroll:TRUE,resize:TRUE,method:'flipinvert flipinvert'},effect:function(api,pos,viewport){$(this).animate(pos,{duration:200,queue:FALSE})}},show:{target:FALSE,event:'mouseenter',effect:TRUE,delay:90,solo:FALSE,ready:FALSE,autofocus:FALSE},hide:{target:FALSE,event:'mouseleave',effect:TRUE,delay:0,fixed:FALSE,inactive:FALSE,leave:'window',distance:FALSE},style:{classes:'',widget:FALSE,width:FALSE,height:FALSE,def:TRUE},events:{render:NULL,move:NULL,show:NULL,hide:NULL,toggle:NULL,visible:NULL,hidden:NULL,focus:NULL,blur:NULL}};PLUGINS.viewport=function(api,position,posOptions,targetWidth,targetHeight,elemWidth,elemHeight){var target=posOptions.target,tooltip=api.elements.tooltip,my=posOptions.my,at=posOptions.at,adjust=posOptions.adjust,method=adjust.method.split(' '),methodX=method[0],methodY=method[1]||method[0],viewport=posOptions.viewport,container=posOptions.container,cache=api.cache,adjusted={left:0,top:0},fixed,newMy,containerOffset,containerStatic,viewportWidth,viewportHeight,viewportScroll,viewportOffset;if(!viewport.jquery||target[0]===window||target[0]===document.body||adjust.method==='none'){return adjusted}
containerOffset=container.offset()||adjusted;containerStatic=container.css('position')==='static';fixed=tooltip.css('position')==='fixed';viewportWidth=viewport[0]===window?viewport.width():viewport.outerWidth(FALSE);viewportHeight=viewport[0]===window?viewport.height():viewport.outerHeight(FALSE);viewportScroll={left:fixed?0:viewport.scrollLeft(),top:fixed?0:viewport.scrollTop()};viewportOffset=viewport.offset()||adjusted;function calculate(side,otherSide,type,adjust,side1,side2,lengthName,targetLength,elemLength){var initialPos=position[side1],mySide=my[side],atSide=at[side],isShift=type===SHIFT,myLength=mySide===side1?elemLength:mySide===side2?-elemLength:-elemLength/2,atLength=atSide===side1?targetLength:atSide===side2?-targetLength:-targetLength/2,sideOffset=viewportScroll[side1]+viewportOffset[side1]-(containerStatic?0:containerOffset[side1]),overflow1=sideOffset-initialPos,overflow2=initialPos+elemLength-(lengthName===WIDTH?viewportWidth:viewportHeight)-sideOffset,offset=myLength-(my.precedance===side||mySide===my[otherSide]?atLength:0)-(atSide===CENTER?targetLength/2:0);if(isShift){offset=(mySide===side1?1:-1)*myLength;position[side1]+=overflow1>0?overflow1:overflow2>0?-overflow2:0;position[side1]=Math.max(-containerOffset[side1]+viewportOffset[side1],initialPos-offset,Math.min(Math.max(-containerOffset[side1]+viewportOffset[side1]+(lengthName===WIDTH?viewportWidth:viewportHeight),initialPos+offset),position[side1],mySide==='center'?initialPos-myLength:1E9))}
else{adjust*=(type===FLIPINVERT?2:0);if(overflow1>0&&(mySide!==side1||overflow2>0)){position[side1]-=offset+adjust;newMy.invert(side,side1)}
else if(overflow2>0&&(mySide!==side2||overflow1>0)){position[side1]-=(mySide===CENTER?-offset:offset)+adjust;newMy.invert(side,side2)}
if(position[side1]<viewportScroll&&-position[side1]>overflow2){position[side1]=initialPos;newMy=my.clone()}}
return position[side1]-initialPos}
if(methodX!=='shift'||methodY!=='shift'){newMy=my.clone()}
adjusted={left:methodX!=='none'?calculate(X,Y,methodX,adjust.x,LEFT,RIGHT,WIDTH,targetWidth,elemWidth):0,top:methodY!=='none'?calculate(Y,X,methodY,adjust.y,TOP,BOTTOM,HEIGHT,targetHeight,elemHeight):0,my:newMy};return adjusted}}))}(window,document));(function($){$.fn.setCursorPosition=function(pos){if(pos==-1){pos=$(this).val().length}
if($(this).get(0).setSelectionRange){$(this).get(0).setSelectionRange(pos,pos)}else if($(this).get(0).createTextRange){var range=$(this).get(0).createTextRange();range.collapse(!0);range.moveEnd('character',pos);range.moveStart('character',pos);range.select()}}})(jQuery);(function($){var
defaults={className:'autosizejs',id:'autosizejs',append:'',callback:!1,resizeDelay:10,placeholder:!0},copy='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',typographyStyles=['fontFamily','fontSize','fontWeight','fontStyle','letterSpacing','textTransform','wordSpacing','textIndent'],mirrored,mirror=$(copy).data('autosize',!0)[0];mirror.style.lineHeight='99px';if($(mirror).css('lineHeight')==='99px'){typographyStyles.push('lineHeight')}
mirror.style.lineHeight='';$.fn.autosize=function(options){if(!this.length){return this}
options=$.extend({},defaults,options||{});if(mirror.parentNode!==document.body){$(document.body).append(mirror)}
return this.each(function(){var
ta=this,$ta=$(ta),maxHeight,minHeight,boxOffset=0,callback=$.isFunction(options.callback),originalStyles={height:ta.style.height,overflow:ta.style.overflow,overflowY:ta.style.overflowY,wordWrap:ta.style.wordWrap,resize:ta.style.resize},timeout,width=$ta.width();if($ta.data('autosize')){return}
$ta.data('autosize',!0);var taHeight=$ta.height();if($ta.css('box-sizing')==='border-box'||$ta.css('-moz-box-sizing')==='border-box'||$ta.css('-webkit-box-sizing')==='border-box'){boxOffset=$ta.outerHeight()-taHeight}
minHeight=Math.max(parseInt($ta.css('minHeight'),10)-boxOffset||0,taHeight);$ta.css({overflow:'hidden',overflowY:'hidden',wordWrap:'break-word',resize:($ta.css('resize')==='none'||$ta.css('resize')==='vertical')?'none':'horizontal'});function setWidth(){var width;var style=window.getComputedStyle?window.getComputedStyle(ta,null):!1;if(style){width=ta.getBoundingClientRect().width;if(width===0){width=parseInt(style.width,10)}
$.each(['paddingLeft','paddingRight','borderLeftWidth','borderRightWidth'],function(i,val){width-=parseInt(style[val],10)})}else{width=Math.max($ta.width(),0)}
mirror.style.width=width+'px'}
function initMirror(){var styles={};mirrored=ta;mirror.className=options.className;mirror.id=options.id;maxHeight=parseInt($ta.css('maxHeight'),10);$.each(typographyStyles,function(i,val){styles[val]=$ta.css(val)});$(mirror).css(styles).attr('wrap',$ta.attr('wrap'));setWidth();if(window.chrome){var width=ta.style.width;ta.style.width='0px';var ignore=ta.offsetWidth;ta.style.width=width}}
function adjust(){var height,original;if(mirrored!==ta){initMirror()}else{setWidth()}
if(!ta.value&&options.placeholder){mirror.value=($ta.attr("placeholder")||'')+options.append}else{mirror.value=ta.value+options.append}
mirror.style.overflowY=ta.style.overflowY;original=parseInt(ta.style.height,10);mirror.scrollTop=0;mirror.scrollTop=9e4;height=mirror.scrollTop;if(maxHeight&&height>maxHeight){ta.style.overflowY='scroll';height=maxHeight}else{ta.style.overflowY='hidden';if(height<minHeight){height=minHeight}}
height+=boxOffset;if(original!==height){ta.style.height=height+'px';if(callback){options.callback.call(ta,ta)}}}
function resize(){clearTimeout(timeout);timeout=setTimeout(function(){var newWidth=$ta.width();if(newWidth!==width){width=newWidth;adjust()}},parseInt(options.resizeDelay,10))}
if('onpropertychange' in ta){if('oninput' in ta){$ta.on('input.autosize keyup.autosize',adjust)}else{$ta.on('propertychange.autosize',function(){if(event.propertyName==='value'){adjust()}})}}else{$ta.on('input.autosize',adjust)}
if(options.resizeDelay!==!1){$(window).on('resize.autosize',resize)}
$ta.on('autosize.resize',adjust);$ta.on('autosize.resizeIncludeStyle',function(){mirrored=null;adjust()});$ta.on('autosize.destroy',function(){mirrored=null;clearTimeout(timeout);$(window).off('resize',resize);$ta.off('autosize').off('.autosize').css(originalStyles).removeData('autosize')});adjust()})}}(window.jQuery||window.$));(function($){$.fn.autogrow=function(options){return this.filter('textarea').each(function(){var self=this;var $self=$(self);var minHeight=$self.height();var noFlickerPad=$self.hasClass('autogrow-short')?0:parseInt($self.css('lineHeight'))||0;var shadow=$('<div></div>').css({position:'absolute',top:-10000,left:-10000,width:$self.width(),fontSize:$self.css('fontSize'),fontFamily:$self.css('fontFamily'),fontWeight:$self.css('fontWeight'),lineHeight:$self.css('lineHeight'),resize:'none','word-wrap':'break-word'}).appendTo(document.body);var update=function(event){var times=function(string,number){for(var i=0,r='';i<number;i++)r+=string;return r};var val=self.value.replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/&/g,'&amp;').replace(/\n$/,'<br/>&nbsp;').replace(/\n/g,'<br/>').replace(/ {2,}/g,function(space){return times('&nbsp;',space.length-1)+' '});if(event&&event.data&&event.data.event==='keydown'&&event.keyCode===13){val+='<br />'}
shadow.css('width',$self.width());shadow.html(val+(noFlickerPad===0?'...':''));$self.height(Math.max(shadow.height()+noFlickerPad,minHeight))}
$self.change(update).keyup(update).keydown({event:'keydown'},update);$(window).resize(update);update()})}})(jQuery);(function(a,b){function m(a,b,c){var d=h[b.type]||{};if(a==null){return c||!b.def?null:b.def}a=d.floor?~~a:parseFloat(a);if(isNaN(a)){return b.def}if(d.mod){return(a+d.mod)%d.mod}return 0>a?0:d.max<a?d.max:a}function n(b){var c=f(),d=c._rgba=[];b=b.toLowerCase();l(e,function(a,e){var f,h=e.re.exec(b),i=h&&e.parse(h),j=e.space||"rgba";if(i){f=c[j](i);c[g[j].cache]=f[g[j].cache];d=c._rgba=f._rgba;return !1}});if(d.length){if(d.join()==="0,0,0,0"){a.extend(d,k.transparent)}return c}return k[b]}function o(a,b,c){c=(c+1)%1;if(c*6<1){return a+(b-a)*c*6}if(c*2<1){return b}if(c*3<2){return a+(b-a)*(2/3-c)*6}return a}var c="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),d=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1]*2.55,a[2]*2.55,a[3]*2.55,a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],f=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},g={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},i=f.support={},j=a("<p>")[0],k,l=a.each;j.style.cssText="background-color:rgba(1,1,1,.5)";i.rgba=j.style.backgroundColor.indexOf("rgba")>-1;l(g,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});f.fn=a.extend(f.prototype,{parse:function(c,d,e,h){if(c===b){this._rgba=[null,null,null,null];return this}if(c.jquery||c.nodeType){c=a(c).css(d);d=b}var i=this,j=a.type(c),o=this._rgba=[],p;if(d!==b){c=[c,d,e,h];j="array"}if(j==="string"){return this.parse(n(c)||k._default)}if(j==="array"){l(g.rgba.props,function(a,b){o[b.idx]=m(c[b.idx],b)});return this}if(j==="object"){if(c instanceof f){l(g,function(a,b){if(c[b.cache]){i[b.cache]=c[b.cache].slice()}})}else{l(g,function(a,b){l(b.props,function(a,d){var e=b.cache;if(!i[e]&&b.to){if(a==="alpha"||c[a]==null){return}i[e]=b.to(i._rgba)}i[e][d.idx]=m(c[a],d,!0)})})}return this}},is:function(a){var b=f(a),c=!0,d=this;l(g,function(a,e){var f,g=b[e.cache];if(g){f=d[e.cache]||e.to&&e.to(d._rgba)||[];l(e.props,function(a,b){if(g[b.idx]!=null){c=g[b.idx]===f[b.idx];return c}})}return c});return c},_space:function(){var a=[],b=this;l(g,function(c,d){if(b[d.cache]){a.push(c)}});return a.pop()},transition:function(a,b){var c=f(a),d=c._space(),e=g[d],i=this.alpha()===0?f("transparent"):this,j=i[e.cache]||e.to(i._rgba),k=j.slice();c=c[e.cache];l(e.props,function(a,d){var e=d.idx,f=j[e],g=c[e],i=h[d.type]||{};if(g===null){return}if(f===null){k[e]=g}else{if(i.mod){if(g-f>i.mod/2){f+=i.mod}else if(f-g>i.mod/2){f-=i.mod}}k[e]=m((g-f)*b+f,d)}});return this[d](k)},blend:function(b){if(this._rgba[3]===1){return this}var c=this._rgba.slice(),d=c.pop(),e=f(b)._rgba;return f(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return a==null?b>2?1:0:a});if(c[3]===1){c.pop();b="rgb("}return b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){if(a==null){a=b>2?1:0}if(b&&b<3){a=Math.round(a*100)+"%"}return a});if(c[3]===1){c.pop();b="hsl("}return b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();if(b){c.push(~~(d*255))}return"#"+a.map(c,function(a,b){a=(a||0).toString(16);return a.length===1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});f.fn.parse.prototype=f.fn;g.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/255,c=a[1]/255,d=a[2]/255,e=a[3],f=Math.max(b,c,d),g=Math.min(b,c,d),h=f-g,i=f+g,j=i*.5,k,l;if(g===f){k=0}else if(b===f){k=60*(c-d)/h+360}else if(c===f){k=60*(d-b)/h+120}else{k=60*(b-c)/h+240}if(j===0||j===1){l=j}else if(j<=.5){l=h/i}else{l=h/(2-i)}return[Math.round(k)%360,l,j,e==null?1:e]};g.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null){return[null,null,null,a[3]]}var b=a[0]/360,c=a[1],d=a[2],e=a[3],f=d<=.5?d*(1+c):d+c-d*c,g=2*d-f,h,i,j;return[Math.round(o(g,f,b+1/3)*255),Math.round(o(g,f,b)*255),Math.round(o(g,f,b-1/3)*255),e]};l(g,function(c,e){var g=e.props,h=e.cache,i=e.to,j=e.from;f.fn[c]=function(c){if(i&&!this[h]){this[h]=i(this._rgba)}if(c===b){return this[h].slice()}var d,e=a.type(c),k=e==="array"||e==="object"?c:arguments,n=this[h].slice();l(g,function(a,b){var c=k[e==="object"?a:b.idx];if(c==null){c=n[b.idx]}n[b.idx]=m(c,b)});if(j){d=f(j(n));d[h]=n;return d}else{return f(n)}};l(g,function(b,e){if(f.fn[b]){return}f.fn[b]=function(f){var g=a.type(f),h=b==="alpha"?this._hsla?"hsla":"rgba":c,i=this[h](),j=i[e.idx],k;if(g==="undefined"){return j}if(g==="function"){f=f.call(this,j);g=a.type(f)}if(f==null&&e.empty){return this}if(g==="string"){k=d.exec(f);if(k){f=j+parseFloat(k[2])*(k[1]==="+"?1:-1)}}i[e.idx]=f;return this[h](i)}})});l(c,function(b,c){a.cssHooks[c]={set:function(b,d){var e,g,h;if(a.type(d)!=="string"||(e=n(d))){d=f(e||d);if(!i.rgba&&d._rgba[3]!==1){h=c==="backgroundColor"?b.parentNode:b;do{g=a.css(h,"backgroundColor")}while((g===""||g==="transparent")&&(h=h.parentNode)&&h.style);d=d.blend(g&&g!=="transparent"?g:"_default")}d=d.toRgbaString()}try{b.style[c]=d}catch(d){}}};a.fx.step[c]=function(b){if(!b.colorInit){b.start=f(b.elem,c);b.end=f(b.end);b.colorInit=!0}a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}});k=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev])}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev])};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t)}if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob)},cfg.interval)}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob)},cfg.timeout)}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover)}})(jQuery);(function($){$.suggest=function(input,options){var $input=$(input).attr("autocomplete","off");var $results=$(document.createElement("ul"));var timeout=!1;var prevLength=0;var cache=[];var cacheSize=0;var ids={};var cursorPos=0;$results.addClass(options.resultsClass).appendTo('body');resetPosition();$(window).load(resetPosition).resize(resetPosition);$input.blur(function(){setTimeout(function(){$results.hide()},200)});try{$results.bgiframe()}catch(e){}
$input.keydown(emptyProcessKey);$input.keyup(processKey);function resetPosition(){var offset=$input.offset();$results.css({top:(offset.top+input.offsetHeight)+'px',left:offset.left+'px'})}
function emptyProcessKey(e){if(/^13$/.test(e.keyCode)&&$results.is(':visible')&&!getCurrentResult()&&typeof(wykop.params.submitOnEnter)!="undefined"&&wykop.params.submitOnEnter){$results.hide()}else if((/27$|38$|40$/.test(e.keyCode)&&$results.is(':visible'))||(/^13$|^9$/.test(e.keyCode)&&getCurrentResult())){if(e.preventDefault)
e.preventDefault();if(e.stopPropagation)
e.stopPropagation()}}
function processKey(e){if(/^13$/.test(e.keyCode)&&$results.is(':visible')&&!getCurrentResult()&&typeof(wykop.params.submitOnEnter)!="undefined"&&wykop.params.submitOnEnter){$results.hide()}else if((/27$|38$|40$/.test(e.keyCode)&&$results.is(':visible'))||(/^13$|^9$/.test(e.keyCode)&&getCurrentResult())){if(e.preventDefault)
e.preventDefault();if(e.stopPropagation)
e.stopPropagation();e.cancelBubble=!0;e.returnValue=!1;switch(e.keyCode){case 38:prevResult();break;case 40:nextResult();break;case 9:case 13:selectCurrentResult();break;case 27:$results.hide();break}}else if($input.val().length!=prevLength){if(timeout)
clearTimeout(timeout);timeout=setTimeout(suggest,options.delay);prevLength=$input.val().length}}
function suggest(){cursorPos=$input.getSelectionStart();var q=options.ignoreSpaces?[$input.val()]:$input.val().substr(0,cursorPos).split(/\s+/g);q=$.trim(q[q.length-1]);if(q.length>=options.minchars&&(!options.natural||q.substr(0,1)=="#"||q.substr(0,1)=="@")){cached=checkCache(q);if(cached){displayItems(cached.items)}else{$.get(options.source+'?search_text='+escape(q),{},function(txt){$results.hide();var items=parseJSON(txt,q);displayItems(items);addToCache(q,items,txt.length)},'json')}}else{$results.hide()}}
function checkCache(q){for(var i=0;i<cache.length;i++)
if(cache[i].q==q){cache.unshift(cache.splice(i,1)[0]);return cache[0]}
return !1}
function addToCache(q,items,size){while(cache.length&&(cacheSize+size>options.maxCacheSize)){var cached=cache.pop();cacheSize-=cached.size}
cache.push({q:q,size:size,items:items});cacheSize+=size}
function displayItems(items){if(!items.html)return;if(items.size==0){$results.hide();if(options.emptyCallback){options.emptyCallback($input.val())}
return}
var html=items.html;$results.html(html).show(0,resetPosition);$results.children('li').mouseover(function(){$results.children('li').removeClass(options.selectClass);$(this).addClass(options.selectClass)}).click(function(e){e.preventDefault();e.stopPropagation();selectCurrentResult()});if(options.autoSelectIfOne&&items.length==1&&items[0].match(/>$/i)){nextResult();selectCurrentResult()}}
function parseJSON(json,q){return json}
function getCurrentResult(){if(!$results.is(':visible'))
return !1;var $currentResult=$results.children('li.'+options.selectClass);if(!$currentResult.length)$currentResult=!1;return $currentResult}
function selectCurrentResult(){$currentResult=getCurrentResult();if($currentResult){if(options.followLink){location.href=$currentResult.find("a").attr("href")}else if(options.resultCallback){options.resultCallback($currentResult.text(),ids[$currentResult.text()],$input)}else if(options.addAfterExisting||options.natural){var textBefore=$input.val().substr(0,cursorPos);var textAfter=$input.val().substr(cursorPos);var q=textBefore.split(/\s+/g);q=$.trim(q[q.length-1]);$input.val(textBefore.substring(0,textBefore.length-q.length)+$currentResult.data().content+(textAfter.length>0&&textAfter.substr(0,1)!=" "?" ":"")+textAfter);$input.change();$input.setCursorPosition($input.val().length-textAfter.length)}else{$input.val($currentResult.data().content);$input.change()}
$results.hide();if(options.onSelect)
options.onSelect.apply($input[0])}}
function nextResult(){$currentResult=getCurrentResult();if($currentResult){$currentResult.removeClass(options.selectClass).next().addClass(options.selectClass)}else{$results.children('li:first-child').addClass(options.selectClass)}}
function prevResult(){$currentResult=getCurrentResult();if($currentResult){$currentResult.removeClass(options.selectClass).prev().addClass(options.selectClass)}else{$results.children('li:last-child').addClass(options.selectClass)}}};$.fn.suggest=function(source,options){if(!source)
return;options=options||{};options.source=source;options.delay=options.delay||100;options.resultsClass=options.resultsClass||'ac_results';options.selectClass=options.selectClass||'ac_over';options.matchClass=options.matchClass||'ac_match';options.minchars=options.minchars||3;options.delimiter=options.delimiter||'\n';options.onSelect=options.onSelect||!1;options.maxCacheSize=options.maxCacheSize||65536;options.addAfterExisting=options.addAfterExisting||!1;options.natural=options.natural||!1;options.observing=options.observing||!1;options.resultCallback=options.resultCallback||!1;options.ignoreSpaces=options.ignoreSpaces||!1;options.autoSelectIfOne=options.autoSelectIfOne||!1;options.emptyCallback=options.emptyCallback||!1;options.followLink=options.followLink||!1;this.each(function(){new $.suggest(this,options)});return this}})(jQuery);jQuery.fn.getSelectionStart=function(){input=this[0];if(typeof input==="undefined"){return 0}
var pos=input.selectionStart;return pos};(function(d){function getMaxDays(){var tmpDate=new Date(this.toString()),d=28,m=tmpDate.getMonth();while(tmpDate.getMonth()==m){++d;tmpDate.setDate(d)}return d-1}d.addDays=function(n){this.setDate(this.getDate()+n)};d.addMonths=function(n){var day=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+n);this.setDate(Math.min(day,getMaxDays.apply(this)))};d.addYears=function(n){var day=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+n);this.setDate(Math.min(day,getMaxDays.apply(this)))};d.getDayOfYear=function(){var now=new Date(this.getFullYear(),this.getMonth(),this.getDate(),0,0,0);var then=new Date(this.getFullYear(),0,0,0,0,0);var time=now-then;return Math.floor(time/24*60*60*1000)}})(Date.prototype);(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{if(typeof exports==="object"){factory(require("jquery"))}else{factory(jQuery)}}}(function($){var instances_count=0;$.pickmeup=$.extend($.pickmeup||{},{date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",position:"bottom",trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return !0},before_show:function(){return !0},show:function(){return !0},hide:function(){return !0},fill:function(){return !0},locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}});var views={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},tpl={wrapper:'<div class="pickmeup" />',head:function(d){var result="";for(var i=0;i<7;++i){result+="<div>"+d.day[i]+"</div>"}return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+d.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+d.next+'</div></nav><nav class="pmu-day-of-week">'+result+"</nav></div>"},body:function(elements,container_class_name){var result="";for(var i=0;i<elements.length;++i){result+='<div class="'+elements[i].class_name+' pmu-button">'+elements[i].text+"</div>"}return'<div class="'+container_class_name+'">'+result+"</div>"}};function fill(){var options=$(this).data("pickmeup-options"),pickmeup=this.pickmeup,current_cal=Math.floor(options.calendars/2),actual_date=options.date,current_date=options.current,min_date=options.min?new Date(options.min):null,max_date=options.max?new Date(options.max):null,local_date,header,html,instance,today=(new Date).setHours(0,0,0,0).valueOf(),shown_date_from,shown_date_to,tmp_date;if(min_date){min_date.setDate(1);min_date.addMonths(1);min_date.addDays(-1)}if(max_date){max_date.setDate(1);max_date.addMonths(1);max_date.addDays(-1)}pickmeup.find(".pmu-instance > :not(nav)").remove();for(var i=0;i<options.calendars;i++){local_date=new Date(current_date);instance=pickmeup.find(".pmu-instance").eq(i);if(pickmeup.hasClass("pmu-view-years")){local_date.addYears((i-current_cal)*12);header=(local_date.getFullYear()-6)+" - "+(local_date.getFullYear()+5)}else{if(pickmeup.hasClass("pmu-view-months")){local_date.addYears(i-current_cal);header=local_date.getFullYear()}else{if(pickmeup.hasClass("pmu-view-days")){local_date.addMonths(i-current_cal);header=formatDate(local_date,"B, Y",options.locale)}}}if(!shown_date_to){if(max_date){tmp_date=new Date(local_date);if(options.select_day){tmp_date.addMonths(options.calendars-1)}else{if(options.select_month){tmp_date.addYears(options.calendars-1)}else{tmp_date.addYears((options.calendars-1)*12)}}if(tmp_date>max_date){--i;current_date.addMonths(-1);shown_date_to=undefined;continue}}}shown_date_to=new Date(local_date);if(!shown_date_from){shown_date_from=new Date(local_date);shown_date_from.setDate(1);shown_date_from.addMonths(1);shown_date_from.addDays(-1);if(min_date&&min_date>shown_date_from){--i;current_date.addMonths(1);shown_date_from=undefined;continue}}instance.find(".pmu-month").text(header);html="";var is_year_selected=function(year){return(options.mode=="range"&&year>=new Date(actual_date[0]).getFullYear()&&year<=new Date(actual_date[1]).getFullYear())||(options.mode=="multiple"&&actual_date.reduce(function(prev,current){prev.push(new Date(current).getFullYear());return prev},[]).indexOf(year)!==-1)||new Date(actual_date).getFullYear()==year};var is_months_selected=function(year,month){var first_year=new Date(actual_date[0]).getFullYear(),lastyear=new Date(actual_date[1]).getFullYear(),first_month=new Date(actual_date[0]).getMonth(),last_month=new Date(actual_date[1]).getMonth();return(options.mode=="range"&&year>first_year&&year<lastyear)||(options.mode=="range"&&year==first_year&&year<lastyear&&month>=first_month)||(options.mode=="range"&&year>first_year&&year==lastyear&&month<=last_month)||(options.mode=="range"&&year==first_year&&year==lastyear&&month>=first_month&&month<=last_month)||(options.mode=="multiple"&&actual_date.reduce(function(prev,current){current=new Date(current);prev.push(current.getFullYear()+"-"+current.getMonth());return prev},[]).indexOf(year+"-"+month)!==-1)||(new Date(actual_date).getFullYear()==year&&new Date(actual_date).getMonth()==month)};(function(){var years=[],start_from_year=local_date.getFullYear()-6,min_year=new Date(options.min).getFullYear(),max_year=new Date(options.max).getFullYear(),year;for(var j=0;j<12;++j){year={text:start_from_year+j,class_name:[]};if((options.min&&year.text<min_year)||(options.max&&year.text>max_year)){year.class_name.push("pmu-disabled")}else{if(is_year_selected(year.text)){year.class_name.push("pmu-selected")}}year.class_name=year.class_name.join(" ");years.push(year)}html+=tpl.body(years,"pmu-years")})();(function(){var months=[],current_year=local_date.getFullYear(),min_year=new Date(options.min).getFullYear(),min_month=new Date(options.min).getMonth(),max_year=new Date(options.max).getFullYear(),max_month=new Date(options.max).getMonth(),month;for(var j=0;j<12;++j){month={text:options.locale.monthsShort[j],class_name:[]};if((options.min&&(current_year<min_year||(j<min_month&&current_year==min_year)))||(options.max&&(current_year>max_year||(j>max_month&&current_year>=max_year)))){month.class_name.push("pmu-disabled")}else{if(is_months_selected(current_year,j)){month.class_name.push("pmu-selected")}}month.class_name=month.class_name.join(" ");months.push(month)}html+=tpl.body(months,"pmu-months")})();(function(){var days=[],current_month=local_date.getMonth(),day;(function(){local_date.setDate(1);var day=(local_date.getDay()-options.first_day)%7;local_date.addDays(-(day+(day<0?7:0)))})();for(var j=0;j<42;++j){day={text:local_date.getDate(),class_name:[]};if(current_month!=local_date.getMonth()){day.class_name.push("pmu-not-in-month")}if(local_date.getDay()==0){day.class_name.push("pmu-sunday")}else{if(local_date.getDay()==6){day.class_name.push("pmu-saturday")}}var from_user=options.render(new Date(local_date))||{},val=local_date.valueOf(),disabled=(options.min&&options.min>local_date)||(options.max&&options.max<local_date);if(from_user.disabled||disabled){day.class_name.push("pmu-disabled")}else{if(from_user.selected||options.date==val||$.inArray(val,options.date)!==-1||(options.mode=="range"&&val>=options.date[0]&&val<=options.date[1])){day.class_name.push("pmu-selected")}}if(val==today){day.class_name.push("pmu-today")}if(from_user.class_name){day.class_name.push(from_user.class_name)}day.class_name=day.class_name.join(" ");days.push(day);local_date.addDays(1)}html+=tpl.body(days,"pmu-days")})();instance.append(html)}shown_date_from.setDate(1);shown_date_to.setDate(1);shown_date_to.addMonths(1);shown_date_to.addDays(-1);pickmeup.find(".pmu-prev").css("visibility",options.min&&options.min>=shown_date_from?"hidden":"visible");pickmeup.find(".pmu-next").css("visibility",options.max&&options.max<=shown_date_to?"hidden":"visible");options.fill.apply(this)}function parseDate(date,format,separator,locale){if(date.constructor==Date){return date}else{if(!date){return new Date}}var splitted_date=date.split(separator);if(splitted_date.length>1){splitted_date.forEach(function(element,index,array){array[index]=parseDate($.trim(element),format,separator,locale)});return splitted_date}var months_text=locale.monthsShort.join(")(")+")("+locale.months.join(")("),separator=new RegExp("[^0-9a-zA-Z("+months_text+")]+"),parts=date.split(separator),against=format.split(separator),d,m,y,h,min,now=new Date();for(var i=0;i<parts.length;i++){switch(against[i]){case"b":m=locale.monthsShort.indexOf(parts[i]);break;case"B":m=locale.months.indexOf(parts[i]);break;case"d":case"e":d=parseInt(parts[i],10);break;case"m":m=parseInt(parts[i],10)-1;break;case"Y":case"y":y=parseInt(parts[i],10);y+=y>100?0:(y<29?2000:1900);break;case"H":case"I":case"k":case"l":h=parseInt(parts[i],10);break;case"P":case"p":if(/pm/i.test(parts[i])&&h<12){h+=12}else{if(/am/i.test(parts[i])&&h>=12){h-=12}}break;case"M":min=parseInt(parts[i],10);break}}var parsed_date=new Date(y===undefined?now.getFullYear():y,m===undefined?now.getMonth():m,d===undefined?now.getDate():d,h===undefined?now.getHours():h,min===undefined?now.getMinutes():min,0);if(isNaN(parsed_date*1)){parsed_date=new Date}return parsed_date}function formatDate(date,format,locale){var m=date.getMonth();var d=date.getDate();var y=date.getFullYear();var w=date.getDay();var s={};var hr=date.getHours();var pm=(hr>=12);var ir=(pm)?(hr-12):hr;var dy=date.getDayOfYear();if(ir==0){ir=12}var min=date.getMinutes();var sec=date.getSeconds();var parts=format.split(""),part;for(var i=0;i<parts.length;i++){part=parts[i];switch(part){case"a":part=locale.daysShort[w];break;case"A":part=locale.days[w];break;case"b":part=locale.monthsShort[m];break;case"B":part=locale.months[m];break;case"C":part=1+Math.floor(y/100);break;case"d":part=(d<10)?("0"+d):d;break;case"e":part=d;break;case"H":part=(hr<10)?("0"+hr):hr;break;case"I":part=(ir<10)?("0"+ir):ir;break;case"j":part=(dy<100)?((dy<10)?("00"+dy):("0"+dy)):dy;break;case"k":part=hr;break;case"l":part=ir;break;case"m":part=(m<9)?("0"+(1+m)):(1+m);break;case"M":part=(min<10)?("0"+min):min;break;case"p":case"P":part=pm?"PM":"AM";break;case"s":part=Math.floor(date.getTime()/1000);break;case"S":part=(sec<10)?("0"+sec):sec;break;case"u":part=w+1;break;case"w":part=w;break;case"y":part=(""+y).substr(2,2);break;case"Y":part=y;break}parts[i]=part}return parts.join("")}function update_date(){var $this=$(this),options=$this.data("pickmeup-options"),current_date=options.current,new_value;switch(options.mode){case"multiple":new_value=current_date.setHours(0,0,0,0).valueOf();if($.inArray(new_value,options.date)!==-1){$.each(options.date,function(index,value){if(value==new_value){options.date.splice(index,1);return !1}return !0})}else{options.date.push(new_value)}break;case"range":if(!options.lastSel){options.date[0]=current_date.setHours(0,0,0,0).valueOf()}new_value=current_date.setHours(0,0,0,0).valueOf();if(new_value<=options.date[0]){options.date[1]=options.date[0];options.date[0]=new_value}else{options.date[1]=new_value}options.lastSel=!options.lastSel;break;default:options.date=current_date.valueOf();break}var prepared_date=prepareDate(options);if($this.is("input")){$this.val(options.mode=="single"?prepared_date[0]:prepared_date[0].join(options.separator))}options.change.apply(this,prepared_date);if(!options.flat&&options.hide_on_select&&(options.mode!="range"||!options.lastSel)){options.binded.hide();return !1}}function click(e){var el=$(e.target);if(!el.hasClass("pmu-button")){el=el.closest(".pmu-button")}if(el.length){if(el.hasClass("pmu-disabled")){return !1}var $this=$(this),options=$this.data("pickmeup-options"),instance=el.parents(".pmu-instance").eq(0),root=instance.parent(),instance_index=$(".pmu-instance",root).index(instance);if(el.parent().is("nav")){if(el.hasClass("pmu-month")){options.current.addMonths(instance_index-Math.floor(options.calendars/2));if(root.hasClass("pmu-view-years")){if(options.mode!="single"){options.current=new Date(options.date[options.date.length-1])}else{options.current=new Date(options.date)}if(options.select_day){root.removeClass("pmu-view-years").addClass("pmu-view-days")}else{if(options.select_month){root.removeClass("pmu-view-years").addClass("pmu-view-months")}}}else{if(root.hasClass("pmu-view-months")){if(options.select_year){root.removeClass("pmu-view-months").addClass("pmu-view-years")}else{if(options.select_day){root.removeClass("pmu-view-months").addClass("pmu-view-days")}}}else{if(root.hasClass("pmu-view-days")){if(options.select_month){root.removeClass("pmu-view-days").addClass("pmu-view-months")}else{if(options.select_year){root.removeClass("pmu-view-days").addClass("pmu-view-years")}}}}}}else{if(el.hasClass("pmu-prev")){options.binded.prev(!1)}else{options.binded.next(!1)}}}else{if(!el.hasClass("pmu-disabled")){if(root.hasClass("pmu-view-years")){options.current.setFullYear(parseInt(el.text(),10));if(options.select_month){root.removeClass("pmu-view-years").addClass("pmu-view-months")}else{if(options.select_day){root.removeClass("pmu-view-years").addClass("pmu-view-days")}else{options.binded.update_date()}}}else{if(root.hasClass("pmu-view-months")){options.current.setMonth(instance.find(".pmu-months .pmu-button").index(el));options.current.setFullYear(parseInt(instance.find(".pmu-month").text(),10));if(options.select_day){root.removeClass("pmu-view-months").addClass("pmu-view-days")}else{options.binded.update_date()}options.current.addMonths(Math.floor(options.calendars/2)-instance_index)}else{var val=parseInt(el.text(),10);options.current.addMonths(instance_index-Math.floor(options.calendars/2));if(el.hasClass("pmu-not-in-month")){options.current.addMonths(val>15?-1:1)}options.current.setDate(val);options.binded.update_date()}}}}options.binded.fill()}return !1}function prepareDate(options){var result;if(options.mode=="single"){result=new Date(options.date);return[formatDate(result,options.format,options.locale),result]}else{result=[[],[]];$.each(options.date,function(nr,val){var date=new Date(val);result[0].push(formatDate(date,options.format,options.locale));result[1].push(date)});return result}}function show(force){var pickmeup=this.pickmeup;if(force||!pickmeup.is(":visible")){var $this=$(this),options=$this.data("pickmeup-options"),pos=$this.offset(),viewport={l:document.documentElement.scrollLeft,t:document.documentElement.scrollTop,w:document.documentElement.clientWidth,h:document.documentElement.clientHeight},top=pos.top,left=pos.left;options.binded.fill();if($this.is("input")){$this.pickmeup("set_date",parseDate($this.val()?$this.val():options.default_date,options.format,options.separator,options.locale)).keydown(function(e){if(e.which==9){$this.pickmeup("hide")}});options.lastSel=!1}options.before_show();if(options.show()==!1){return}if(!options.flat){switch(options.position){case"top":top-=pickmeup.outerHeight();break;case"left":left-=pickmeup.outerWidth();break;case"right":left+=this.offsetWidth;break;case"bottom":top+=this.offsetHeight;break}if(top+pickmeup.offsetHeight>viewport.t+viewport.h){top=pos.top-pickmeup.offsetHeight}if(top<viewport.t){top=pos.top+this.offsetHeight+pickmeup.offsetHeight}if(left+pickmeup.offsetWidth>viewport.l+viewport.w){left=pos.left-pickmeup.offsetWidth}if(left<viewport.l){left=pos.left+this.offsetWidth}pickmeup.css({display:"inline-block",top:top+"px",left:left+"px"});$(document).on("mousedown"+options.events_namespace+" touchstart"+options.events_namespace,options.binded.hide).on("resize"+options.events_namespace,[!0],options.binded.forced_show)}}}function forced_show(){show.call(this,!0)}function hide(e){if(!e||!e.target||(e.target!=this&&!(this.pickmeup.get(0).compareDocumentPosition(e.target)&16))){var pickmeup=this.pickmeup,options=$(this).data("pickmeup-options");if(options.hide()!=!1){pickmeup.hide();$(document).off("mousedown touchstart",options.binded.hide).off("resize",options.binded.forced_show);options.lastSel=!1}}}function update(){var options=$(this).data("pickmeup-options");$(document).off("mousedown",options.binded.hide).off("resize",options.binded.forced_show);options.binded.forced_show()}function clear(){var options=$(this).data("pickmeup-options");if(options.mode!="single"){options.date=[];options.lastSel=!1;options.binded.fill()}}function prev(fill){if(typeof fill=="undefined"){fill=!0}var root=this.pickmeup;var options=$(this).data("pickmeup-options");if(root.hasClass("pmu-view-years")){options.current.addYears(-12)}else{if(root.hasClass("pmu-view-months")){options.current.addYears(-1)}else{if(root.hasClass("pmu-view-days")){options.current.addMonths(-1)}}}if(fill){options.binded.fill()}}function next(fill){if(typeof fill=="undefined"){fill=!0}var root=this.pickmeup;var options=$(this).data("pickmeup-options");if(root.hasClass("pmu-view-years")){options.current.addYears(12)}else{if(root.hasClass("pmu-view-months")){options.current.addYears(1)}else{if(root.hasClass("pmu-view-days")){options.current.addMonths(1)}}}if(fill){options.binded.fill()}}function get_date(formatted){var options=$(this).data("pickmeup-options"),prepared_date=prepareDate(options);if(typeof formatted==="string"){var date=prepared_date[1];if(date.constructor==Date){return formatDate(date,formatted,options.locale)}else{return date.map(function(value){return formatDate(value,formatted,options.locale)})}}else{return prepared_date[formatted?0:1]}}function set_date(date){var $this=$(this),options=$this.data("pickmeup-options");options.date=date;if(typeof options.date==="string"){options.date=parseDate(options.date,options.format,options.separator,options.locale).setHours(0,0,0,0)}else{if(options.date.constructor==Date){options.date.setHours(0,0,0,0)}}if(!options.date){options.date=new Date;options.date.setHours(0,0,0,0)}if(options.mode!="single"){if(options.date.constructor!=Array){options.date=[options.date.valueOf()];if(options.mode=="range"){options.date.push(((new Date(options.date[0])).setHours(0,0,0,0)).valueOf())}}else{for(var i=0;i<options.date.length;i++){options.date[i]=(parseDate(options.date[i],options.format,options.separator,options.locale).setHours(0,0,0,0)).valueOf()}if(options.mode=="range"){options.date[1]=((new Date(options.date[1])).setHours(0,0,0,0)).valueOf()}}}else{if($this.val()||options.default_date!==!1){options.date=options.date.constructor==Array?options.date[0].valueOf():options.date.valueOf()}}options.current=new Date(options.mode!="single"?options.date[0]:options.date);options.binded.fill();if($this.is("input")){var prepared_date=prepareDate(options);$this.val(options.mode=="single"?(options.default_date===!1?$this.val():prepared_date[0]):prepared_date[0].join(options.separator))}}function destroy(){var $this=$(this),options=$this.data("pickmeup-options");$this.removeData("pickmeup-options");$this.off(options.events_namespace);$(document).off(options.events_namespace);$(this.pickmeup).remove()}$.fn.pickmeup=function(initial_options){if(typeof initial_options==="string"){var data,parameters=Array.prototype.slice.call(arguments,1);switch(initial_options){case"hide":case"show":case"clear":case"update":case"prev":case"next":case"destroy":this.each(function(){data=$(this).data("pickmeup-options");if(data){data.binded[initial_options]()}});break;case"get_date":data=this.data("pickmeup-options");if(data){return data.binded.get_date(parameters[0])}else{return null}break;case"set_date":this.each(function(){data=$(this).data("pickmeup-options");if(data){data.binded[initial_options].apply(this,parameters)}})}return this}return this.each(function(){var $this=$(this);if($this.data("pickmeup-options")){return}var i,option,options=$.extend({},$.pickmeup,initial_options||{});for(i in options){option=$this.data("pmu-"+i);if(typeof option!=="undefined"){options[i]=option}}if(options.view=="days"&&!options.select_day){options.view="months"}if(options.view=="months"&&!options.select_month){options.view="years"}if(options.view=="years"&&!options.select_year){options.view="days"}if(options.view=="days"&&!options.select_day){options.view="months"}options.calendars=Math.max(1,parseInt(options.calendars,10)||1);options.mode=/single|multiple|range/.test(options.mode)?options.mode:"single";if(typeof options.min==="string"){options.min=parseDate(options.min,options.format,options.separator,options.locale).setHours(0,0,0,0)}else{if(options.min&&options.min.constructor==Date){options.min.setHours(0,0,0,0)}}if(typeof options.max==="string"){options.max=parseDate(options.max,options.format,options.separator,options.locale).setHours(0,0,0,0)}else{if(options.max&&options.max.constructor==Date){options.max.setHours(0,0,0,0)}}if(!options.select_day){if(options.min){options.min=new Date(options.min);options.min.setDate(1);options.min=options.min.valueOf()}if(options.max){options.max=new Date(options.max);options.max.setDate(1);options.max=options.max.valueOf()}}if(typeof options.date==="string"){options.date=parseDate(options.date,options.format,options.separator,options.locale).setHours(0,0,0,0)}else{if(options.date.constructor==Date){options.date.setHours(0,0,0,0)}}if(!options.date){options.date=new Date;options.date.setHours(0,0,0,0)}if(options.mode!="single"){if(options.date.constructor!=Array){options.date=[options.date.valueOf()];if(options.mode=="range"){options.date.push(((new Date(options.date[0])).setHours(0,0,0,0)).valueOf())}}else{for(i=0;i<options.date.length;i++){options.date[i]=(parseDate(options.date[i],options.format,options.separator,options.locale).setHours(0,0,0,0)).valueOf()}if(options.mode=="range"){options.date[1]=((new Date(options.date[1])).setHours(0,0,0,0)).valueOf()}}options.current=new Date(options.date[0]);if(!options.select_day){for(i=0;i<options.date.length;++i){options.date[i]=new Date(options.date[i]);options.date[i].setDate(1);options.date[i]=options.date[i].valueOf();if(options.mode!="range"&&options.date.indexOf(options.date[i])!==i){delete options.date.splice(i,1);--i}}}}else{options.date=options.date.valueOf();options.current=new Date(options.date);if(!options.select_day){options.date=new Date(options.date);options.date.setDate(1);options.date=options.date.valueOf()}}options.current.setDate(1);options.current.setHours(0,0,0,0);var cnt,pickmeup=$(tpl.wrapper);this.pickmeup=pickmeup;if(options.class_name){pickmeup.addClass(options.class_name)}var html="";for(i=0;i<options.calendars;i++){cnt=options.first_day;html+=tpl.head({prev:options.prev,next:options.next,day:[options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7],options.locale.daysMin[(cnt++)%7]]})}$this.data("pickmeup-options",options);for(i in options){if(["render","change","before_show","show","hide"].indexOf(i)!=-1){options[i]=options[i].bind(this)}}options.binded={fill:fill.bind(this),update_date:update_date.bind(this),click:click.bind(this),show:show.bind(this),forced_show:forced_show.bind(this),hide:hide.bind(this),update:update.bind(this),clear:clear.bind(this),prev:prev.bind(this),next:next.bind(this),get_date:get_date.bind(this),set_date:set_date.bind(this),destroy:destroy.bind(this)};options.events_namespace=".pickmeup-"+(++instances_count);pickmeup.on("click touchstart",options.binded.click).addClass(views[options.view]).append(html).on($.support.selectstart?"selectstart":"mousedown",function(e){e.preventDefault()});options.binded.fill();if(options.flat){pickmeup.appendTo(this).css({position:"relative",display:"inline-block"})}else{pickmeup.appendTo(document.body);var trigger_event=options.trigger_event.split(" ");for(i=0;i<trigger_event.length;++i){trigger_event[i]+=options.events_namespace}trigger_event=trigger_event.join(" ");$this.on(trigger_event,options.binded.show)}})}}));(function($){var DatePicker=function(){var ids={},views={years:'datepickerViewYears',moths:'datepickerViewMonths',days:'datepickerViewDays'},tpl={wrapper:'<div class="datepicker"><div class="datepickerBorderT" /><div class="datepickerBorderB" /><div class="datepickerBorderL" /><div class="datepickerBorderR" /><div class="datepickerBorderTL" /><div class="datepickerBorderTR" /><div class="datepickerBorderBL" /><div class="datepickerBorderBR" /><div class="datepickerContainer"><table cellspacing="0" cellpadding="0"><tbody><tr></tr></tbody></table></div></div>',head:['<td class="datepickerBlock">','<table cellspacing="0" cellpadding="0">','<thead>','<tr>','<th colspan="7"><a class="datepickerGoPrev" href="#"><span><%=prev%></span></a>','<a class="datepickerMonth" href="#"><span></span></a>','<a class="datepickerGoNext" href="#"><span><%=next%></span></a></th>','</tr>','<tr class="datepickerDoW">','<th><span><%=day1%></span></th>','<th><span><%=day2%></span></th>','<th><span><%=day3%></span></th>','<th><span><%=day4%></span></th>','<th><span><%=day5%></span></th>','<th><span><%=day6%></span></th>','<th><span><%=day7%></span></th>','</tr>','</thead>','</table></td>'],space:'<td class="datepickerSpace"><div></div></td>',days:['<tbody class="datepickerDays">','<tr>','<td class="<%=weeks[0].days[0].classname%>"><a href="#"><span><%=weeks[0].days[0].text%></span></a></td>','<td class="<%=weeks[0].days[1].classname%>"><a href="#"><span><%=weeks[0].days[1].text%></span></a></td>','<td class="<%=weeks[0].days[2].classname%>"><a href="#"><span><%=weeks[0].days[2].text%></span></a></td>','<td class="<%=weeks[0].days[3].classname%>"><a href="#"><span><%=weeks[0].days[3].text%></span></a></td>','<td class="<%=weeks[0].days[4].classname%>"><a href="#"><span><%=weeks[0].days[4].text%></span></a></td>','<td class="<%=weeks[0].days[5].classname%>"><a href="#"><span><%=weeks[0].days[5].text%></span></a></td>','<td class="<%=weeks[0].days[6].classname%>"><a href="#"><span><%=weeks[0].days[6].text%></span></a></td>','</tr>','<tr>','<td class="<%=weeks[1].days[0].classname%>"><a href="#"><span><%=weeks[1].days[0].text%></span></a></td>','<td class="<%=weeks[1].days[1].classname%>"><a href="#"><span><%=weeks[1].days[1].text%></span></a></td>','<td class="<%=weeks[1].days[2].classname%>"><a href="#"><span><%=weeks[1].days[2].text%></span></a></td>','<td class="<%=weeks[1].days[3].classname%>"><a href="#"><span><%=weeks[1].days[3].text%></span></a></td>','<td class="<%=weeks[1].days[4].classname%>"><a href="#"><span><%=weeks[1].days[4].text%></span></a></td>','<td class="<%=weeks[1].days[5].classname%>"><a href="#"><span><%=weeks[1].days[5].text%></span></a></td>','<td class="<%=weeks[1].days[6].classname%>"><a href="#"><span><%=weeks[1].days[6].text%></span></a></td>','</tr>','<tr>','<td class="<%=weeks[2].days[0].classname%>"><a href="#"><span><%=weeks[2].days[0].text%></span></a></td>','<td class="<%=weeks[2].days[1].classname%>"><a href="#"><span><%=weeks[2].days[1].text%></span></a></td>','<td class="<%=weeks[2].days[2].classname%>"><a href="#"><span><%=weeks[2].days[2].text%></span></a></td>','<td class="<%=weeks[2].days[3].classname%>"><a href="#"><span><%=weeks[2].days[3].text%></span></a></td>','<td class="<%=weeks[2].days[4].classname%>"><a href="#"><span><%=weeks[2].days[4].text%></span></a></td>','<td class="<%=weeks[2].days[5].classname%>"><a href="#"><span><%=weeks[2].days[5].text%></span></a></td>','<td class="<%=weeks[2].days[6].classname%>"><a href="#"><span><%=weeks[2].days[6].text%></span></a></td>','</tr>','<tr>','<td class="<%=weeks[3].days[0].classname%>"><a href="#"><span><%=weeks[3].days[0].text%></span></a></td>','<td class="<%=weeks[3].days[1].classname%>"><a href="#"><span><%=weeks[3].days[1].text%></span></a></td>','<td class="<%=weeks[3].days[2].classname%>"><a href="#"><span><%=weeks[3].days[2].text%></span></a></td>','<td class="<%=weeks[3].days[3].classname%>"><a href="#"><span><%=weeks[3].days[3].text%></span></a></td>','<td class="<%=weeks[3].days[4].classname%>"><a href="#"><span><%=weeks[3].days[4].text%></span></a></td>','<td class="<%=weeks[3].days[5].classname%>"><a href="#"><span><%=weeks[3].days[5].text%></span></a></td>','<td class="<%=weeks[3].days[6].classname%>"><a href="#"><span><%=weeks[3].days[6].text%></span></a></td>','</tr>','<tr>','<td class="<%=weeks[4].days[0].classname%>"><a href="#"><span><%=weeks[4].days[0].text%></span></a></td>','<td class="<%=weeks[4].days[1].classname%>"><a href="#"><span><%=weeks[4].days[1].text%></span></a></td>','<td class="<%=weeks[4].days[2].classname%>"><a href="#"><span><%=weeks[4].days[2].text%></span></a></td>','<td class="<%=weeks[4].days[3].classname%>"><a href="#"><span><%=weeks[4].days[3].text%></span></a></td>','<td class="<%=weeks[4].days[4].classname%>"><a href="#"><span><%=weeks[4].days[4].text%></span></a></td>','<td class="<%=weeks[4].days[5].classname%>"><a href="#"><span><%=weeks[4].days[5].text%></span></a></td>','<td class="<%=weeks[4].days[6].classname%>"><a href="#"><span><%=weeks[4].days[6].text%></span></a></td>','</tr>','<tr>','<td class="<%=weeks[5].days[0].classname%>"><a href="#"><span><%=weeks[5].days[0].text%></span></a></td>','<td class="<%=weeks[5].days[1].classname%>"><a href="#"><span><%=weeks[5].days[1].text%></span></a></td>','<td class="<%=weeks[5].days[2].classname%>"><a href="#"><span><%=weeks[5].days[2].text%></span></a></td>','<td class="<%=weeks[5].days[3].classname%>"><a href="#"><span><%=weeks[5].days[3].text%></span></a></td>','<td class="<%=weeks[5].days[4].classname%>"><a href="#"><span><%=weeks[5].days[4].text%></span></a></td>','<td class="<%=weeks[5].days[5].classname%>"><a href="#"><span><%=weeks[5].days[5].text%></span></a></td>','<td class="<%=weeks[5].days[6].classname%>"><a href="#"><span><%=weeks[5].days[6].text%></span></a></td>','</tr>','</tbody>'],months:['<tbody class="<%=className%>">','<tr>','<td colspan="2"><a href="#"><span><%=data[0]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[1]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[2]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[3]%></span></a></td>','</tr>','<tr>','<td colspan="2"><a href="#"><span><%=data[4]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[5]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[6]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[7]%></span></a></td>','</tr>','<tr>','<td colspan="2"><a href="#"><span><%=data[8]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[9]%></span></a></td>','<td colspan="2"><a href="#"><span><%=data[10]%></span></a></td>','<td colspan="1"><a href="#"><span><%=data[11]%></span></a></td>','</tr>','</tbody>']},defaults={date:null,current:null,inline:!1,mode:'single',calendars:1,starts:0,prev:'&#9664;',next:'&#9654;',view:'days',position:'bottom',showOn:'focus',onRenderCell:function(){return{}},onChange:function(){},onBeforeShow:function(){return !0},onAfterShow:function(){},onBeforeHide:function(){return !0},onAfterHide:function(){},locale:{daysMin:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},extraHeight:!1,extraWidth:!1,lastSel:!1},fill=function(el){var options=$(el).data().datepicker;var cal=$(el);var currentCal=Math.floor(options.calendars/2),date,data,dow,month,cnt=0,days,indic,indic2,html,tblCal;cal.find('td>table tbody').remove();for(var i=0;i<options.calendars;i++){date=new Date(options.current);date.addMonths(-currentCal+i);tblCal=cal.find('table').eq(i+1);if(i==0)tblCal.addClass('datepickerFirstView');if(i==options.calendars-1)tblCal.addClass('datepickerLastView');if(tblCal.hasClass('datepickerViewDays')){dow=date.getMonthName(!0)+", "+date.getFullYear()}else if(tblCal.hasClass('datepickerViewMonths')){dow=date.getFullYear()}else if(tblCal.hasClass('datepickerViewYears')){dow=(date.getFullYear()-6)+' - '+(date.getFullYear()+5)}
tblCal.find('thead tr:first th a:eq(1) span').text(dow);dow=date.getFullYear()-6;data={data:[],className:'datepickerYears'}
for(var j=0;j<12;j++){data.data.push(dow+j)}
html=tmpl(tpl.months.join(''),data);date.setDate(1);data={weeks:[],test:10};month=date.getMonth();var dow=(date.getDay()-options.starts)%7;date.addDays(-(dow+(dow<0?7:0)));cnt=0;while(cnt<42){indic=parseInt(cnt/7,10);indic2=cnt%7;if(!data.weeks[indic]){data.weeks[indic]={days:[]}}
data.weeks[indic].days[indic2]={text:date.getDate(),classname:[]};var today=new Date();if(today.getDate()==date.getDate()&&today.getMonth()==date.getMonth()&&today.getYear()==date.getYear()){data.weeks[indic].days[indic2].classname.push('datepickerToday')}
if(date>today){data.weeks[indic].days[indic2].classname.push('datepickerFuture')}
if(month!=date.getMonth()){data.weeks[indic].days[indic2].classname.push('datepickerNotInMonth');data.weeks[indic].days[indic2].classname.push('datepickerDisabled')}
if(date.getDay()==0){data.weeks[indic].days[indic2].classname.push('datepickerSunday')}
if(date.getDay()==6){data.weeks[indic].days[indic2].classname.push('datepickerSaturday')}
var fromUser=options.onRenderCell(el,date);var val=date.valueOf();if(options.date&&(!$.isArray(options.date)||options.date.length>0)){if(fromUser.selected||options.date==val||$.inArray(val,options.date)>-1||(options.mode=='range'&&val>=options.date[0]&&val<=options.date[1])){data.weeks[indic].days[indic2].classname.push('datepickerSelected')}}
if(fromUser.disabled){data.weeks[indic].days[indic2].classname.push('datepickerDisabled')}
if(fromUser.className){data.weeks[indic].days[indic2].classname.push(fromUser.className)}
data.weeks[indic].days[indic2].classname=data.weeks[indic].days[indic2].classname.join(' ');cnt++;date.addDays(1)}
html=tmpl(tpl.days.join(''),data)+html;data={data:options.locale.monthsShort,className:'datepickerMonths'};html=tmpl(tpl.months.join(''),data)+html;tblCal.append(html)}},extendDate=function(locale){if(Date.prototype.tempDate){return}
Date.prototype.tempDate=null;Date.prototype.months=locale.months;Date.prototype.monthsShort=locale.monthsShort;Date.prototype.getMonthName=function(fullName){return this[fullName?'months':'monthsShort'][this.getMonth()]};Date.prototype.addDays=function(n){this.setDate(this.getDate()+n);this.tempDate=this.getDate()};Date.prototype.addMonths=function(n){if(this.tempDate==null){this.tempDate=this.getDate()}
this.setDate(1);this.setMonth(this.getMonth()+n);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.addYears=function(n){if(this.tempDate==null){this.tempDate=this.getDate()}
this.setDate(1);this.setFullYear(this.getFullYear()+n);this.setDate(Math.min(this.tempDate,this.getMaxDays()))};Date.prototype.getMaxDays=function(){var tmpDate=new Date(Date.parse(this)),d=28,m;m=tmpDate.getMonth();d=28;while(tmpDate.getMonth()==m){d ++;tmpDate.setDate(d)}
return d-1}},layout=function(el){var options=$(el).data().datepicker;var cal=$('#'+options.id);if(options.extraHeight===!1){var divs=$(el).find('div');options.extraHeight=divs.get(0).offsetHeight+divs.get(1).offsetHeight;options.extraWidth=divs.get(2).offsetWidth+divs.get(3).offsetWidth}
var tbl=cal.find('table:first').get(0);var width=tbl.offsetWidth;var height=tbl.offsetHeight;cal.css({width:width+options.extraWidth+'px',height:height+options.extraHeight+'px'}).find('div.datepickerContainer').css({width:width+'px',height:height+'px'})},click=function(ev){if($(ev.target).is('span')){ev.target=ev.target.parentNode}
var el=$(ev.target);if(el.is('a')){ev.target.blur();if(el.hasClass('datepickerDisabled')){return !1}
var options=$(this).data().datepicker;var parentEl=el.parent();var tblEl=parentEl.parent().parent().parent();var tblIndex=$('table',this).index(tblEl.get(0))-1;var tmp=new Date(options.current);var changed=!1;var fillIt=!1;var currentCal=Math.floor(options.calendars/2);if(parentEl.is('th')){if(el.hasClass('datepickerMonth')){tmp.addMonths(tblIndex-currentCal);if(options.mode=='range'){options.date[0]=(tmp.setHours(0,0,0,0)).valueOf();tmp.addDays(tmp.getMaxDays()-1);tmp.setHours(23,59,59,0);options.date[1]=tmp.valueOf();fillIt=!0;changed=!0;options.lastSel=!1}else if(options.calendars==1){if(tblEl.eq(0).hasClass('datepickerViewDays')){tblEl.eq(0).toggleClass('datepickerViewDays datepickerViewMonths');el.find('span').text(tmp.getFullYear())}else if(tblEl.eq(0).hasClass('datepickerViewMonths')){tblEl.eq(0).toggleClass('datepickerViewMonths datepickerViewYears');el.find('span').text((tmp.getFullYear()-6)+' - '+(tmp.getFullYear()+5))}else if(tblEl.eq(0).hasClass('datepickerViewYears')){tblEl.eq(0).toggleClass('datepickerViewYears datepickerViewDays');el.find('span').text(tmp.getMonthName(!0)+", "+tmp.getFullYear())}}}else if(parentEl.parent().parent().is('thead')){if(tblEl.eq(0).hasClass('datepickerViewDays')){options.current.addMonths(el.hasClass('datepickerGoPrev')?-1:1)}else if(tblEl.eq(0).hasClass('datepickerViewMonths')){options.current.addYears(el.hasClass('datepickerGoPrev')?-1:1)}else if(tblEl.eq(0).hasClass('datepickerViewYears')){options.current.addYears(el.hasClass('datepickerGoPrev')?-12:12)}
fillIt=!0}}else if(parentEl.is('td')&&!parentEl.hasClass('datepickerDisabled')){if(tblEl.eq(0).hasClass('datepickerViewMonths')){options.current.setMonth(tblEl.find('tbody.datepickerMonths td').index(parentEl));options.current.setFullYear(parseInt(tblEl.find('thead th a.datepickerMonth span').text(),10));options.current.addMonths(currentCal-tblIndex);tblEl.eq(0).toggleClass('datepickerViewMonths datepickerViewDays')}else if(tblEl.eq(0).hasClass('datepickerViewYears')){options.current.setFullYear(parseInt(el.text(),10));tblEl.eq(0).toggleClass('datepickerViewYears datepickerViewMonths')}else{var val=parseInt(el.text(),10);tmp.addMonths(tblIndex-currentCal);if(parentEl.hasClass('datepickerNotInMonth')){tmp.addMonths(val>15?-1:1)}
tmp.setDate(val);switch(options.mode){case 'multiple':val=(tmp.setHours(0,0,0,0)).valueOf();if($.inArray(val,options.date)>-1){$.each(options.date,function(nr,dat){if(dat==val){options.date.splice(nr,1);return !1}})}else{options.date.push(val)}
break;case 'range':if(!options.lastSel){options.date[0]=(tmp.setHours(0,0,0,0)).valueOf()}
val=(tmp.setHours(23,59,59,0)).valueOf();if(val<options.date[0]){options.date[1]=options.date[0]+86399000;options.date[0]=val-86399000}else{options.date[1]=val}
options.lastSel=!options.lastSel;break;default:options.date=tmp.valueOf();break}
changed=!0}
fillIt=!0}
if(fillIt){fill(this)}
if(changed){options.onChange.apply(this,prepareDate(options))}}
return !1},prepareDate=function(options){var dates=null;if(options.mode=='single'){if(options.date)dates=new Date(options.date)}else{dates=new Array();$(options.date).each(function(i,val){dates.push(new Date(val))})}
return[dates,options.el]},getViewport=function(){var m=document.compatMode=='CSS1Compat';return{l:window.pageXOffset||(m?document.documentElement.scrollLeft:document.body.scrollLeft),t:window.pageYOffset||(m?document.documentElement.scrollTop:document.body.scrollTop),w:window.innerWidth||(m?document.documentElement.clientWidth:document.body.clientWidth),h:window.innerHeight||(m?document.documentElement.clientHeight:document.body.clientHeight)}},isChildOf=function(parentEl,el,container){if(parentEl==el){return !0}
if(parentEl.contains){return parentEl.contains(el)}
if(parentEl.compareDocumentPosition){return !!(parentEl.compareDocumentPosition(el)&16)}
var prEl=el.parentNode;while(prEl&&prEl!=container){if(prEl==parentEl)
return !0;prEl=prEl.parentNode}
return !1},show=function(ev){var cal=$('#'+$(this).data().datepickerId);if(!cal.is(':visible')){var calEl=cal.get(0);var options=cal.data().datepicker;var test=options.onBeforeShow.apply(this,[calEl]);if(options.onBeforeShow.apply(this,[calEl])==!1){return}
fill(calEl);var pos=$(this).offset();var viewPort=getViewport();var top=pos.top;var left=pos.left;var oldDisplay=$.curCSS(calEl,'display');cal.css({visibility:'hidden',display:'block'});layout(calEl);switch(options.position){case 'top':top-=calEl.offsetHeight;break;case 'left':left-=calEl.offsetWidth;break;case 'right':left+=this.offsetWidth;break;case 'bottom':top+=this.offsetHeight;break}
if(top+calEl.offsetHeight>viewPort.t+viewPort.h){top=pos.top-calEl.offsetHeight}
if(top<viewPort.t){top=pos.top+this.offsetHeight+calEl.offsetHeight}
if(left+calEl.offsetWidth>viewPort.l+viewPort.w){left=pos.left-calEl.offsetWidth}
if(left<viewPort.l){left=pos.left+this.offsetWidth}
cal.css({visibility:'visible',display:'block',top:top+'px',left:left+'px'});options.onAfterShow.apply(this,[cal.get(0)]);$(document).bind('mousedown',{cal:cal,trigger:this},hide)}
return !1},hide=function(ev){if(ev.target!=ev.data.trigger&&!isChildOf(ev.data.cal.get(0),ev.target,ev.data.cal.get(0))){if(ev.data.cal.data().datepicker.onBeforeHide.apply(this,[ev.data.cal.get(0)])!=!1){ev.data.cal.hide();ev.data.cal.data().datepicker.onAfterHide.apply(this,[ev.data.cal.get(0)]);$(document).unbind('mousedown',hide)}}},normalizeDate=function(mode,date){if(mode!='single'&&!date)date=[];if(date&&(!$.isArray(date)||date.length>0)){if(mode!='single'){if(!$.isArray(date)){date=[((new Date(date)).setHours(0,0,0,0)).valueOf()];if(mode=='range'){date.push(((new Date(date[0])).setHours(23,59,59,0)).valueOf())}}else{for(var i=0;i<date.length;i++){date[i]=((new Date(date[i])).setHours(0,0,0,0)).valueOf()}
if(mode=='range'){if(date.length==1)date.push(new Date(date[0]));date[1]=((new Date(date[1])).setHours(23,59,59,0)).valueOf()}}}else{date=((new Date(date)).setHours(0,0,0,0)).valueOf()}}
return date};return{init:function(options){options=$.extend({},defaults,options||{});extendDate(options.locale);options.calendars=Math.max(1,parseInt(options.calendars,10)||1);options.mode=/single|multiple|range/.test(options.mode)?options.mode:'single';return this.each(function(){if(!$(this).data().datepicker){options.el=this;options.date=normalizeDate(options.mode,options.date);if(!options.current){options.current=new Date()}else{options.current=new Date(options.current)}
options.current.setDate(1);options.current.setHours(0,0,0,0);var id='datepicker_'+parseInt(Math.random()*1000),cnt;options.id=id;$(this).data('datepickerId',options.id);var cal=$(tpl.wrapper).attr('id',id).bind('click',click).data('datepicker',options);if(options.className){cal.addClass(options.className)}
var html='';for(var i=0;i<options.calendars;i++){cnt=options.starts;if(i>0){html+=tpl.space}
html+=tmpl(tpl.head.join(''),{prev:options.prev,next:options.next,day1:options.locale.daysMin[(cnt++)%7],day2:options.locale.daysMin[(cnt++)%7],day3:options.locale.daysMin[(cnt++)%7],day4:options.locale.daysMin[(cnt++)%7],day5:options.locale.daysMin[(cnt++)%7],day6:options.locale.daysMin[(cnt++)%7],day7:options.locale.daysMin[(cnt++)%7]})}
cal.find('tr:first').append(html).find('table').addClass(views[options.view]);fill(cal.get(0));if(options.inline){cal.appendTo(this).show().css('position','relative');layout(cal.get(0))}else{cal.appendTo(document.body);$(this).bind(options.showOn,show)}}})},showPicker:function(){return this.each(function(){if($(this).data().datepickerId){var cal=$('#'+$(this).data().datepickerId);var options=cal.data().datepicker;if(!options.inline){show.apply(this)}}})},hidePicker:function(){return this.each(function(){if($(this).data().datepickerId){var cal=$('#'+$(this).data().datepickerId);var options=cal.data().datepicker;if(!options.inline){$('#'+$(this).data().datepickerId).hide()}}})},setDate:function(date,shiftTo){return this.each(function(){if($(this).data().datepickerId){var cal=$('#'+$(this).data().datepickerId);var options=cal.data().datepicker;options.date=normalizeDate(options.mode,date);if(shiftTo){options.current=new Date(options.mode!='single'?options.date[0]:options.date)}
fill(cal.get(0))}})},getDate:function(){if(this.size()>0){return prepareDate($('#'+$(this).data().datepickerId).data().datepicker)}},clear:function(){return this.each(function(){if($(this).data().datepickerId){var cal=$('#'+$(this).data().datepickerId);var options=cal.data().datepicker;if(options.mode=='single'){options.date=null}else{options.date=[]}
fill(cal.get(0))}})},fixLayout:function(){return this.each(function(){if($(this).data().datepickerId){var cal=$('#'+$(this).data().datepickerId);var options=cal.data().datepicker;if(options.inline){layout(cal.get(0))}}})}}}();$.fn.extend({DatePicker:DatePicker.init,DatePickerHide:DatePicker.hidePicker,DatePickerShow:DatePicker.showPicker,DatePickerSetDate:DatePicker.setDate,DatePickerGetDate:DatePicker.getDate,DatePickerClear:DatePicker.clear,DatePickerLayout:DatePicker.fixLayout})})(jQuery);(function(){var cache={};this.tmpl=function tmpl(str,data){var fn=!/\W/.test(str)?cache[str]=cache[str]||tmpl(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return data?fn(data):fn}})();(function($){var methods={init:function(options){var textarea=this;var settings={syntax:[{buttonClass:'edith1',buttonTitle:'nagłówek',mark:'# ',insert:'before',placeholder:'Nagłówek...'},{buttonClass:'editb',buttonTitle:'tekst pogrubiony',mark:'**',insert:'both',placeholder:'tekst pogrubiony',inline:!0},{buttonClass:'editi',buttonTitle:'tekst pochylony',mark:'_',insert:'both',placeholder:'tekst pochylony',inline:!0},{buttonClass:'editcode',buttonTitle:'kod',mark:'`',insert:'both',placeholder:'kod',inline:!1},{buttonClass:'editunder',buttonTitle:'tekst podkreślony',mark:'\n* * *\n',insert:'replace'},{buttonClass:'editlink',buttonTitle:'link',mark:'',insert:'link'},{buttonClass:'editul',buttonTitle:'element listy',mark:'* ',insert:'before',placeholder:'element listy'},{buttonClass:'editquote',buttonTitle:'cytat',mark:'> ',insert:'before',placeholder:'Cytowany tekst...'},{buttonClass:'editspoiler',buttonTitle:'spoiler',mark:'! ',insert:'before',placeholder:'Ukryty tekst...'},{buttonClass:'editlenny',buttonTitle:'lennyface',mark:'( ͡° ͜ʖ ͡°)',insert:'replace',placeholder:''},{buttonClass:'editlenny2',buttonTitle:'lennyface',mark:'( ͡° ʖ̯ ͡°)',insert:'replace',placeholder:''},{buttonClass:'editlenny3',buttonTitle:'lennyface',mark:'( ͡º ͜ʖ͡º)',insert:'replace',placeholder:''},{buttonClass:'editlenny4',buttonTitle:'lennyface',mark:'( ͡°( ͡° ͜ʖ( ͡° ͜ʖ ͡°)ʖ ͡°) ͡°)',insert:'replace',placeholder:''},{buttonClass:'editlenny5',buttonTitle:'lennyface',mark:'(⌐ ͡■ ͜ʖ ͡■)',insert:'replace',placeholder:''},{buttonClass:'editlenny6',buttonTitle:'lennyface',mark:'(╥﹏╥)',insert:'replace',placeholder:''},{buttonClass:'editlenny7',buttonTitle:'lennyface',mark:'(╯︵╰,)',insert:'replace',placeholder:''},{buttonClass:'editlenny8',buttonTitle:'lennyface',mark:'(ʘ‿ʘ)',insert:'replace',placeholder:''},{buttonClass:'editlenny9',buttonTitle:'lennyface',mark:'(｡◕‿‿◕｡)',insert:'replace',placeholder:''},{buttonClass:'editlenny10',buttonTitle:'lennyface',mark:'ᕙ(⇀‸↼‶)ᕗ',insert:'replace',placeholder:''},{buttonClass:'editlenny11',buttonTitle:'lennyface',mark:'ᕦ(òóˇ)ᕤ',insert:'replace',placeholder:''},{buttonClass:'editlenny12',buttonTitle:'lennyface',mark:'(✌ ﾟ ∀ ﾟ)☞',insert:'replace',placeholder:''},{buttonClass:'editlenny13',buttonTitle:'lennyface',mark:'ʕ•ᴥ•ʔ',insert:'replace',placeholder:''},{buttonClass:'editlenny14',buttonTitle:'lennyface',mark:'ᶘᵒᴥᵒᶅ',insert:'replace',placeholder:''},{buttonClass:'editlenny15',buttonTitle:'lennyface',mark:'(⌒(oo)⌒)',insert:'replace',placeholder:''},{buttonClass:'editlenny16',buttonTitle:'lennyface',mark:'ᄽὁȍ ̪ őὀᄿ',insert:'replace',placeholder:''},{buttonClass:'editlenny17',buttonTitle:'lennyface',mark:'( ͡€ ͜ʖ ͡€)',insert:'replace',placeholder:''},{buttonClass:'editlenny18',buttonTitle:'lennyface',mark:'( ͡° ͜ʖ ͡°)',insert:'replace',placeholder:''},{buttonClass:'editlenny19',buttonTitle:'lennyface',mark:'( ͡° ͜ʖ ͡°)ﾉ⌐■-■',insert:'replace',placeholder:''},{buttonClass:'editlenny20',buttonTitle:'lennyface',mark:'(⌐ ͡■ ͜ʖ ͡■)',insert:'replace',placeholder:''},],toolbarScope:'div.wysiwygopt'};if(options){$.extend(settings,options)}
var $form=textarea.closest('form');var $toolbar=$form.find(settings.toolbarScope);for(i in settings.syntax){var el=settings.syntax[i];$toolbar.find('.'+el.buttonClass).closest('a').data('markdown',el).attr('title',el.buttonTitle).unbind('click').click(function(){textarea.markdownEditor('insert',$(this).data().markdown);return !1})}
textarea.keydown(function(e){if(e.ctrlKey){switch(e.which){case 66:$toolbar.find('.editb').trigger('click');break;case 73:$toolbar.find('.editi').trigger('click');break}}});return this},insert:function(el){range=this.getSelection();var text=this.val();select={start:range.end,end:range.end};if(range.text.length==0&&el.placeholder){range.text=el.placeholder;select.end+=el.placeholder.length}
switch(el.insert){case 'before':var newline='';if(text.substr(0,range.start).match(/\S$/)){newline="\n"}
text=text.substr(0,range.start)+newline+el.mark+jQuery.trim(range.text).replace(/\n(\S)/g,"\n"+el.mark+"$1")+text.substr(range.end);select.start+=el.mark.length;select.end+=el.mark.length;break;case 'after':text=text.substr(0,range.start)+range.text+el.mark+text.substr(range.end);select.start-=el.mark.length;select.end-=el.mark.length;break;case 'both':if(el.inline){text=text.substr(0,range.start)+el.mark+jQuery.trim(range.text).replace(/(\S)(\n+)(\S)/g,"$1"+el.mark+"$2"+el.mark+"$3")+el.mark+text.substr(range.end)}else{text=text.substr(0,range.start)+el.mark+range.text+el.mark+text.substr(range.end)}
select.start+=el.mark.length;select.end+=el.mark.length;break;case 'replace':text=text.substr(0,range.start)+el.mark+text.substr(range.end);select.start=range.end+el.mark.length;select.end=select.start;break;case 'link':if(range.length>0){if(range.text.indexOf('http')==0){el.mark='[opis odnośnika]('+range.text+')'}else{el.mark='['+range.text+'](http://www.wykop.pl)'}}else{el.mark='[opis odnośnika](http://www.wykop.pl)';select.start+=1;select.end+=15}
text=text.substr(0,range.start)+el.mark+text.substr(range.end);break;case 'list':break}
this.val(text);this.setSelection(select.start,select.end)},};$.fn.markdownEditor=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments)}else{$.error('Method '+method+' does not exist on jQuery.markdownEditor')}}})(jQuery);(function(){var fieldSelection={getSelection:function(){var e=this.jquery?this[0]:this;return(('selectionStart' in e&&function(){var l=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:l,text:e.value.substr(e.selectionStart,l)}})||(document.selection&&function(){e.focus();var r=document.selection.createRange();if(r==null){return{start:0,end:e.value.length,length:0}}
var re=e.createTextRange();var rc=re.duplicate();re.moveToBookmark(r.getBookmark());rc.setEndPoint('EndToStart',re);return{start:rc.text.length,end:rc.text.length+r.text.length,length:r.text.length,text:r.text}})||function(){return{start:0,end:e.value.length,length:0}})()},replaceSelection:function(){var e=this.jquery?this[0]:this;var text=arguments[0]||'';return(('selectionStart' in e&&function(){e.value=e.value.substr(0,e.selectionStart)+text+e.value.substr(e.selectionEnd,e.value.length);return this})||(document.selection&&function(){e.focus();document.selection.createRange().text=text;return this})||function(){e.value+=text;return this})()},setSelection:function(start,end){var e=this.jquery?this[0]:this;if(e.setSelectionRange){e.focus();e.setSelectionRange(start,end)}else if(e.createTextRange){var range=e.createTextRange();range.collapse(!0);range.moveEnd('character',end);range.moveStart('character',start);range.select()}else if(e.selectionStart){e.selectionStart=start;e.selectionEnd=end}
return this},};jQuery.each(fieldSelection,function(i){jQuery.fn[i]=this})})();(function(document,Math,undefined){(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory)}else if(jQuery&&!jQuery.fn.sparkline){factory(jQuery)}}(function($){'use strict';var UNSET_OPTION={},getDefaults,createClass,SPFormat,clipval,quartile,normalizeValue,normalizeValues,remove,isNumber,all,sum,addCSS,ensureArray,formatNumber,RangeMap,MouseHandler,Tooltip,barHighlightMixin,line,bar,tristate,discrete,bullet,pie,box,defaultStyles,initStyles,VShape,VCanvas_base,VCanvas_canvas,VCanvas_vml,pending,shapeCount=0;getDefaults=function(){return{common:{type:'line',lineColor:'#00f',fillColor:'#cdf',defaultPixelsPerValue:3,width:'auto',height:'auto',composite:!1,tagValuesAttribute:'values',tagOptionsPrefix:'spark',enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:'',tooltipSuffix:'',disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:',',numberDecimalMark:'.',disableTooltips:!1,disableInteraction:!1},line:{spotColor:'#f80',highlightSpotColor:'#5f5',highlightLineColor:'#f22',spotRadius:1.5,minSpotColor:'#f80',maxSpotColor:'#f80',lineWidth:1,normalRangeMin:undefined,normalRangeMax:undefined,normalRangeColor:'#ccc',drawNormalOnTop:!1,chartRangeMin:undefined,chartRangeMax:undefined,chartRangeMinX:undefined,chartRangeMaxX:undefined,tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:'#3366cc',negBarColor:'#f44',stackedBarColor:['#3366cc','#dc3912','#ff9900','#109618','#66aa00','#dd4477','#0099c6','#990099'],zeroColor:undefined,nullColor:undefined,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1,colorMap:undefined,tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:'#6f6',negBarColor:'#f44',zeroBarColor:'#999',colorMap:{},tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{'-1':'Loss','0':'Draw','1':'Win'}}},discrete:{lineHeight:'auto',thresholdColor:undefined,thresholdValue:0,chartRangeMax:undefined,chartRangeMin:undefined,chartRangeClip:!1,tooltipFormat:new SPFormat('{{prefix}}{{value}}{{suffix}}')},bullet:{targetColor:'#f33',targetWidth:3,performanceColor:'#33f',rangeColors:['#d3dafe','#a8b6ff','#7f94ff'],base:undefined,tooltipFormat:new SPFormat('{{fieldkey:fields}} - {{value}}'),tooltipValueLookups:{fields:{r:'Range',p:'Performance',t:'Target'}}},pie:{offset:0,sliceColors:['#3366cc','#dc3912','#ff9900','#109618','#66aa00','#dd4477','#0099c6','#990099'],borderWidth:0,borderColor:'#000',tooltipFormat:new SPFormat('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:'#000',boxFillColor:'#cdf',whiskerColor:'#000',outlierLineColor:'#333',outlierFillColor:'#fff',medianColor:'#f00',showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:undefined,targetColor:'#4a2',chartRangeMax:undefined,chartRangeMin:undefined,tooltipFormat:new SPFormat('{{field:fields}}: {{value}}'),tooltipFormatFieldlistKey:'field',tooltipValueLookups:{fields:{lq:'Lower Quartile',med:'Median',uq:'Upper Quartile',lo:'Left Outlier',ro:'Right Outlier',lw:'Left Whisker',rw:'Right Whisker'}}}}};defaultStyles='.jqstooltip { '+'position: absolute;'+'left: 0px;'+'top: 0px;'+'visibility: hidden;'+'background: rgb(0, 0, 0) transparent;'+'background-color: rgba(0,0,0,0.6);'+'filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);'+'-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";'+'color: white;'+'font: 10px arial, san serif;'+'text-align: left;'+'white-space: nowrap;'+'padding: 5px;'+'border: 1px solid white;'+'z-index: 10000;'+'}'+'.jqsfield { '+'color: white;'+'font: 10px arial, san serif;'+'text-align: left;'+'}';createClass=function(){var Class,args;Class=function(){this.init.apply(this,arguments)};if(arguments.length>1){if(arguments[0]){Class.prototype=$.extend(new arguments[0](),arguments[arguments.length-1]);Class._super=arguments[0].prototype}else{Class.prototype=arguments[arguments.length-1]}
if(arguments.length>2){args=Array.prototype.slice.call(arguments,1,-1);args.unshift(Class.prototype);$.extend.apply($,args)}}else{Class.prototype=arguments[0]}
Class.prototype.cls=Class;return Class};$.SPFormatClass=SPFormat=createClass({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(format,fclass){this.format=format;this.fclass=fclass},render:function(fieldset,lookups,options){var self=this,fields=fieldset,match,token,lookupkey,fieldvalue,prec;return this.format.replace(this.fre,function(){var lookup;token=arguments[1];lookupkey=arguments[3];match=self.precre.exec(token);if(match){prec=match[2];token=match[1]}else{prec=!1}
fieldvalue=fields[token];if(fieldvalue===undefined){return ''}
if(lookupkey&&lookups&&lookups[lookupkey]){lookup=lookups[lookupkey];if(lookup.get){return lookups[lookupkey].get(fieldvalue)||fieldvalue}else{return lookups[lookupkey][fieldvalue]||fieldvalue}}
if(isNumber(fieldvalue)){if(options.get('numberFormatter')){fieldvalue=options.get('numberFormatter')(fieldvalue)}else{fieldvalue=formatNumber(fieldvalue,prec,options.get('numberDigitGroupCount'),options.get('numberDigitGroupSep'),options.get('numberDecimalMark'))}}
return fieldvalue})}});$.spformat=function(format,fclass){return new SPFormat(format,fclass)};clipval=function(val,min,max){if(val<min){return min}
if(val>max){return max}
return val};quartile=function(values,q){var vl;if(q===2){vl=Math.floor(values.length/2);return values.length%2?values[vl]:(values[vl-1]+values[vl])/2}else{if(values.length%2){vl=(values.length*q+q)/4;return vl%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]}else{vl=(values.length*q+2)/4;return vl%1?(values[Math.floor(vl)]+values[Math.floor(vl)-1])/2:values[vl-1]}}};normalizeValue=function(val){var nf;switch(val){case 'undefined':val=undefined;break;case 'null':val=null;break;case 'true':val=!0;break;case 'false':val=!1;break;default:nf=parseFloat(val);if(val==nf){val=nf}}
return val};normalizeValues=function(vals){var i,result=[];for(i=vals.length;i--;){result[i]=normalizeValue(vals[i])}
return result};remove=function(vals,filter){var i,vl,result=[];for(i=0,vl=vals.length;i<vl;i++){if(vals[i]!==filter){result.push(vals[i])}}
return result};isNumber=function(num){return !isNaN(parseFloat(num))&&isFinite(num)};formatNumber=function(num,prec,groupsize,groupsep,decsep){var p,i;num=(prec===!1?parseFloat(num).toString():num.toFixed(prec)).split('');p=(p=$.inArray('.',num))<0?num.length:p;if(p<num.length){num[p]=decsep}
for(i=p-groupsize;i>0;i-=groupsize){num.splice(i,0,groupsep)}
return num.join('')};all=function(val,arr,ignoreNull){var i;for(i=arr.length;i--;){if(ignoreNull&&arr[i]===null)continue;if(arr[i]!==val){return !1}}
return !0};sum=function(vals){var total=0,i;for(i=vals.length;i--;){total+=typeof vals[i]==='number'?vals[i]:0}
return total};ensureArray=function(val){return $.isArray(val)?val:[val]};addCSS=function(css){var tag;if(document.createStyleSheet){document.createStyleSheet().cssText=css}else{tag=document.createElement('style');tag.type='text/css';document.getElementsByTagName('head')[0].appendChild(tag);tag[(typeof document.body.style.WebkitAppearance=='string')?'innerText':'innerHTML']=css}};$.fn.simpledraw=function(width,height,useExisting,interact){var target,mhandler;if(useExisting&&(target=this.data('_jqs_vcanvas'))){return target}
if($.fn.sparkline.canvas===!1){return !1}else if($.fn.sparkline.canvas===undefined){var el=document.createElement('canvas');if(!!(el.getContext&&el.getContext('2d'))){$.fn.sparkline.canvas=function(width,height,target,interact){return new VCanvas_canvas(width,height,target,interact)}}else if(document.namespaces&&!document.namespaces.v){document.namespaces.add('v','urn:schemas-microsoft-com:vml','#default#VML');$.fn.sparkline.canvas=function(width,height,target,interact){return new VCanvas_vml(width,height,target)}}else{$.fn.sparkline.canvas=!1;return !1}}
if(width===undefined){width=$(this).innerWidth()}
if(height===undefined){height=$(this).innerHeight()}
target=$.fn.sparkline.canvas(width,height,this,interact);mhandler=$(this).data('_jqs_mhandler');if(mhandler){mhandler.registerCanvas(target)}
return target};$.fn.cleardraw=function(){var target=this.data('_jqs_vcanvas');if(target){target.reset()}};$.RangeMapClass=RangeMap=createClass({init:function(map){var key,range,rangelist=[];for(key in map){if(map.hasOwnProperty(key)&&typeof key==='string'&&key.indexOf(':')>-1){range=key.split(':');range[0]=range[0].length===0?-Infinity:parseFloat(range[0]);range[1]=range[1].length===0?Infinity:parseFloat(range[1]);range[2]=map[key];rangelist.push(range)}}
this.map=map;this.rangelist=rangelist||!1},get:function(value){var rangelist=this.rangelist,i,range,result;if((result=this.map[value])!==undefined){return result}
if(rangelist){for(i=rangelist.length;i--;){range=rangelist[i];if(range[0]<=value&&range[1]>=value){return range[2]}}}
return undefined}});$.range_map=function(map){return new RangeMap(map)};MouseHandler=createClass({init:function(el,options){var $el=$(el);this.$el=$el;this.options=options;this.currentPageX=0;this.currentPageY=0;this.el=el;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!options.get('disableTooltips');this.highlightEnabled=!options.get('disableHighlight')},registerSparkline:function(sp){this.splist.push(sp);if(this.over){this.updateDisplay()}},registerCanvas:function(canvas){var $canvas=$(canvas.canvas);this.canvas=canvas;this.$canvas=$canvas;$canvas.mouseenter($.proxy(this.mouseenter,this));$canvas.mouseleave($.proxy(this.mouseleave,this));$canvas.click($.proxy(this.mouseclick,this))},reset:function(removeTooltip){this.splist=[];if(this.tooltip&&removeTooltip){this.tooltip.remove();this.tooltip=undefined}},mouseclick:function(e){var clickEvent=$.Event('sparklineClick');clickEvent.originalEvent=e;clickEvent.sparklines=this.splist;this.$el.trigger(clickEvent)},mouseenter:function(e){$(document.body).unbind('mousemove.jqs');$(document.body).bind('mousemove.jqs',$.proxy(this.mousemove,this));this.over=!0;this.currentPageX=e.pageX;this.currentPageY=e.pageY;this.currentEl=e.target;if(!this.tooltip&&this.displayTooltips){this.tooltip=new Tooltip(this.options);this.tooltip.updatePosition(e.pageX,e.pageY)}
this.updateDisplay()},mouseleave:function(){$(document.body).unbind('mousemove.jqs');var splist=this.splist,spcount=splist.length,needsRefresh=!1,sp,i;this.over=!1;this.currentEl=null;if(this.tooltip){this.tooltip.remove();this.tooltip=null}
for(i=0;i<spcount;i++){sp=splist[i];if(sp.clearRegionHighlight()){needsRefresh=!0}}
if(needsRefresh){this.canvas.render()}},mousemove:function(e){this.currentPageX=e.pageX;this.currentPageY=e.pageY;this.currentEl=e.target;if(this.tooltip){this.tooltip.updatePosition(e.pageX,e.pageY)}
this.updateDisplay()},updateDisplay:function(){var splist=this.splist,spcount=splist.length,needsRefresh=!1,offset=this.$canvas.offset(),localX=this.currentPageX-offset.left,localY=this.currentPageY-offset.top,tooltiphtml,sp,i,result,changeEvent;if(!this.over){return}
for(i=0;i<spcount;i++){sp=splist[i];result=sp.setRegionHighlight(this.currentEl,localX,localY);if(result){needsRefresh=!0}}
if(needsRefresh){changeEvent=$.Event('sparklineRegionChange');changeEvent.sparklines=this.splist;this.$el.trigger(changeEvent);if(this.tooltip){tooltiphtml='';for(i=0;i<spcount;i++){sp=splist[i];tooltiphtml+=sp.getCurrentRegionTooltip()}
this.tooltip.setContent(tooltiphtml)}
if(!this.disableHighlight){this.canvas.render()}}
if(result===null){this.mouseleave()}}});Tooltip=createClass({sizeStyle:'position: static !important;'+'display: block !important;'+'visibility: hidden !important;'+'float: left !important;',init:function(options){var tooltipClassname=options.get('tooltipClassname','jqstooltip'),sizetipStyle=this.sizeStyle,offset;this.container=options.get('tooltipContainer')||document.body;this.tooltipOffsetX=options.get('tooltipOffsetX',10);this.tooltipOffsetY=options.get('tooltipOffsetY',12);$('#jqssizetip').remove();$('#jqstooltip').remove();this.sizetip=$('<div/>',{id:'jqssizetip',style:sizetipStyle,'class':tooltipClassname});this.tooltip=$('<div/>',{id:'jqstooltip','class':tooltipClassname}).appendTo(this.container);offset=this.tooltip.offset();this.offsetLeft=offset.left;this.offsetTop=offset.top;this.hidden=!0;$(window).unbind('resize.jqs scroll.jqs');$(window).bind('resize.jqs scroll.jqs',$.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=$(window).scrollTop();this.scrollLeft=$(window).scrollLeft();this.scrollRight=this.scrollLeft+$(window).width();this.updatePosition()},getSize:function(content){this.sizetip.html(content).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(content){if(!content){this.tooltip.css('visibility','hidden');this.hidden=!0;return}
this.getSize(content);this.tooltip.html(content).css({'width':this.width,'height':this.height,'visibility':'visible'});if(this.hidden){this.hidden=!1;this.updatePosition()}},updatePosition:function(x,y){if(x===undefined){if(this.mousex===undefined){return}
x=this.mousex-this.offsetLeft;y=this.mousey-this.offsetTop}else{this.mousex=x=x-this.offsetLeft;this.mousey=y=y-this.offsetTop}
if(!this.height||!this.width||this.hidden){return}
y-=this.height+this.tooltipOffsetY;x+=this.tooltipOffsetX;if(y<this.scrollTop){y=this.scrollTop}
if(x<this.scrollLeft){x=this.scrollLeft}else if(x+this.width>this.scrollRight){x=this.scrollRight-this.width}
this.tooltip.css({'left':x,'top':y})},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=undefined;$(window).unbind('resize.jqs scroll.jqs')}});initStyles=function(){addCSS(defaultStyles)};$(initStyles);pending=[];$.fn.sparkline=function(userValues,userOptions){return this.each(function(){var options=new $.fn.sparkline.options(this,userOptions),$this=$(this),render,i;render=function(){var values,width,height,tmp,mhandler,sp,vals;if(userValues==='html'||userValues===undefined){vals=this.getAttribute(options.get('tagValuesAttribute'));if(vals===undefined||vals===null){vals=$this.html()}
values=vals.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,'').split(',')}else{values=userValues}
width=options.get('width')==='auto'?values.length*options.get('defaultPixelsPerValue'):options.get('width');if(options.get('height')==='auto'){if(!options.get('composite')||!$.data(this,'_jqs_vcanvas')){tmp=document.createElement('span');tmp.innerHTML='a';$this.html(tmp);height=$(tmp).innerHeight()||$(tmp).height();$(tmp).remove();tmp=null}}else{height=options.get('height')}
if(!options.get('disableInteraction')){mhandler=$.data(this,'_jqs_mhandler');if(!mhandler){mhandler=new MouseHandler(this,options);$.data(this,'_jqs_mhandler',mhandler)}else if(!options.get('composite')){mhandler.reset()}}else{mhandler=!1}
if(options.get('composite')&&!$.data(this,'_jqs_vcanvas')){if(!$.data(this,'_jqs_errnotify')){alert('Attempted to attach a composite sparkline to an element with no existing sparkline');$.data(this,'_jqs_errnotify',!0)}
return}
sp=new $.fn.sparkline[options.get('type')](this,values,options,width,height);sp.render();if(mhandler){mhandler.registerSparkline(sp)}};if(($(this).html()&&!options.get('disableHiddenCheck')&&$(this).is(':hidden'))||!$(this).parents('body').length){if(!options.get('composite')&&$.data(this,'_jqs_pending')){for(i=pending.length;i;i--){if(pending[i-1][0]==this){pending.splice(i-1,1)}}}
pending.push([this,render]);$.data(this,'_jqs_pending',!0)}else{render.call(this)}})};$.fn.sparkline.defaults=getDefaults();$.sparkline_display_visible=function(){var el,i,pl;var done=[];for(i=0,pl=pending.length;i<pl;i++){el=pending[i][0];if($(el).is(':visible')&&!$(el).parents().is(':hidden')){pending[i][1].call(el);$.data(pending[i][0],'_jqs_pending',!1);done.push(i)}else if(!$(el).closest('html').length&&!$.data(el,'_jqs_pending')){$.data(pending[i][0],'_jqs_pending',!1);done.push(i)}}
for(i=done.length;i;i--){pending.splice(done[i-1],1)}};$.fn.sparkline.options=createClass({init:function(tag,userOptions){var extendedOptions,defaults,base,tagOptionType;this.userOptions=userOptions=userOptions||{};this.tag=tag;this.tagValCache={};defaults=$.fn.sparkline.defaults;base=defaults.common;this.tagOptionsPrefix=userOptions.enableTagOptions&&(userOptions.tagOptionsPrefix||base.tagOptionsPrefix);tagOptionType=this.getTagSetting('type');if(tagOptionType===UNSET_OPTION){extendedOptions=defaults[userOptions.type||base.type]}else{extendedOptions=defaults[tagOptionType]}
this.mergedOptions=$.extend({},base,extendedOptions,userOptions)},getTagSetting:function(key){var prefix=this.tagOptionsPrefix,val,i,pairs,keyval;if(prefix===!1||prefix===undefined){return UNSET_OPTION}
if(this.tagValCache.hasOwnProperty(key)){val=this.tagValCache.key}else{val=this.tag.getAttribute(prefix+key);if(val===undefined||val===null){val=UNSET_OPTION}else if(val.substr(0,1)==='['){val=val.substr(1,val.length-2).split(',');for(i=val.length;i--;){val[i]=normalizeValue(val[i].replace(/(^\s*)|(\s*$)/g,''))}}else if(val.substr(0,1)==='{'){pairs=val.substr(1,val.length-2).split(',');val={};for(i=pairs.length;i--;){keyval=pairs[i].split(':',2);val[keyval[0].replace(/(^\s*)|(\s*$)/g,'')]=normalizeValue(keyval[1].replace(/(^\s*)|(\s*$)/g,''))}}else{val=normalizeValue(val)}
this.tagValCache.key=val}
return val},get:function(key,defaultval){var tagOption=this.getTagSetting(key),result;if(tagOption!==UNSET_OPTION){return tagOption}
return(result=this.mergedOptions[key])===undefined?defaultval:result}});$.fn.sparkline._base=createClass({disabled:!1,init:function(el,values,options,width,height){this.el=el;this.$el=$(el);this.values=values;this.options=options;this.width=width;this.height=height;this.currentRegion=undefined},initTarget:function(){var interactive=!this.options.get('disableInteraction');if(!(this.target=this.$el.simpledraw(this.width,this.height,this.options.get('composite'),interactive))){this.disabled=!0}else{this.canvasWidth=this.target.pixelWidth;this.canvasHeight=this.target.pixelHeight}},render:function(){if(this.disabled){this.el.innerHTML='';return !1}
return !0},getRegion:function(x,y){},setRegionHighlight:function(el,x,y){var currentRegion=this.currentRegion,highlightEnabled=!this.options.get('disableHighlight'),newRegion;if(x>this.canvasWidth||y>this.canvasHeight||x<0||y<0){return null}
newRegion=this.getRegion(el,x,y);if(currentRegion!==newRegion){if(currentRegion!==undefined&&highlightEnabled){this.removeHighlight()}
this.currentRegion=newRegion;if(newRegion!==undefined&&highlightEnabled){this.renderHighlight()}
return !0}
return !1},clearRegionHighlight:function(){if(this.currentRegion!==undefined){this.removeHighlight();this.currentRegion=undefined;return !0}
return !1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(highlight){},getCurrentRegionTooltip:function(){var options=this.options,header='',entries=[],fields,formats,formatlen,fclass,text,i,showFields,showFieldsKey,newFields,fv,formatter,format,fieldlen,j;if(this.currentRegion===undefined){return ''}
fields=this.getCurrentRegionFields();formatter=options.get('tooltipFormatter');if(formatter){return formatter(this,options,fields)}
if(options.get('tooltipChartTitle')){header+='<div class="jqs jqstitle">'+options.get('tooltipChartTitle')+'</div>\n'}
formats=this.options.get('tooltipFormat');if(!formats){return ''}
if(!$.isArray(formats)){formats=[formats]}
if(!$.isArray(fields)){fields=[fields]}
showFields=this.options.get('tooltipFormatFieldlist');showFieldsKey=this.options.get('tooltipFormatFieldlistKey');if(showFields&&showFieldsKey){newFields=[];for(i=fields.length;i--;){fv=fields[i][showFieldsKey];if((j=$.inArray(fv,showFields))!=-1){newFields[j]=fields[i]}}
fields=newFields}
formatlen=formats.length;fieldlen=fields.length;for(i=0;i<formatlen;i++){format=formats[i];if(typeof format==='string'){format=new SPFormat(format)}
fclass=format.fclass||'jqsfield';for(j=0;j<fieldlen;j++){if(!fields[j].isNull||!options.get('tooltipSkipNull')){$.extend(fields[j],{prefix:options.get('tooltipPrefix'),suffix:options.get('tooltipSuffix')});text=format.render(fields[j],options.get('tooltipValueLookups'),options);entries.push('<div class="'+fclass+'">'+text+'</div>')}}}
if(entries.length){return header+entries.join('\n')}
return ''},getCurrentRegionFields:function(){},calcHighlightColor:function(color,options){var highlightColor=options.get('highlightColor'),lighten=options.get('highlightLighten'),parse,mult,rgbnew,i;if(highlightColor){return highlightColor}
if(lighten){parse=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(color)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(color);if(parse){rgbnew=[];mult=color.length===4?16:1;for(i=0;i<3;i++){rgbnew[i]=clipval(Math.round(parseInt(parse[i+1],16)*mult*lighten),0,255)}
return 'rgb('+rgbnew.join(',')+')'}}
return color}});barHighlightMixin={changeHighlight:function(highlight){var currentRegion=this.currentRegion,target=this.target,shapeids=this.regionShapes[currentRegion],newShapes;if(shapeids){newShapes=this.renderRegion(currentRegion,highlight);if($.isArray(newShapes)||$.isArray(shapeids)){target.replaceWithShapes(shapeids,newShapes);this.regionShapes[currentRegion]=$.map(newShapes,function(newShape){return newShape.id})}else{target.replaceWithShape(shapeids,newShapes);this.regionShapes[currentRegion]=newShapes.id}}},render:function(){var values=this.values,target=this.target,regionShapes=this.regionShapes,shapes,ids,i,j;if(!this.cls._super.render.call(this)){return}
for(i=values.length;i--;){shapes=this.renderRegion(i);if(shapes){if($.isArray(shapes)){ids=[];for(j=shapes.length;j--;){shapes[j].append();ids.push(shapes[j].id)}
regionShapes[i]=ids}else{shapes.append();regionShapes[i]=shapes.id}}else{regionShapes[i]=null}}
target.render()}};$.fn.sparkline.line=line=createClass($.fn.sparkline._base,{type:'line',init:function(el,values,options,width,height){line._super.init.call(this,el,values,options,width,height);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(el,x,y){var i,regionMap=this.regionMap;for(i=regionMap.length;i--;){if(regionMap[i]!==null&&x>=regionMap[i][0]&&x<=regionMap[i][1]){return regionMap[i][2]}}
return undefined},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:this.yvalues[currentRegion]===null,x:this.xvalues[currentRegion],y:this.yvalues[currentRegion],color:this.options.get('lineColor'),fillColor:this.options.get('fillColor'),offset:currentRegion}},renderHighlight:function(){var currentRegion=this.currentRegion,target=this.target,vertex=this.vertices[currentRegion],options=this.options,spotRadius=options.get('spotRadius'),highlightSpotColor=options.get('highlightSpotColor'),highlightLineColor=options.get('highlightLineColor'),highlightSpot,highlightLine;if(!vertex){return}
if(spotRadius&&highlightSpotColor){highlightSpot=target.drawCircle(vertex[0],vertex[1],spotRadius,undefined,highlightSpotColor);this.highlightSpotId=highlightSpot.id;target.insertAfterShape(this.lastShapeId,highlightSpot)}
if(highlightLineColor){highlightLine=target.drawLine(vertex[0],this.canvasTop,vertex[0],this.canvasTop+this.canvasHeight,highlightLineColor);this.highlightLineId=highlightLine.id;target.insertAfterShape(this.lastShapeId,highlightLine)}},removeHighlight:function(){var target=this.target;if(this.highlightSpotId){target.removeShapeId(this.highlightSpotId);this.highlightSpotId=null}
if(this.highlightLineId){target.removeShapeId(this.highlightLineId);this.highlightLineId=null}},scanValues:function(){var values=this.values,valcount=values.length,xvalues=this.xvalues,yvalues=this.yvalues,yminmax=this.yminmax,i,val,isStr,isArray,sp;for(i=0;i<valcount;i++){val=values[i];isStr=typeof(values[i])==='string';isArray=typeof(values[i])==='object'&&values[i]instanceof Array;sp=isStr&&values[i].split(':');if(isStr&&sp.length===2){xvalues.push(Number(sp[0]));yvalues.push(Number(sp[1]));yminmax.push(Number(sp[1]))}else if(isArray){xvalues.push(val[0]);yvalues.push(val[1]);yminmax.push(val[1])}else{xvalues.push(i);if(values[i]===null||values[i]==='null'){yvalues.push(null)}else{yvalues.push(Number(val));yminmax.push(Number(val))}}}
if(this.options.get('xvalues')){xvalues=this.options.get('xvalues')}
this.maxy=this.maxyorg=Math.max.apply(Math,yminmax);this.miny=this.minyorg=Math.min.apply(Math,yminmax);this.maxx=Math.max.apply(Math,xvalues);this.minx=Math.min.apply(Math,xvalues);this.xvalues=xvalues;this.yvalues=yvalues;this.yminmax=yminmax},processRangeOptions:function(){var options=this.options,normalRangeMin=options.get('normalRangeMin'),normalRangeMax=options.get('normalRangeMax');if(normalRangeMin!==undefined){if(normalRangeMin<this.miny){this.miny=normalRangeMin}
if(normalRangeMax>this.maxy){this.maxy=normalRangeMax}}
if(options.get('chartRangeMin')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMin')<this.miny)){this.miny=options.get('chartRangeMin')}
if(options.get('chartRangeMax')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMax')>this.maxy)){this.maxy=options.get('chartRangeMax')}
if(options.get('chartRangeMinX')!==undefined&&(options.get('chartRangeClipX')||options.get('chartRangeMinX')<this.minx)){this.minx=options.get('chartRangeMinX')}
if(options.get('chartRangeMaxX')!==undefined&&(options.get('chartRangeClipX')||options.get('chartRangeMaxX')>this.maxx)){this.maxx=options.get('chartRangeMaxX')}},drawNormalRange:function(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey){var normalRangeMin=this.options.get('normalRangeMin'),normalRangeMax=this.options.get('normalRangeMax'),ytop=canvasTop+Math.round(canvasHeight-(canvasHeight*((normalRangeMax-this.miny)/rangey))),height=Math.round((canvasHeight*(normalRangeMax-normalRangeMin))/rangey);this.target.drawRect(canvasLeft,ytop,canvasWidth,height,undefined,this.options.get('normalRangeColor')).append()},render:function(){var options=this.options,target=this.target,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,vertices=this.vertices,spotRadius=options.get('spotRadius'),regionMap=this.regionMap,rangex,rangey,yvallast,canvasTop,canvasLeft,vertex,path,paths,x,y,xnext,xpos,xposnext,last,next,yvalcount,lineShapes,fillShapes,plen,valueSpots,hlSpotsEnabled,color,xvalues,yvalues,i;if(!line._super.render.call(this)){return}
this.scanValues();this.processRangeOptions();xvalues=this.xvalues;yvalues=this.yvalues;if(!this.yminmax.length||this.yvalues.length<2){return}
canvasTop=canvasLeft=0;rangex=this.maxx-this.minx===0?1:this.maxx-this.minx;rangey=this.maxy-this.miny===0?1:this.maxy-this.miny;yvallast=this.yvalues.length-1;if(spotRadius&&(canvasWidth<(spotRadius*4)||canvasHeight<(spotRadius*4))){spotRadius=0}
if(spotRadius){hlSpotsEnabled=options.get('highlightSpotColor')&&!options.get('disableInteraction');if(hlSpotsEnabled||options.get('minSpotColor')||(options.get('spotColor')&&yvalues[yvallast]===this.miny)){canvasHeight-=Math.ceil(spotRadius)}
if(hlSpotsEnabled||options.get('maxSpotColor')||(options.get('spotColor')&&yvalues[yvallast]===this.maxy)){canvasHeight-=Math.ceil(spotRadius);canvasTop+=Math.ceil(spotRadius)}
if(hlSpotsEnabled||((options.get('minSpotColor')||options.get('maxSpotColor'))&&(yvalues[0]===this.miny||yvalues[0]===this.maxy))){canvasLeft+=Math.ceil(spotRadius);canvasWidth-=Math.ceil(spotRadius)}
if(hlSpotsEnabled||options.get('spotColor')||(options.get('minSpotColor')||options.get('maxSpotColor')&&(yvalues[yvallast]===this.miny||yvalues[yvallast]===this.maxy))){canvasWidth-=Math.ceil(spotRadius)}}
canvasHeight--;if(options.get('normalRangeMin')!==undefined&&!options.get('drawNormalOnTop')){this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey)}
path=[];paths=[path];last=next=null;yvalcount=yvalues.length;for(i=0;i<yvalcount;i++){x=xvalues[i];xnext=xvalues[i+1];y=yvalues[i];xpos=canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex));xposnext=i<yvalcount-1?canvasLeft+Math.round((xnext-this.minx)*(canvasWidth/rangex)):canvasWidth;next=xpos+((xposnext-xpos)/2);regionMap[i]=[last||0,next,i];last=next;if(y===null){if(i){if(yvalues[i-1]!==null){path=[];paths.push(path)}
vertices.push(null)}}else{if(y<this.miny){y=this.miny}
if(y>this.maxy){y=this.maxy}
if(!path.length){path.push([xpos,canvasTop+canvasHeight])}
vertex=[xpos,canvasTop+Math.round(canvasHeight-(canvasHeight*((y-this.miny)/rangey)))];path.push(vertex);vertices.push(vertex)}}
lineShapes=[];fillShapes=[];plen=paths.length;for(i=0;i<plen;i++){path=paths[i];if(path.length){if(options.get('fillColor')){path.push([path[path.length-1][0],(canvasTop+canvasHeight)]);fillShapes.push(path.slice(0));path.pop()}
if(path.length>2){path[0]=[path[0][0],path[1][1]]}
lineShapes.push(path)}}
plen=fillShapes.length;for(i=0;i<plen;i++){target.drawShape(fillShapes[i],options.get('fillColor'),options.get('fillColor')).append()}
if(options.get('normalRangeMin')!==undefined&&options.get('drawNormalOnTop')){this.drawNormalRange(canvasLeft,canvasTop,canvasHeight,canvasWidth,rangey)}
plen=lineShapes.length;for(i=0;i<plen;i++){target.drawShape(lineShapes[i],options.get('lineColor'),undefined,options.get('lineWidth')).append()}
if(spotRadius&&options.get('valueSpots')){valueSpots=options.get('valueSpots');if(valueSpots.get===undefined){valueSpots=new RangeMap(valueSpots)}
for(i=0;i<yvalcount;i++){color=valueSpots.get(yvalues[i]);if(color){target.drawCircle(canvasLeft+Math.round((xvalues[i]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-(canvasHeight*((yvalues[i]-this.miny)/rangey))),spotRadius,undefined,color).append()}}}
if(spotRadius&&options.get('spotColor')&&yvalues[yvallast]!==null){target.drawCircle(canvasLeft+Math.round((xvalues[xvalues.length-1]-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-(canvasHeight*((yvalues[yvallast]-this.miny)/rangey))),spotRadius,undefined,options.get('spotColor')).append()}
if(this.maxy!==this.minyorg){if(spotRadius&&options.get('minSpotColor')){x=xvalues[$.inArray(this.minyorg,yvalues)];target.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-(canvasHeight*((this.minyorg-this.miny)/rangey))),spotRadius,undefined,options.get('minSpotColor')).append()}
if(spotRadius&&options.get('maxSpotColor')){x=xvalues[$.inArray(this.maxyorg,yvalues)];target.drawCircle(canvasLeft+Math.round((x-this.minx)*(canvasWidth/rangex)),canvasTop+Math.round(canvasHeight-(canvasHeight*((this.maxyorg-this.miny)/rangey))),spotRadius,undefined,options.get('maxSpotColor')).append()}}
this.lastShapeId=target.getLastShapeId();this.canvasTop=canvasTop;target.render()}});$.fn.sparkline.bar=bar=createClass($.fn.sparkline._base,barHighlightMixin,{type:'bar',init:function(el,values,options,width,height){var barWidth=parseInt(options.get('barWidth'),10),barSpacing=parseInt(options.get('barSpacing'),10),chartRangeMin=options.get('chartRangeMin'),chartRangeMax=options.get('chartRangeMax'),chartRangeClip=options.get('chartRangeClip'),stackMin=Infinity,stackMax=-Infinity,isStackString,groupMin,groupMax,stackRanges,numValues,i,vlen,range,zeroAxis,xaxisOffset,min,max,clipMin,clipMax,stacked,vlist,j,slen,svals,val,yoffset,yMaxCalc,canvasHeightEf;bar._super.init.call(this,el,values,options,width,height);for(i=0,vlen=values.length;i<vlen;i++){val=values[i];isStackString=typeof(val)==='string'&&val.indexOf(':')>-1;if(isStackString||$.isArray(val)){stacked=!0;if(isStackString){val=values[i]=normalizeValues(val.split(':'))}
val=remove(val,null);groupMin=Math.min.apply(Math,val);groupMax=Math.max.apply(Math,val);if(groupMin<stackMin){stackMin=groupMin}
if(groupMax>stackMax){stackMax=groupMax}}}
this.stacked=stacked;this.regionShapes={};this.barWidth=barWidth;this.barSpacing=barSpacing;this.totalBarWidth=barWidth+barSpacing;this.width=width=(values.length*barWidth)+((values.length-1)*barSpacing);this.initTarget();if(chartRangeClip){clipMin=chartRangeMin===undefined?-Infinity:chartRangeMin;clipMax=chartRangeMax===undefined?Infinity:chartRangeMax}
numValues=[];stackRanges=stacked?[]:numValues;var stackTotals=[];var stackRangesNeg=[];for(i=0,vlen=values.length;i<vlen;i++){if(stacked){vlist=values[i];values[i]=svals=[];stackTotals[i]=0;stackRanges[i]=stackRangesNeg[i]=0;for(j=0,slen=vlist.length;j<slen;j++){val=svals[j]=chartRangeClip?clipval(vlist[j],clipMin,clipMax):vlist[j];if(val!==null){if(val>0){stackTotals[i]+=val}
if(stackMin<0&&stackMax>0){if(val<0){stackRangesNeg[i]+=Math.abs(val)}else{stackRanges[i]+=val}}else{stackRanges[i]+=Math.abs(val-(val<0?stackMax:stackMin))}
numValues.push(val)}}}else{val=chartRangeClip?clipval(values[i],clipMin,clipMax):values[i];val=values[i]=normalizeValue(val);if(val!==null){numValues.push(val)}}}
this.max=max=Math.max.apply(Math,numValues);this.min=min=Math.min.apply(Math,numValues);this.stackMax=stackMax=stacked?Math.max.apply(Math,stackTotals):max;this.stackMin=stackMin=stacked?Math.min.apply(Math,numValues):min;if(options.get('chartRangeMin')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMin')<min)){min=options.get('chartRangeMin')}
if(options.get('chartRangeMax')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMax')>max)){max=options.get('chartRangeMax')}
this.zeroAxis=zeroAxis=options.get('zeroAxis',!0);if(min<=0&&max>=0&&zeroAxis){xaxisOffset=0}else if(zeroAxis==!1){xaxisOffset=min}else if(min>0){xaxisOffset=min}else{xaxisOffset=max}
this.xaxisOffset=xaxisOffset;range=stacked?(Math.max.apply(Math,stackRanges)+Math.max.apply(Math,stackRangesNeg)):max-min;this.canvasHeightEf=(zeroAxis&&min<0)?this.canvasHeight-2:this.canvasHeight-1;if(min<xaxisOffset){yMaxCalc=(stacked&&max>=0)?stackMax:max;yoffset=(yMaxCalc-xaxisOffset)/range*this.canvasHeight;if(yoffset!==Math.ceil(yoffset)){this.canvasHeightEf-=2;yoffset=Math.ceil(yoffset)}}else{yoffset=this.canvasHeight}
this.yoffset=yoffset;if($.isArray(options.get('colorMap'))){this.colorMapByIndex=options.get('colorMap');this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=options.get('colorMap');if(this.colorMapByValue&&this.colorMapByValue.get===undefined){this.colorMapByValue=new RangeMap(this.colorMapByValue)}}
this.range=range},getRegion:function(el,x,y){var result=Math.floor(x/this.totalBarWidth);return(result<0||result>=this.values.length)?undefined:result},getCurrentRegionFields:function(){var currentRegion=this.currentRegion,values=ensureArray(this.values[currentRegion]),result=[],value,i;for(i=values.length;i--;){value=values[i];result.push({isNull:value===null,value:value,color:this.calcColor(i,value,currentRegion),offset:currentRegion})}
return result},calcColor:function(stacknum,value,valuenum){var colorMapByIndex=this.colorMapByIndex,colorMapByValue=this.colorMapByValue,options=this.options,color,newColor;if(this.stacked){color=options.get('stackedBarColor')}else{color=(value<0)?options.get('negBarColor'):options.get('barColor')}
if(value===0&&options.get('zeroColor')!==undefined){color=options.get('zeroColor')}
if(colorMapByValue&&(newColor=colorMapByValue.get(value))){color=newColor}else if(colorMapByIndex&&colorMapByIndex.length>valuenum){color=colorMapByIndex[valuenum]}
return $.isArray(color)?color[stacknum%color.length]:color},renderRegion:function(valuenum,highlight){var vals=this.values[valuenum],options=this.options,xaxisOffset=this.xaxisOffset,result=[],range=this.range,stacked=this.stacked,target=this.target,x=valuenum*this.totalBarWidth,canvasHeightEf=this.canvasHeightEf,yoffset=this.yoffset,y,height,color,isNull,yoffsetNeg,i,valcount,val,minPlotted,allMin;vals=$.isArray(vals)?vals:[vals];valcount=vals.length;val=vals[0];isNull=all(null,vals);allMin=all(xaxisOffset,vals,!0);if(isNull){if(options.get('nullColor')){color=highlight?options.get('nullColor'):this.calcHighlightColor(options.get('nullColor'),options);y=(yoffset>0)?yoffset-1:yoffset;return target.drawRect(x,y,this.barWidth-1,0,color,color)}else{return undefined}}
yoffsetNeg=yoffset;for(i=0;i<valcount;i++){val=vals[i];if(stacked&&val===xaxisOffset){if(!allMin||minPlotted){continue}
minPlotted=!0}
if(range>0){height=Math.floor(canvasHeightEf*((Math.abs(val-xaxisOffset)/range)))+1}else{height=1}
if(val<xaxisOffset||(val===xaxisOffset&&yoffset===0)){y=yoffsetNeg;yoffsetNeg+=height}else{y=yoffset-height;yoffset-=height}
color=this.calcColor(i,val,valuenum);if(highlight){color=this.calcHighlightColor(color,options)}
result.push(target.drawRect(x,y,this.barWidth-1,height-1,color,color))}
if(result.length===1){return result[0]}
return result}});$.fn.sparkline.tristate=tristate=createClass($.fn.sparkline._base,barHighlightMixin,{type:'tristate',init:function(el,values,options,width,height){var barWidth=parseInt(options.get('barWidth'),10),barSpacing=parseInt(options.get('barSpacing'),10);tristate._super.init.call(this,el,values,options,width,height);this.regionShapes={};this.barWidth=barWidth;this.barSpacing=barSpacing;this.totalBarWidth=barWidth+barSpacing;this.values=$.map(values,Number);this.width=width=(values.length*barWidth)+((values.length-1)*barSpacing);if($.isArray(options.get('colorMap'))){this.colorMapByIndex=options.get('colorMap');this.colorMapByValue=null}else{this.colorMapByIndex=null;this.colorMapByValue=options.get('colorMap');if(this.colorMapByValue&&this.colorMapByValue.get===undefined){this.colorMapByValue=new RangeMap(this.colorMapByValue)}}
this.initTarget()},getRegion:function(el,x,y){return Math.floor(x/this.totalBarWidth)},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],color:this.calcColor(this.values[currentRegion],currentRegion),offset:currentRegion}},calcColor:function(value,valuenum){var values=this.values,options=this.options,colorMapByIndex=this.colorMapByIndex,colorMapByValue=this.colorMapByValue,color,newColor;if(colorMapByValue&&(newColor=colorMapByValue.get(value))){color=newColor}else if(colorMapByIndex&&colorMapByIndex.length>valuenum){color=colorMapByIndex[valuenum]}else if(values[valuenum]<0){color=options.get('negBarColor')}else if(values[valuenum]>0){color=options.get('posBarColor')}else{color=options.get('zeroBarColor')}
return color},renderRegion:function(valuenum,highlight){var values=this.values,options=this.options,target=this.target,canvasHeight,height,halfHeight,x,y,color;canvasHeight=target.pixelHeight;halfHeight=Math.round(canvasHeight/2);x=valuenum*this.totalBarWidth;if(values[valuenum]<0){y=halfHeight;height=halfHeight-1}else if(values[valuenum]>0){y=0;height=halfHeight-1}else{y=halfHeight-1;height=2}
color=this.calcColor(values[valuenum],valuenum);if(color===null){return}
if(highlight){color=this.calcHighlightColor(color,options)}
return target.drawRect(x,y,this.barWidth-1,height-1,color,color)}});$.fn.sparkline.discrete=discrete=createClass($.fn.sparkline._base,barHighlightMixin,{type:'discrete',init:function(el,values,options,width,height){discrete._super.init.call(this,el,values,options,width,height);this.regionShapes={};this.values=values=$.map(values,Number);this.min=Math.min.apply(Math,values);this.max=Math.max.apply(Math,values);this.range=this.max-this.min;this.width=width=options.get('width')==='auto'?values.length*2:this.width;this.interval=Math.floor(width/values.length);this.itemWidth=width/values.length;if(options.get('chartRangeMin')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMin')<this.min)){this.min=options.get('chartRangeMin')}
if(options.get('chartRangeMax')!==undefined&&(options.get('chartRangeClip')||options.get('chartRangeMax')>this.max)){this.max=options.get('chartRangeMax')}
this.initTarget();if(this.target){this.lineHeight=options.get('lineHeight')==='auto'?Math.round(this.canvasHeight*0.3):options.get('lineHeight')}},getRegion:function(el,x,y){return Math.floor(x/this.itemWidth)},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],offset:currentRegion}},renderRegion:function(valuenum,highlight){var values=this.values,options=this.options,min=this.min,max=this.max,range=this.range,interval=this.interval,target=this.target,canvasHeight=this.canvasHeight,lineHeight=this.lineHeight,pheight=canvasHeight-lineHeight,ytop,val,color,x;val=clipval(values[valuenum],min,max);x=valuenum*interval;ytop=Math.round(pheight-pheight*((val-min)/range));color=(options.get('thresholdColor')&&val<options.get('thresholdValue'))?options.get('thresholdColor'):options.get('lineColor');if(highlight){color=this.calcHighlightColor(color,options)}
return target.drawLine(x,ytop,x,ytop+lineHeight,color)}});$.fn.sparkline.bullet=bullet=createClass($.fn.sparkline._base,{type:'bullet',init:function(el,values,options,width,height){var min,max,vals;bullet._super.init.call(this,el,values,options,width,height);this.values=values=normalizeValues(values);vals=values.slice();vals[0]=vals[0]===null?vals[2]:vals[0];vals[1]=values[1]===null?vals[2]:vals[1];min=Math.min.apply(Math,values);max=Math.max.apply(Math,values);if(options.get('base')===undefined){min=min<0?min:0}else{min=options.get('base')}
this.min=min;this.max=max;this.range=max-min;this.shapes={};this.valueShapes={};this.regiondata={};this.width=width=options.get('width')==='auto'?'4.0em':width;this.target=this.$el.simpledraw(width,height,options.get('composite'));if(!values.length){this.disabled=!0}
this.initTarget()},getRegion:function(el,x,y){var shapeid=this.target.getShapeAt(el,x,y);return(shapeid!==undefined&&this.shapes[shapeid]!==undefined)?this.shapes[shapeid]:undefined},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{fieldkey:currentRegion.substr(0,1),value:this.values[currentRegion.substr(1)],region:currentRegion}},changeHighlight:function(highlight){var currentRegion=this.currentRegion,shapeid=this.valueShapes[currentRegion],shape;delete this.shapes[shapeid];switch(currentRegion.substr(0,1)){case 'r':shape=this.renderRange(currentRegion.substr(1),highlight);break;case 'p':shape=this.renderPerformance(highlight);break;case 't':shape=this.renderTarget(highlight);break}
this.valueShapes[currentRegion]=shape.id;this.shapes[shape.id]=currentRegion;this.target.replaceWithShape(shapeid,shape)},renderRange:function(rn,highlight){var rangeval=this.values[rn],rangewidth=Math.round(this.canvasWidth*((rangeval-this.min)/this.range)),color=this.options.get('rangeColors')[rn-2];if(highlight){color=this.calcHighlightColor(color,this.options)}
return this.target.drawRect(0,0,rangewidth-1,this.canvasHeight-1,color,color)},renderPerformance:function(highlight){var perfval=this.values[1],perfwidth=Math.round(this.canvasWidth*((perfval-this.min)/this.range)),color=this.options.get('performanceColor');if(highlight){color=this.calcHighlightColor(color,this.options)}
return this.target.drawRect(0,Math.round(this.canvasHeight*0.3),perfwidth-1,Math.round(this.canvasHeight*0.4)-1,color,color)},renderTarget:function(highlight){var targetval=this.values[0],x=Math.round(this.canvasWidth*((targetval-this.min)/this.range)-(this.options.get('targetWidth')/2)),targettop=Math.round(this.canvasHeight*0.10),targetheight=this.canvasHeight-(targettop*2),color=this.options.get('targetColor');if(highlight){color=this.calcHighlightColor(color,this.options)}
return this.target.drawRect(x,targettop,this.options.get('targetWidth')-1,targetheight-1,color,color)},render:function(){var vlen=this.values.length,target=this.target,i,shape;if(!bullet._super.render.call(this)){return}
for(i=2;i<vlen;i++){shape=this.renderRange(i).append();this.shapes[shape.id]='r'+i;this.valueShapes['r'+i]=shape.id}
if(this.values[1]!==null){shape=this.renderPerformance().append();this.shapes[shape.id]='p1';this.valueShapes.p1=shape.id}
if(this.values[0]!==null){shape=this.renderTarget().append();this.shapes[shape.id]='t0';this.valueShapes.t0=shape.id}
target.render()}});$.fn.sparkline.pie=pie=createClass($.fn.sparkline._base,{type:'pie',init:function(el,values,options,width,height){var total=0,i;pie._super.init.call(this,el,values,options,width,height);this.shapes={};this.valueShapes={};this.values=values=$.map(values,Number);if(options.get('width')==='auto'){this.width=this.height}
if(values.length>0){for(i=values.length;i--;){total+=values[i]}}
this.total=total;this.initTarget();this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(el,x,y){var shapeid=this.target.getShapeAt(el,x,y);return(shapeid!==undefined&&this.shapes[shapeid]!==undefined)?this.shapes[shapeid]:undefined},getCurrentRegionFields:function(){var currentRegion=this.currentRegion;return{isNull:this.values[currentRegion]===undefined,value:this.values[currentRegion],percent:this.values[currentRegion]/this.total*100,color:this.options.get('sliceColors')[currentRegion%this.options.get('sliceColors').length],offset:currentRegion}},changeHighlight:function(highlight){var currentRegion=this.currentRegion,newslice=this.renderSlice(currentRegion,highlight),shapeid=this.valueShapes[currentRegion];delete this.shapes[shapeid];this.target.replaceWithShape(shapeid,newslice);this.valueShapes[currentRegion]=newslice.id;this.shapes[newslice.id]=currentRegion},renderSlice:function(valuenum,highlight){var target=this.target,options=this.options,radius=this.radius,borderWidth=options.get('borderWidth'),offset=options.get('offset'),circle=2*Math.PI,values=this.values,total=this.total,next=offset?(2*Math.PI)*(offset/360):0,start,end,i,vlen,color;vlen=values.length;for(i=0;i<vlen;i++){start=next;end=next;if(total>0){end=next+(circle*(values[i]/total))}
if(valuenum===i){color=options.get('sliceColors')[i%options.get('sliceColors').length];if(highlight){color=this.calcHighlightColor(color,options)}
return target.drawPieSlice(radius,radius,radius-borderWidth,start,end,undefined,color)}
next=end}},render:function(){var target=this.target,values=this.values,options=this.options,radius=this.radius,borderWidth=options.get('borderWidth'),shape,i;if(!pie._super.render.call(this)){return}
if(borderWidth){target.drawCircle(radius,radius,Math.floor(radius-(borderWidth/2)),options.get('borderColor'),undefined,borderWidth).append()}
for(i=values.length;i--;){if(values[i]){shape=this.renderSlice(i).append();this.valueShapes[i]=shape.id;this.shapes[shape.id]=i}}
target.render()}});$.fn.sparkline.box=box=createClass($.fn.sparkline._base,{type:'box',init:function(el,values,options,width,height){box._super.init.call(this,el,values,options,width,height);this.values=$.map(values,Number);this.width=options.get('width')==='auto'?'4.0em':width;this.initTarget();if(!this.values.length){this.disabled=1}},getRegion:function(){return 1},getCurrentRegionFields:function(){var result=[{field:'lq',value:this.quartiles[0]},{field:'med',value:this.quartiles[1]},{field:'uq',value:this.quartiles[2]}];if(this.loutlier!==undefined){result.push({field:'lo',value:this.loutlier})}
if(this.routlier!==undefined){result.push({field:'ro',value:this.routlier})}
if(this.lwhisker!==undefined){result.push({field:'lw',value:this.lwhisker})}
if(this.rwhisker!==undefined){result.push({field:'rw',value:this.rwhisker})}
return result},render:function(){var target=this.target,values=this.values,vlen=values.length,options=this.options,canvasWidth=this.canvasWidth,canvasHeight=this.canvasHeight,minValue=options.get('chartRangeMin')===undefined?Math.min.apply(Math,values):options.get('chartRangeMin'),maxValue=options.get('chartRangeMax')===undefined?Math.max.apply(Math,values):options.get('chartRangeMax'),canvasLeft=0,lwhisker,loutlier,iqr,q1,q2,q3,rwhisker,routlier,i,size,unitSize;if(!box._super.render.call(this)){return}
if(options.get('raw')){if(options.get('showOutliers')&&values.length>5){loutlier=values[0];lwhisker=values[1];q1=values[2];q2=values[3];q3=values[4];rwhisker=values[5];routlier=values[6]}else{lwhisker=values[0];q1=values[1];q2=values[2];q3=values[3];rwhisker=values[4]}}else{values.sort(function(a,b){return a-b});q1=quartile(values,1);q2=quartile(values,2);q3=quartile(values,3);iqr=q3-q1;if(options.get('showOutliers')){lwhisker=rwhisker=undefined;for(i=0;i<vlen;i++){if(lwhisker===undefined&&values[i]>q1-(iqr*options.get('outlierIQR'))){lwhisker=values[i]}
if(values[i]<q3+(iqr*options.get('outlierIQR'))){rwhisker=values[i]}}
loutlier=values[0];routlier=values[vlen-1]}else{lwhisker=values[0];rwhisker=values[vlen-1]}}
this.quartiles=[q1,q2,q3];this.lwhisker=lwhisker;this.rwhisker=rwhisker;this.loutlier=loutlier;this.routlier=routlier;unitSize=canvasWidth/(maxValue-minValue+1);if(options.get('showOutliers')){canvasLeft=Math.ceil(options.get('spotRadius'));canvasWidth-=2*Math.ceil(options.get('spotRadius'));unitSize=canvasWidth/(maxValue-minValue+1);if(loutlier<lwhisker){target.drawCircle((loutlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get('spotRadius'),options.get('outlierLineColor'),options.get('outlierFillColor')).append()}
if(routlier>rwhisker){target.drawCircle((routlier-minValue)*unitSize+canvasLeft,canvasHeight/2,options.get('spotRadius'),options.get('outlierLineColor'),options.get('outlierFillColor')).append()}}
target.drawRect(Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*0.1),Math.round((q3-q1)*unitSize),Math.round(canvasHeight*0.8),options.get('boxLineColor'),options.get('boxFillColor')).append();target.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q1-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get('lineColor')).append();target.drawLine(Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((lwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get('whiskerColor')).append();target.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),Math.round((q3-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/2),options.get('lineColor')).append();target.drawLine(Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight/4),Math.round((rwhisker-minValue)*unitSize+canvasLeft),Math.round(canvasHeight-canvasHeight/4),options.get('whiskerColor')).append();target.drawLine(Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*0.1),Math.round((q2-minValue)*unitSize+canvasLeft),Math.round(canvasHeight*0.9),options.get('medianColor')).append();if(options.get('target')){size=Math.ceil(options.get('spotRadius'));target.drawLine(Math.round((options.get('target')-minValue)*unitSize+canvasLeft),Math.round((canvasHeight/2)-size),Math.round((options.get('target')-minValue)*unitSize+canvasLeft),Math.round((canvasHeight/2)+size),options.get('targetColor')).append();target.drawLine(Math.round((options.get('target')-minValue)*unitSize+canvasLeft-size),Math.round(canvasHeight/2),Math.round((options.get('target')-minValue)*unitSize+canvasLeft+size),Math.round(canvasHeight/2),options.get('targetColor')).append()}
target.render()}});VShape=createClass({init:function(target,id,type,args){this.target=target;this.id=id;this.type=type;this.args=args},append:function(){this.target.appendShape(this);return this}});VCanvas_base=createClass({_pxregex:/(\d+)(px)?\s*$/i,init:function(width,height,target){if(!width){return}
this.width=width;this.height=height;this.target=target;this.lastShapeId=null;if(target[0]){target=target[0]}
$.data(target,'_jqs_vcanvas',this)},drawLine:function(x1,y1,x2,y2,lineColor,lineWidth){return this.drawShape([[x1,y1],[x2,y2]],lineColor,lineWidth)},drawShape:function(path,lineColor,fillColor,lineWidth){return this._genShape('Shape',[path,lineColor,fillColor,lineWidth])},drawCircle:function(x,y,radius,lineColor,fillColor,lineWidth){return this._genShape('Circle',[x,y,radius,lineColor,fillColor,lineWidth])},drawPieSlice:function(x,y,radius,startAngle,endAngle,lineColor,fillColor){return this._genShape('PieSlice',[x,y,radius,startAngle,endAngle,lineColor,fillColor])},drawRect:function(x,y,width,height,lineColor,fillColor){return this._genShape('Rect',[x,y,width,height,lineColor,fillColor])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert('reset not implemented')},_insert:function(el,target){$(target).html(el)},_calculatePixelDims:function(width,height,canvas){var match;match=this._pxregex.exec(height);if(match){this.pixelHeight=match[1]}else{this.pixelHeight=$(canvas).height()}
match=this._pxregex.exec(width);if(match){this.pixelWidth=match[1]}else{this.pixelWidth=$(canvas).width()}},_genShape:function(shapetype,shapeargs){var id=shapeCount++;shapeargs.unshift(id);return new VShape(this,id,shapetype,shapeargs)},appendShape:function(shape){alert('appendShape not implemented')},replaceWithShape:function(shapeid,shape){alert('replaceWithShape not implemented')},insertAfterShape:function(shapeid,shape){alert('insertAfterShape not implemented')},removeShapeId:function(shapeid){alert('removeShapeId not implemented')},getShapeAt:function(el,x,y){alert('getShapeAt not implemented')},render:function(){alert('render not implemented')}});VCanvas_canvas=createClass(VCanvas_base,{init:function(width,height,target,interact){VCanvas_canvas._super.init.call(this,width,height,target);this.canvas=document.createElement('canvas');if(target[0]){target=target[0]}
$.data(target,'_jqs_vcanvas',this);$(this.canvas).css({display:'inline-block',width:width,height:height,verticalAlign:'top'});this._insert(this.canvas,target);this._calculatePixelDims(width,height,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=interact;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined;$(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(lineColor,fillColor,lineWidth){var context=this.canvas.getContext('2d');if(lineColor!==undefined){context.strokeStyle=lineColor}
context.lineWidth=lineWidth===undefined?1:lineWidth;if(fillColor!==undefined){context.fillStyle=fillColor}
return context},reset:function(){var context=this._getContext();context.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=undefined},_drawShape:function(shapeid,path,lineColor,fillColor,lineWidth){var context=this._getContext(lineColor,fillColor,lineWidth),i,plen;context.beginPath();context.moveTo(path[0][0]+0.5,path[0][1]+0.5);for(i=1,plen=path.length;i<plen;i++){context.lineTo(path[i][0]+0.5,path[i][1]+0.5)}
if(lineColor!==undefined){context.stroke()}
if(fillColor!==undefined){context.fill()}
if(this.targetX!==undefined&&this.targetY!==undefined&&context.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=shapeid}},_drawCircle:function(shapeid,x,y,radius,lineColor,fillColor,lineWidth){var context=this._getContext(lineColor,fillColor,lineWidth);context.beginPath();context.arc(x,y,radius,0,2*Math.PI,!1);if(this.targetX!==undefined&&this.targetY!==undefined&&context.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=shapeid}
if(lineColor!==undefined){context.stroke()}
if(fillColor!==undefined){context.fill()}},_drawPieSlice:function(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var context=this._getContext(lineColor,fillColor);context.beginPath();context.moveTo(x,y);context.arc(x,y,radius,startAngle,endAngle,!1);context.lineTo(x,y);context.closePath();if(lineColor!==undefined){context.stroke()}
if(fillColor){context.fill()}
if(this.targetX!==undefined&&this.targetY!==undefined&&context.isPointInPath(this.targetX,this.targetY)){this.currentTargetShapeId=shapeid}},_drawRect:function(shapeid,x,y,width,height,lineColor,fillColor){return this._drawShape(shapeid,[[x,y],[x+width,y],[x+width,y+height],[x,y+height],[x,y]],lineColor,fillColor)},appendShape:function(shape){this.shapes[shape.id]=shape;this.shapeseq.push(shape.id);this.lastShapeId=shape.id;return shape.id},replaceWithShape:function(shapeid,shape){var shapeseq=this.shapeseq,i;this.shapes[shape.id]=shape;for(i=shapeseq.length;i--;){if(shapeseq[i]==shapeid){shapeseq[i]=shape.id}}
delete this.shapes[shapeid]},replaceWithShapes:function(shapeids,shapes){var shapeseq=this.shapeseq,shapemap={},sid,i,first;for(i=shapeids.length;i--;){shapemap[shapeids[i]]=!0}
for(i=shapeseq.length;i--;){sid=shapeseq[i];if(shapemap[sid]){shapeseq.splice(i,1);delete this.shapes[sid];first=i}}
for(i=shapes.length;i--;){shapeseq.splice(first,0,shapes[i].id);this.shapes[shapes[i].id]=shapes[i]}},insertAfterShape:function(shapeid,shape){var shapeseq=this.shapeseq,i;for(i=shapeseq.length;i--;){if(shapeseq[i]===shapeid){shapeseq.splice(i+1,0,shape.id);this.shapes[shape.id]=shape;return}}},removeShapeId:function(shapeid){var shapeseq=this.shapeseq,i;for(i=shapeseq.length;i--;){if(shapeseq[i]===shapeid){shapeseq.splice(i,1);break}}
delete this.shapes[shapeid]},getShapeAt:function(el,x,y){this.targetX=x;this.targetY=y;this.render();return this.currentTargetShapeId},render:function(){var shapeseq=this.shapeseq,shapes=this.shapes,shapeCount=shapeseq.length,context=this._getContext(),shapeid,shape,i;context.clearRect(0,0,this.pixelWidth,this.pixelHeight);for(i=0;i<shapeCount;i++){shapeid=shapeseq[i];shape=shapes[shapeid];this['_draw'+shape.type].apply(this,shape.args)}
if(!this.interact){this.shapes={};this.shapeseq=[]}}});VCanvas_vml=createClass(VCanvas_base,{init:function(width,height,target){var groupel;VCanvas_vml._super.init.call(this,width,height,target);if(target[0]){target=target[0]}
$.data(target,'_jqs_vcanvas',this);this.canvas=document.createElement('span');$(this.canvas).css({display:'inline-block',position:'relative',overflow:'hidden',width:width,height:height,margin:'0px',padding:'0px',verticalAlign:'top'});this._insert(this.canvas,target);this._calculatePixelDims(width,height,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;groupel='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+' '+this.pixelHeight+'"'+' style="position:absolute;top:0;left:0;width:'+this.pixelWidth+'px;height='+this.pixelHeight+'px;"></v:group>';this.canvas.insertAdjacentHTML('beforeEnd',groupel);this.group=$(this.canvas).children()[0];this.rendered=!1;this.prerender=''},_drawShape:function(shapeid,path,lineColor,fillColor,lineWidth){var vpath=[],initial,stroke,fill,closed,vel,plen,i;for(i=0,plen=path.length;i<plen;i++){vpath[i]=''+(path[i][0])+','+(path[i][1])}
initial=vpath.splice(0,1);lineWidth=lineWidth===undefined?1:lineWidth;stroke=lineColor===undefined?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ';fill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';closed=vpath[0]===vpath[vpath.length-1]?'x ':'';vel='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+' '+this.pixelHeight+'" '+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+'px;width:'+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+initial+' l '+vpath.join(', ')+' '+closed+'e">'+' </v:shape>';return vel},_drawCircle:function(shapeid,x,y,radius,lineColor,fillColor,lineWidth){var stroke,fill,vel;x-=radius;y-=radius;stroke=lineColor===undefined?' stroked="false" ':' strokeWeight="'+lineWidth+'px" strokeColor="'+lineColor+'" ';fill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';vel='<v:oval '+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;top:'+y+'px; left:'+x+'px; width:'+(radius*2)+'px; height:'+(radius*2)+'px"></v:oval>';return vel},_drawPieSlice:function(shapeid,x,y,radius,startAngle,endAngle,lineColor,fillColor){var vpath,startx,starty,endx,endy,stroke,fill,vel;if(startAngle===endAngle){return ''}
if((endAngle-startAngle)===(2*Math.PI)){startAngle=0.0;endAngle=(2*Math.PI)}
startx=x+Math.round(Math.cos(startAngle)*radius);starty=y+Math.round(Math.sin(startAngle)*radius);endx=x+Math.round(Math.cos(endAngle)*radius);endy=y+Math.round(Math.sin(endAngle)*radius);if(startx===endx&&starty===endy){if((endAngle-startAngle)<Math.PI){return ''}
startx=endx=x+radius;starty=endy=y}
if(startx===endx&&starty===endy&&(endAngle-startAngle)<Math.PI){return ''}
vpath=[x-radius,y-radius,x+radius,y+radius,startx,starty,endx,endy];stroke=lineColor===undefined?' stroked="false" ':' strokeWeight="1px" strokeColor="'+lineColor+'" ';fill=fillColor===undefined?' filled="false"':' fillColor="'+fillColor+'" filled="true" ';vel='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+' '+this.pixelHeight+'" '+' id="jqsshape'+shapeid+'" '+stroke+fill+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+'px;width:'+this.pixelWidth+'px;padding:0px;margin:0px;" '+' path="m '+x+','+y+' wa '+vpath.join(', ')+' x e">'+' </v:shape>';return vel},_drawRect:function(shapeid,x,y,width,height,lineColor,fillColor){return this._drawShape(shapeid,[[x,y],[x,y+height],[x+width,y+height],[x+width,y],[x,y]],lineColor,fillColor)},reset:function(){this.group.innerHTML=''},appendShape:function(shape){var vel=this['_draw'+shape.type].apply(this,shape.args);if(this.rendered){this.group.insertAdjacentHTML('beforeEnd',vel)}else{this.prerender+=vel}
this.lastShapeId=shape.id;return shape.id},replaceWithShape:function(shapeid,shape){var existing=$('#jqsshape'+shapeid),vel=this['_draw'+shape.type].apply(this,shape.args);existing[0].outerHTML=vel},replaceWithShapes:function(shapeids,shapes){var existing=$('#jqsshape'+shapeids[0]),replace='',slen=shapes.length,i;for(i=0;i<slen;i++){replace+=this['_draw'+shapes[i].type].apply(this,shapes[i].args)}
existing[0].outerHTML=replace;for(i=1;i<shapeids.length;i++){$('#jqsshape'+shapeids[i]).remove()}},insertAfterShape:function(shapeid,shape){var existing=$('#jqsshape'+shapeid),vel=this['_draw'+shape.type].apply(this,shape.args);existing[0].insertAdjacentHTML('afterEnd',vel)},removeShapeId:function(shapeid){var existing=$('#jqsshape'+shapeid);this.group.removeChild(existing[0])},getShapeAt:function(el,x,y){var shapeid=el.id.substr(8);return shapeid},render:function(){if(!this.rendered){this.group.innerHTML=this.prerender;this.rendered=!0}}})}))}(document,Math));$(function(){wykop.init()});wykop.bindAjax=function(selector){$('body').on('submit','form'+selector,wykop._ajaxCallFromEvent);$('body').on('click','a'+selector,wykop._ajaxCallFromEvent)};wykop._ajaxCallFromEvent=function(event){event.preventDefault();var $this=$(this);var isForm=$this.is('form');var url=isForm?$this.attr('action'):($this.data('ajaxurl')?$this.data('ajaxurl'):$this.attr('href'));var flag=$this.data('submitflag');if($this.hasClass("confirm")){if(confirm("Czy jesteś pewny?")){url=wykop.appendGetParam(url,"areYouSure=yEs")}else{return !1}}else if(wykop.isInFrame()){if(!confirm("Strona Wykop.pl została wyświetlona w ramce. Czy chcesz wykonać tą akcję?")){return !1}}
var method=isForm?'POST':'GET';var data=isForm?$this.serialize():{};wykop._ajaxCall($this,url,data,method,flag,event.type);return !1};wykop._ajaxCall=function($this,url,data,method,flag,event){var data=data||{};var method=method||"GET";var flag=flag||"";var isForm=$this.is('form');if(flag!=""){wykop.setFlag(flag)}
if(!url.match(/hash\//)){if(url.match(/\?/)){url=url.replace("?",'/hash/'+wykop.params.hash+"?")}else{url+='/hash/'+wykop.params.hash}}
if(isForm){$this.find(".submit i").show();$this.find(".submit").attr("disabled","disabled")}
$.ajax(url,{cache:!1,error:function(jqXHR,textStatus,errorThrown){},data:data,type:method,dataType:'json',dataFilter:function(data,type){if(type!='json'&&type!='jsonp'){return data}
var prefix='for(;;);';pos=data.indexOf(prefix);if(pos===0){return data.substring(prefix.length)}
return data},error:function(jqXHR,textStatus,errorThrown){if(flag!=""){wykop.unsetFlag(flag)}
if(isForm){$this.find(".submit i").hide();setTimeout(function(){$this.find(".submit").removeAttr("disabled")},1000)}},success:function(r,textStatus,jqXHR){if(flag!=""){wykop.unsetFlag(flag)}
if(isForm){$this.find(".submit i").hide();setTimeout(function(){$this.find(".submit").removeAttr("disabled")},5000)}
if(r.error){if(event){alert(r.error.message)}
return}
if(r.operations){for(var i in r.operations){var $el=$this;if(r.operations[i].selector){$el=$(r.operations[i].selector)}
if(r.operations[i].closest){$el=$el.closest(r.operations[i].closest)}
if(r.operations[i].find){$el=$el.find(r.operations[i].find)}
switch(r.operations[i].type){case 'replace':$el.replaceWith(r.operations[i].html);wykop.bindLazy();break;case 'storeAndReplace':var $obj=$(r.operations[i].html);$obj.data('original',$el);$el.replaceWith($obj);wykop.bindLazy();break;case 'append':$el.append(r.operations[i].html);wykop.bindLazy();break;case 'prepend':$el.prepend(r.operations[i].html);wykop.bindLazy();break;case 'before':$el.prepend(r.operations[i].html);wykop.bindLazy();break;case 'content':$el.html(r.operations[i].html);wykop.bindLazy();break;case 'addClass':$el.addClass(r.operations[i].html);break;case 'removeClass':$el.removeClass(r.operations[i].html);break;case 'remove':$el.remove();break;case 'slideUp':$el.slideUp();break;case 'slideDown':$el.slideDown();break;case 'hide':$el.hide();break;case 'show':$el.show();break;case 'focus':$el.focus();break;case 'callback':var fn=wykop[r.operations[i].method];if(typeof fn==='function'){fn($el,r.operations[i].data)}
break}}}}})};wykop.bindTextBody=function(selector){var $el=$(selector);$el.on('click','.showSpoiler',function(){$(this).hide();$(this).next("code").show().addClass('spoilerBody');return !1});$el.on('click','.show-more',function(){$(this).prev('.text-expanded').replaceWith($(this).prev('.text-expanded').html());$(this).hide();return !1});$el.on('click','.too-long-pic',function(e){$(this).removeClass('too-long-pic');$(this).find("p.expand").remove();return !1});$el.on('click','.more a.unhide',function(e){$(this).closest('div.hidden-comment').removeClass('hidden-comment');return !1})};wykop.isInFrame=function(){try{return window.self!==window.top}catch(e){return !0}};wykop.init=function(){wykop.intervalJobs={};wykop.height={window:$(window).innerHeight(),document:$(document).height()};$(window).resize(function(){wykop.height.window=$(window).innerHeight()});wykop.bindAjax('.ajax');wykop.bindBtns('#itemsStream');wykop.bindCommentForm('#commentForm');wykop.bindTextBody('#itemsStream, #hotEntriesBox, #upc, .pmStream');wykop.bindNaturalSuggest('#searchInput');wykop.bindEmbeds();wykop.bindViolations();wykop.bindNotifications();wykop.bindAjaxPagination();wykop.bindLazy();wykop.bindCommons();wykop.attachProfileSummary();wykop.attachTagSummary();wykop.bindProfileNotes();wykop.naturalSearch();wykop.bodyClickHandle();wykop.bindLinkVoteBtn(".grid-main,#frame-top-left,#new-frame");wykop.bindSuggest("input.suggest");wykop.handleHash();wykop.turnOnRightFooter();wykop.ajaxAutoRefresh();wykop.videoPauseOnClick();wykop.bindWindowVisibilityEvent();wykop.bindUserConfigurator();wykop.responsive();wykop.bindSocialWidget();wykop.floatRightAd();wykop.bindEmbedBtn();wykop.nabCookie();wykop.bindSurveyForm($('div.survey'));wykop.bindSurveyResults();switch(wykop.params.action){case 'widget':wykop.initEmbedWidgets();break;case 'tags':wykop.bindTagSwitcher();wykop.tagChart();wykop.tagEntryCursorPositionFix();wykop.bindAccordionList();wykop.blaBlaCar();break;case 'pm':wykop.pmInitialize($(".pmContainer:first"));break;case 'entries':if(wykop.params.method=='entryslug'){wykop.addInterval("checkNewEntryAnswers",30)}
break;case 'link':wykop.bindEmbedAmaBtn();wykop.showPlus18Alert();wykop.triggerHash();wykop.bindSocialButtons();wykop.bindLink();break;case 'index':case 'upcoming':wykop.bindDyingLinksBox();wykop.bindAccordionList();break;case 'own':wykop.bindOwnContentStats();wykop.bindOwn();break;case 'hits':wykop.bindAccordionList();break;case 'profile':wykop.sparkline();wykop.bindFavoritesListEditor();break;case 'addons':wykop.bindTextBody('div.article.preview');break;case 'amatool':wykop.bindAmaBtns();if(wykop.params.method=='questions'){wykop.addInterval("refreshAmaQuestions",10)}
break;case 'query':wykop.bindQuerySubscription();break}};wykop.createCookie=function(name,value,days){if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString()}
else var expires="";document.cookie=name+"="+value+expires+"; path=/"}
wykop.readCookie=function(name){var nameEQ=name+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length)}
return null}
wykop.eraseCookie=function(name){wykop.createCookie(name,"",-1)}
wykop.nabCookie=function(){if(typeof window.abp!=='unfefined'&&window.abp==!1){if(wykop.readCookie("nab")==null){wykop.createCookie("nab",1,3)}}else{if(wykop.readCookie("nab")!==null){wykop.eraseCookie("nab")}}}
wykop.refreshAma=function(refresh){var stream=$("#itemsStream");var status=stream.attr("data-status");var lcid=stream.attr("data-lcid");var linkId=stream.attr("data-ama");var ref=stream.attr("data-ref");var a=stream.attr("data-answers");if(status=='waiting'||status=='active'){if(refresh){wykop._ajaxCall($('#live'),wykop.params.base+'xhr/widget/ama/'+linkId+'/'+lcid+'/'+ref+'/'+a+'/')}
setTimeout(function(){wykop.refreshAma(!0)},60000)}}
wykop.initEmbedWidgets=function(){if(wykop.params.method=='ama'){wykop.refreshAma(!1)}}
wykop.floatRightAd=function(){var element=$("#fixedBox");var limitElement=$("#fixedBoxIdent");if(element.hasClass("scrollMe")){if(element.find('script').length<=2&&element.find('iframe').length==0&&element.find('div').length==0&&element.find('a').length==0&&typeof fixedBoxPopulate=='function'&&typeof window.abp=='undefined'){fixedBoxPopulate()}
$(window).scroll(function(){var isFlying=element.hasClass("latajacy");if(!isFlying&&$(window).scrollTop()>limitElement.offset().top){$("#fixedBox").css("width",'320px');$("#fixedBox").css("max-height",'635px');$("#fixedBox").css("position","fixed");$("#fixedBox").css("top","55px");$("#fixedBox").addClass("latajacy")}
if(isFlying&&$(window).scrollTop()<=limitElement.offset().top){$("#fixedBox").css("position","");$("#fixedBox").css("top","");$("#fixedBox").removeClass("latajacy")}})}}
wykop.bindUserConfigurator=function(){if($('#settingsBox').length>0){var $scope=$('#settingsBox');$('a.closepreview',$scope).on('click',function(){$.get(wykop.params.base+'ajax/account/closeconfigurator',function(){$('#settingsBox').slideUp()})});$('input[type=radio]',$scope).on('change',function(){$('#settingsBox .avatar-holder img').not('.loader').removeClass('male').removeClass('female').addClass($(this).data('class'))});$('.avatar-holder',$scope).mfupload({type:'jpg,png,jpeg,gif',maxsize:10,post_upload:wykop.params.base+"ajax2/settings/avatar/hash/"+wykop.params.hash,html_upload:wykop.params.base+"ajax2/settings/sex/hash/"+wykop.params.hash,folder:"",ini_text:"",over_text:"Upuść tutaj",over_col:'red',over_bkcol:'#B7DBA9',postdata:{'hash':wykop.params.hash},init:function(){},start:function(result){$('#settingsBox .loader').fadeIn()},loaded:function(result){var prefix='for(;;);';pos=result.indexOf(prefix);if(pos===0){result=result.substring(prefix.length)}
result=$.parseJSON(result);if(result.error){alert(result.error.message);return !1}
$('#settingsBox .avatar-holder img').not('.loader').attr('src',result.data.avatar);$('#settingsBox .loader').fadeOut()},progress:function(result){},error:function(error){alert(error.err_des)},completed:function(){}})}};wykop.bindFavoritesListEditor=function(){if($('#favorites-list').length>0){var $scope=$('#favorites-list');$('.select-all',$scope).on('click',function(){$('input[type=checkbox]','#favorites-list').prop('checked',!0);return !1});$('.select-none',$scope).on('click',function(){$('input[type=checkbox]','#favorites-list').prop('checked',!1);return !1});$('.copy-fav',$scope).on('click',function(){if($('input[type=checkbox]:checked').length==0){alert('Wybierz znaleziska z listy');return !1}
$form=$(this).closest('form');$form.find('input[name=action]').val('copy');$form.find('input[name=list]').val($(this).data().id);$form.submit();return !1});$('.remove-fav',$scope).on('click',function(){if($('input[type=checkbox]:checked').length==0){alert('Wybierz znaleziska z listy');return !1}
var result=confirm("Czy jesteś pewny?");if(result){$form=$(this).closest('form');$form.find('input[name=action]').val('remove');$form.find('input[name=list]').val($('#favorites-list').data().id);$form.submit()}
return !1})}};wykop.bindAccordionList=function(){$('ul.accordion-list > li > a').on('click',function(){var $el=$(this);var $ul=$el.closest('li').find('ul');if($ul.is(':visible')){$ul.slideUp()}else{$ul.closest('ul.accordion-list').find('ul').slideUp();$ul.slideDown()}
return !1})};wykop.bindOwnContentStats=function(){$("#showArticleStats").on('click',function(){var $container=$("div.statsContainer");$(this).find("i:first").toggleClass('fa-caret-down').toggleClass('fa-caret-up');if($container.is(':visible')){$container.slideUp()}else{$.getScript(wykop.params.base+"linkstats/votes/"+$(this).data().id);$.getScript(wykop.params.base+"linkstats/users/"+$(this).data().id);$.getScript(wykop.params.base+"linkstats/buries/"+$(this).data().id);$.getScript(wykop.params.base+"linkstats/views/"+$(this).data().id);$container.slideDown()}
return !1})};wykop.bindSocialButtons=function(){$(document.body).prepend('<div id="fb-root"></div>');(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id))return;js=d.createElement(s);js.id=id;js.src="//connect.facebook.net/pl_PL/sdk.js#version=v2.0&xfbml=1&appId=105347574961&version=v2.0";fjs.parentNode.insertBefore(js,fjs)}(document,'script','facebook-jssdk'));!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs)}}(document,'script','twitter-wjs')};wykop.bindSocialWidget=function(){if($('#social_widget').length>0){$('#social_widget').html('<iframe src="//www.facebook.com/plugins/likebox.php?href=http%3A%2F%2Fwww.facebook.com%2Fwykoppl&amp;width=292&amp;height=208&amp;show_faces=true&amp;colorscheme=light&amp;stream=false&amp;border_color=%23FFFEE8&amp;header=false&amp;appId=104592029696408" scrolling="no" frameborder="0" border="0" style="border:none; overflow:hidden; width:292px; height:185px;" allowTransparency="true"></iframe>')}}
wykop.bindDyingLinksBox=function(){var $scope=$('#dyingLinksBox');$('.prev-link',$scope).on('click',function(){var $parent=$(this).closest('li');var $prev;if($parent.prev().length>0){$prev=$parent.prev()}else{$prev=$parent.closest('ul').children(':last')}
$prev.show();$parent.hide();return !1});$('.next-link',$scope).on('click',function(){var $parent=$(this).closest('li');var $next;if($parent.next().length>0){$next=$parent.next()}else{$next=$parent.closest('ul').children(':first')}
$next.show();$parent.hide();return !1})}
wykop.videoPauseOnClick=function(){$(document.body).on('click','video.videoClickEvent',function(e){if($(this).data('paused')){$(this).data('paused',0);this.play()}else{$(this).data('paused',1);this.pause()}})};wykop.triggerHash=function(){$('a.triggerHash').on('click',function(e){document.location.hash=$(this).attr('href');wykop.handleHash();return !1})}
wykop.tagEntryCursorPositionFix=function(){$("#commentForm textarea").on('click',function(e){var $this=$(this);var v=$this.val();var u=document.location.pathname.split('/');if(v.trim().match(new RegExp('^#'+u[2]+'$','i'))){$this.focus().setCursorPosition(0);return !1}
return !0})}
wykop.showPlus18Alert=function(){if(!wykop.params.settings.plus18&&$('div.article.fullview:first').data('plus18')){var plus18='<div class="overlay"></div><div id="overlay" class="summary popup">'+'<div class="lcontrast"><div><h3 class="dark">Uwaga! Link przeznaczony tylko dla osób pełnoletnich</h3></div>'+'<div><div class="text dark">'+'<p class="red">Ta strona zawiera treść, która może być nieodpowiednia dla użytkowników poniżej 18 roku życia.</p>'+'<p class="red">Czy masz powyżej 18 lat i chcesz kontynuować?</p></div>'+'<div class="row buttons text-right"><p>'+'<input class="vertical-middle" type="checkbox" id="remember"><label class="inline vertical-middle" for="remember">nie pokazuj więcej tego komunikatu</label>'+'</p><p><a class="cancel" href="/" style="margin-right: 10px">Nie, rozmyśliłem  się</a><a class="button submit" href="">Wchodzę</a></p>'+'</div></div></div></div>';$('#site').prepend(plus18);$("#overlay a.submit").on('click',function(){if($("#overlay input[type='checkbox']").is(':checked')){wykop._ajaxCall($('#overlay'),wykop.params.base+'ajax/profile/option/name/plus18/value/1')}
$('.screen').slideDown();$('#overlay, div.overlay').fadeOut(function(){$(this).remove()});return !1});$("#overlay a.cancel").on('click',function(){document.location.href=wykop.params.base;return !1});$(".overlay").show();$('#overlay').fadeIn()}}
wykop.bodyClickHandle=function(){$(document.body).click(function(e){if($(e.target).closest(".bodyClosable").length==0){$(".bodyClosable").hide()}})}
wykop.useBrowserNotifications=notify.isSupported&&notify.permissionLevel()!=notify.PERMISSION_DENIED;wykop.useLocalStorage=function(){try{return "localStorage" in window&&window.localStorage!==null}catch(e){return !1}}();wykop.bindOwn=function(){wykop.bindTextBody('#owncontent')}
wykop.bindLazy=function(){$("img.lazy").lazyload()}
wykop.turnOnRightFooter=function(){if($("#rightFooterBox").length>0){var stateFixedBox=-1;var sideHeight=$(".grid-right").height();$("#rightFooterBox").addClass("fixed right-footer");var updateFixedBox=function(){var top=$(window).scrollTop();if(top>sideHeight&&top+wykop.height.window<wykop.height.document-300){if(stateFixedBox!=1){$("#rightFooterBox").fadeIn(300);stateFixedBox=1}}else{if(stateFixedBox!=0){$("#rightFooterBox").fadeOut(300);stateFixedBox=0}}
setTimeout(updateFixedBox,250)}
setTimeout(updateFixedBox,250);$("#rightFooterBox .button").on("click",function(){$("#newEntriesCounter a").click();$(document).scrollTop(0);return !1})}}
wykop.bindEditor=function(selector){$(selector).markdownEditor({toolbarScope:'fieldset.buttons'});$(selector).autogrow()}
wykop.bindUploads=function(selector){var form=$(selector);form.find('div.mfUploadHolder').mfupload({type:'jpg,png,jpeg,gif',maxsize:10,post_upload:wykop.params.base+(wykop.params.action=="link"?'ajax2':'xhr')+"/embed/upload/hash/"+wykop.params.hash+"/",html_upload:wykop.params.base+(wykop.params.action=="link"?'ajax2':'xhr')+"/embed/url/hash/"+wykop.params.hash+"/",folder:"",ini_text:"",over_text:"Upuść tutaj",over_col:'red',over_bkcol:'#B7DBA9',postdata:{'hash':wykop.params.hash},init:function(){},start:function(result){form.find("div.preview").remove();form.find(".mf_upload_m").prepend("<div class=\"progress-bar\"></div>")},loaded:function(result){form.find(".progress-bar").remove();var prefix='for(;;);';pos=result.indexOf(prefix);if(pos===0){result=result.substring(prefix.length)}
result=$.parseJSON(result);if(result.operations&&result.operations.length>0){wykop.mfuploaded(form,result.operations[0].data)}},progress:function(result){},error:function(error){alert(error.err_des)},completed:function(){}})}
wykop.mfuploaded=function($el,media){form=$el.closest(".dC").find("form.withEmbed");if(typeof(media.hash)=="string"){$("fieldset.files",form).remove();$("fieldset.arrow_box",form).after('<fieldset class="files row elements lcontrast">'+'<img src="'+media.preview+'" alt="" width="30"><span class="ellipsis">'+media.name+'</span>'+'<input name="attachment" type="hidden" value="'+media.hash+'" >'+'<ul class="responsive-menu">'+'<li><a href="#" class="affect hide"><i class="fa fa-bars"></i></a></li>'+'<li><input class="checkbox adultmedia" type="checkbox" name="adultmedia"> <label for="adultmedia" class="affect">dla dorosłych</label></li>'+'<li><input class="checkbox addstamp" type="checkbox" name="addstamp"> <label for="addstamp" class="affect" '+(wykop.getSetting("add_stamp",!0)?'checked="checked"':'')+'>dodaj podpis</label></li>'+'<li><a class="affect removeAttachemnt" href="#" title=""><i class="fa fa-trash-o"></i> usuń</a></li>'+'</ul>'+'</fieldset>')}
$el.closest(".dC").find(".addMediaOverlay").remove();$(".overlay").remove()}
wykop.bindSuggest=function(selector){$(selector).each(function(){if(typeof $(this).data().suggest!="undefined"){switch($(this).data().suggest){case 'tag':$(this).suggest(wykop.params.base+"ajax/suggest/tag",{natural:!1});break;case 'user':$(this).suggest(wykop.params.base+"ajax/suggest/user",{natural:!1});break}}})};wykop.bindNaturalSuggest=function(selector){$(selector).suggest(wykop.params.base+"ajax/suggest/",{natural:!0})};wykop.resetCommentForm=function(el,msg){$("fieldset.files",el).remove();el.find("textarea").val("").attr("style","");el.closest("form").find('.surveyRow').hide().find('.surveyElems *').remove();if(wykop.params.method!='entryslug'){el.find("input[name='parent_id']").val("");$(".replyOn").each(function(){$(this).removeClass("replyOn")});$(".replyForm").remove()}};wykop.removeReplyForm=function(){$(".replyForm").remove()},wykop.bindCommentForm=function(selector,selectorFromCallback){selector=typeof selectorFromCallback=="undefined"?selector:selectorFromCallback;var $el=$(selector);$el.on("click",".cancelForm",function(){wykop.resetCommentForm($(selector),"");return !1});$el.on("keydown","textarea",function(e){if(wykop.params.submitOnEnter&&e.which==13&&!e.shiftKey&&$(this).closest("form").find(".submit").attr("disabled")!='disabled'||!wykop.params.submitOnEnter&&e.which==13&&e.ctrlKey&&$(this).closest("form").find(".submit").attr("disabled")!='disabled'){$(this).closest("form").find("button.submit").click();return !1}});$el.on("click",".onEnter",function(e){e.preventDefault();wykop.params.submitOnEnter=!wykop.params.submitOnEnter;$(this).toggleClass("active");if(wykop.params.submitOnEnter){$(this).closest("form").find(".submit").hide()}else{$(this).closest("form").find(".submit").show()}
$.getJSON(wykop.params.base+"ajax/profile/option/name/"+(wykop.params.action=='pm'?'submit_on_enter_pm':'submit_on_enter')+"/value/"+(wykop.params.submitOnEnter?1:0)+"/hash/"+wykop.params.hash);return !1});$el.find('textarea').on("focus",function(){$(selector+' .buttons.dnone').fadeIn()}).one("focus",function(){wykop.bindEditor(selector+' textarea');wykop.bindUploads(selector);wykop.bindNaturalSuggest(selector+' textarea');wykop.bindMediaOverlay(selector);wykop.bindSurveyOverlay(selector)});$el.on("click",".removeAttachemnt",function(){$(this).closest("fieldset.files").remove();return !1});$el.on("click",".removeSurvey",function(){$(this).closest(".surveyRow").find('.surveyElems *').remove();$(this).closest(".surveyRow").addClass('dnone');return !1});$el.on("change",".addstamp",function(){wykop.setSetting("add_stamp",$(this).prop('checked'))});$el.find(".ddC").hoverIntent({over:function(){var $container=$(this);if(!$container.find(".dropdown").is(":visible")){$container.find(".dropdown").show()}
return !1},out:function(){var $container=$(this);if($container.find(".dropdown").is(":visible")){$container.find(".dropdown").hide()}},timeout:500})}
wykop.bindMediaOverlay=function(selector){$(selector).on("click","a.button.openAddMediaOverlay",function(){formHtml='<div class="overlay"></div>'+'<div class="summary popup addMediaOverlay" style="height: 155px"><div class="lcontrast"><div>'+'<h3 class="dark">Dodaj zdjęcie lub film</h3></div><a class="affect close" href="#"><i class="fa fa-times red"></i></a><div>'+'<form class="nospace ajax" action="'+wykop.params.base+(wykop.params.action=="link"?'ajax2':'xhr')+"/embed/url/hash/"+wykop.params.hash+'/" method="post">'+'<ul class="sub-menu inline-list">'+'<li class="inline active selectUrl"><a href="#" title="">wklej adres</a></li>'+'<li class="inline selectFile"><a href="#" title="">wybierz plik</a></li></ul>'+'<input type="text" class="embedUrl" name="url">'+'<div class="embedFile dnone"><div class="mfUploadHolder"><input type="file"></div></div>'+'<fieldset class="row buttons selectUrl"><p>'+'<a href="#" class="cancel">Anuluj</a><button class="submit " tabindex="2"><i class="fa fa-spinner fa-spin" style="display: none"></i> Dodaj</button></p></fieldset></form></div></div></div>';$(this).closest(".dC").prepend(formHtml).find(".embedUrl").focus();$(".overlay").show();$overlay=$(this).closest(".dC").find(".addMediaOverlay");wykop.bindUploads(".addMediaOverlay .embedFile");$overlay.on("click",".close,.cancel",function(){$(this).closest(".addMediaOverlay").remove();$(".overlay").remove();return !1});$overlay.on("click",".selectUrl a",function(){$overlay.find(".selectFile").removeClass("active");$(this).closest("li").addClass("active");$overlay.find(".buttons").show();$overlay.find(".embedUrl").show();$overlay.find(".embedFile").hide();return !1});$overlay.on("click",".selectFile a",function(){$overlay.find(".selectUrl").removeClass("active");$(this).closest("li").addClass("active");$overlay.find(".embedUrl").hide();$overlay.find(".buttons").hide();$overlay.find(".embedFile").show();return !1});return !1})}
wykop.bindEmbedAmaBtn=function(){$('a.embed-ama-button').on('click',function(){btnBody=$(this).attr('data-body');btnHref=$(this).attr('data-href');var matches=btnHref.match(/link\/(\d+)/);var linkId=null;if(matches.length==2){linkId=matches[1]}
taValue='<a href="'+btnHref+'" data-answers="3" class="wykop-ama">'+btnBody+'</a>'+'<script async src="//wykop.pl/embed.js?v=8" charset="utf-8"></script>';formHtml='<div class="embedPopup"><div class="overlay"></div>'+'<div class="summary popup embedOverlay" style=""><div class="lcontrast"><div>'+'<h3 class="dark">Umieść AMA live na swojej stronie</h3></div><a class="affect close" href="#"><i class="fa fa-times red"></i></a><div>'+'<h4>Skopiuj zawartość pola poniżej</h4>'+'<textarea readonly="readonly" rows="4">'+taValue+'</textarea><br />'+'<button style="float:right">Zamknij</button></div>'+'<div style="clear:both"><h4>Podgląd</h4><iframe border=0 src="/widget/ama/'+linkId+'/?a=3" width="100%" height="600"></iframe></div>'+'</div></div></div>';$(this).closest(".dC").prepend(formHtml);$(".overlay").show();$overlay=$(this).closest(".dC").find(".embedOverlay");$overlay.on("click",".close,.cancel",function(){$(this).closest(".embedOverlay").remove();$(".overlay").remove();return !1});$overlay.on("click","button",function(){$(".overlay").remove();$('.embedPopup').remove()});$(this).closest(".dC").find("textarea").select();$(this).closest(".dC").find("textarea").focus(function(){$(this).select()});$(this).closest(".dC").find("textarea").click(function(){$(this).select()});return !1})}
wykop.bindEmbedBtn=function(){$('a.embed-button').on('click',function(){btnBody=$(this).attr('data-body');btnHref=$(this).attr('data-href');btnHeight=$(this).attr('data-height');var matches=btnHref.match(/wpis\/(\d+)/);var entryId=null;if(matches.length==2){entryId=matches[1]}
taValue='<a href="'+btnHref+'" data-height="'+btnHeight+'" class="wykop-embed">'+btnBody+'</a>'+'<script async src="//wykop.pl/embed.js" charset="utf-8"></script>';formHtml='<div class="embedPopup"><div class="overlay"></div>'+'<div class="summary popup embedOverlay" style=""><div class="lcontrast"><div>'+'<h3 class="dark">Umieść wpis na swojej stronie</h3></div><a class="affect close" href="#"><i class="fa fa-times red"></i></a><div>'+'<h4>Skopiuj zawartość pola poniżej</h4>'+'<textarea readonly="readonly" rows="4">'+taValue+'</textarea><br />'+'<button style="float:right">Zamknij</button></div>'+'<div style="clear:both"><h4>Podgląd</h4><iframe border=0 src="/widget/entry/'+entryId+'/" width="100%" height="'+btnHeight+'"></iframe></div>'+'</div></div></div>';$(this).closest(".dC").prepend(formHtml);$(".overlay").show();$overlay=$(this).closest(".dC").find(".embedOverlay");$overlay.on("click",".close,.cancel",function(){$(this).closest(".embedOverlay").remove();$(".overlay").remove();return !1});$overlay.on("click","button",function(){$(".overlay").remove();$('.embedPopup').remove()});$(this).closest(".dC").find("textarea").select();$(this).closest(".dC").find("textarea").focus(function(){$(this).select()});$(this).closest(".dC").find("textarea").click(function(){$(this).select()});return !1})}
wykop.bindSurveyForm=function($elems){$elems.find('a.surveyElem').on('click',function(){$elems.find('.surveyElem').removeClass('selected');$elems.find('.surveyElem i').addClass('fa-circle-o').removeClass('fa-check');$(this).addClass('selected');$(this).find('i').addClass('fa-check').removeClass('fa-circle-o');return !1});$elems.find('.submit').on('click',function(){entryId=$(this).attr('data-entry-id');answerId=$(this).closest('.survey').find('.surveyElem a.selected').attr('data-answer');if(answerId==undefined){alert('Nic nie wybrałeś');return !1}
wykop._ajaxCall($(this),wykop.params.base+'xhr/stream/votesurvey/'+entryId+'/'+answerId+'/hash/'+wykop.params.hash);return !1})}
wykop.bindSurveyOverlay=function(selector){$(selector).on("click","a.button.openAddSurveyOverlay",function(){title='';if($('.surveyElems .surveyQuestion').size()==1){title=$('.surveyElems .surveyQuestion').val()}
answers=$('.surveyElems .surveyAnswer');answerInputs=[]
if(answers.size()==0){answerInputs.push('<input class="surveyAnswer" name="survey[answer][]" type="text" />');answerInputs.push('<input class="surveyAnswer" name="survey[answer][]" type="text" />')}else{answers.each(function(){$ans=$(this).clone();$ans.attr('type','text');answerInputs.push($ans.prop('outerHTML'))})}
formHtml='<div class="surveyPopup"><div class="overlay"></div>'+'<div class="summary popup addSurveyOverlay" style=""><div class="lcontrast">'+'<div class="popup--header"><h3 class="dark">Dodaj ankietę</h3><a class="affect close" href="#"><i class="fa fa-times red"></i></a></div>'+'<div class="popup--content"><h4>Pytanie do ankiety</h4>'+'<input type="text" class="surveyQuestion" value="'+title+'" name="survey[question]">'+'<h4 style="margin-top: 20px">Dostępne odpowiedzi</h4>'+'<ol class="sub-menu" style="list-style:decimal; padding-left: 20px; font-size: 16px">';for(elem in answerInputs){formHtml+='<li style="padding: 5px">'+answerInputs[elem]+'</li>'}
formHtml+='</ol>'+'</div><div class="popup--footer">'+'<div class="popup--footer--left"><fieldset>'+'<button class="delRowBtn" style="display:none"><i class="fa fa-minus"></i></button>'+'<button class="addRowBtn"><i class="fa fa-plus"></i></button></fieldset></div>'+'<div class="popup--footer--right right"><fieldset><button class="cancel" style="margin-right:5px;">Anuluj</button>'+'<button class="submit" tabindex="2"><i class="fa fa-spinner fa-spin" style="display: none"></i> Dodaj</button></fieldset></div></div>'+'</div></div></div>';$(this).closest(".dC").prepend(formHtml);$(".overlay").show();$overlay=$(this).closest(".dC").find(".addSurveyOverlay");$overlay.on("click",".close,.cancel",function(){$(this).closest(".addSurveyOverlay").remove();$(".overlay").remove();return !1});$overlay.on("click",".addRowBtn",function(){$(this).closest('.addSurveyOverlay').find(' ol.sub-menu').append('<li style="padding: 5px" class=""><input name="survey[answer][]" type="text" /></li>');currentInputs=$(this).closest('.addSurveyOverlay').find(' ol.sub-menu input').size();if(currentInputs>2){$(this).closest('fieldset').find('.delRowBtn').show()}
if(currentInputs>9){$(this).closest('fieldset').find('.addRowBtn').hide()}
return !1});$overlay.on("click",".delRowBtn",function(){$(this).closest('.addSurveyOverlay').find(' ol.sub-menu li:last').remove();currentInputs=$(this).closest('.addSurveyOverlay').find(' ol.sub-menu input').size();if(currentInputs<10){$(this).closest('fieldset').find('.addRowBtn').show()}
if(currentInputs<3){$(this).closest('fieldset').find('.delRowBtn').hide()}
return !1});$overlay.on("click","button.submit",function(){title=$(this).closest('.addSurveyOverlay').find('.surveyQuestion').val();if(title.length<5){alert('Pytanie nie może być tak krótkie');return !1}
lengthError=!1;$(this).closest('.addSurveyOverlay').find('input').each(function(){val=$(this).val();if(val.length<1){lengthError=!0}});if(lengthError){alert('Odpowiedzi nie mogą być puste');return !1}
$elems=$(this).closest('.addSurveyOverlay').find('input');$elems.each(function(){$(this).attr('type','hidden')});$('.surveyRow').find('span.title').text(title);$('.surveyRow').removeClass('dnone');$('.surveyElems *').remove();$('.surveyElems').append($elems);$(".overlay").remove();$('.surveyPopup').remove()});return !1})}
wykop.bindSurveyResults=function(){$(document.body).on('click','[data-toggleSurveyResults]',function(){var surveyBox=$(this).closest('#surveyBox');var submitButton=surveyBox.find('.submit');var surveyForm=surveyBox.find('[data-surveyForm]');var surveyResult=surveyBox.find('[data-surveyResult]');if(surveyForm.is(':visible')&&surveyResult.is(':hidden')){surveyForm.addClass('dnone');surveyResult.removeClass('dnone');submitButton.addClass('dnone');$(this).html('Ukryj wyniki')}else if(surveyResult.is(':visible')&&surveyForm.is(':hidden')){surveyResult.addClass('dnone');surveyForm.removeClass('dnone');submitButton.removeClass('dnone');$(this).html('Pokaż wyniki')}})}
wykop.handleEmbedUpload=function($el,data){wykop.mfuploaded($el,data)}
wykop.ajaxAutoRefresh=function(){if(wykop.params.ajaxAutoRefresh.url!=null){wykop.addInterval("ajaxAutoRefreshJob",wykop.params.ajaxAutoRefresh.interval)}}
wykop.ajaxAutoRefreshJob=function(){var lastItem=$(wykop.params.ajaxAutoRefresh.selector);if(lastItem.length>0&&typeof lastItem.data().type!="undefined"){wykop._ajaxCall($(wykop.params.ajaxAutoRefresh.selector.split(" ")[0]),wykop.params.ajaxAutoRefresh.url+'type/'+lastItem.data().type+'/id/'+lastItem.data().id+'/hash/'+wykop.params.hash)}}
wykop.handleDefaultAjaxRefresh=function($el,data){if(data.html){$el=$("#itemsStream");var list=$($(data.html).html());list.find('.dC').addClass('newComment');$el.prepend(list);$el.find('.newComment').animate({"border-left-color":'transparent'},2000);$("#newEntriesCounter").text("");$("#rightFooterBoxCounter").find(".active-counter").text("");$("#rightFooterBoxCounter").hide();wykop.bindLazy()}else{if(data.count>0){var lastItem=$(wykop.params.ajaxAutoRefresh.selector);var link=wykop.params.ajaxAutoRefresh.url+'type/'+lastItem.data().type+'/id/'+lastItem.data().id+'/hash/'+wykop.params.hash+'/html/1';$("#newEntriesCounter").html("<div class=\"type-light-warning active-annotation\"><a href=\"#\" class=\"dark ajax space\" data-ajaxurl=\""+link+"\">"+wykop.varietyFromNumber(data.count,["Pojawił się","Pojawiły się","Pojawiło się"])+" <b class=\"red\">"+data.count+" "+wykop.varietyFromNumber(data.count,["nowy wpis","nowe wpisy","nowych wpisów"])+"</b>, "+wykop.varietyFromNumber(data.count,["pokaż go","pokaż je","pokaż je"])+"</a></div>")
$("#newEntriesCounter").fadeIn();$("#rightFooterBoxCounter").show();$("#rightFooterBoxCounter").find(".active-counter").text(data.count)}else{$("#rightFooterBoxCounter").hide();$("#newEntriesCounter").hide().text("")}}}
wykop.bindBtns=function(selector){$(selector).on('click','.btnReply',function(){var container=$(this).closest(".iC");var caller=$(this).closest("div.dC");var bind=!0;var citeText=wykop.getSelectedText()?('> '+jQuery.trim(wykop.getSelectedText()).replace(/\n(\S)/g,"\n>$1")+"\n\n"):'';if(container.hasClass("replyOn")){bind=!1;var form=container.find(".replyForm");var textarea=form.find("textarea")}else{$(".replyOn").each(function(){$(this).removeClass("replyOn")});container.addClass("replyOn");var form=$("#commentForm").clone();form.find('.openAddSurveyOverlay').addClass('dnone');form.removeAttr('id');var textarea=form.find("textarea");textarea.val('');$(".replyForm").remove();container.append($('<div class="wblock replyForm dC"></div>').append(form));form.find("input[name='parent_id']").val(caller.data().id);form.find('.cancelForm').show();var tabindex=Math.floor((Math.random()*10000)+1)*10;form.find("[tabindex=1]").attr("tabindex",tabindex+1);form.find("[tabindex=2]").attr("tabindex",tabindex+2);if(wykop.params.action!="link"){form.data().action=form.attr("action");if(caller.closest("li.entry").length>0){form.attr("action",wykop.params.base+"xhr/entry/commentAdd/"+caller.closest("li.entry").find(".dC:first").data().id+"/hash/"+wykop.params.hash)}
if(caller.closest("li.link").length>0){form.attr("action",wykop.params.base+"ajax2/links/CommentAdd/"+caller.closest("li.link").find(".dC:first").data().id+"/hash/"+wykop.params.hash)}}}
if(bind){wykop.bindCommentForm(".replyForm")}
var lastChar=textarea.val().charAt(textarea.val().length-1);var separator=lastChar==" "||lastChar=="\n"?"":lastChar==":"?" ":"\n";textarea.focus().val(textarea.val()+(textarea.val().length>0?separator:"")+citeText+"@"+caller.find(".author a b").text()+": ").keyup();return !1})}
wykop.bindLinkVoteBtn=function(selector){$(selector).on('click','.diggbox a.dropdown-show',function(){$(this).closest(".diggbox").find(".dropdown").toggle();return !1})}
wykop.checkNewEntries=function(){wykop._ajaxCall($("#itemsStream"),wykop.params.base+'ajax2/stream/recent/id/'+$("#itemsStream li:first .dC").data().id+'/hash/'+wykop.params.hash)}
wykop.handleUpdateNewEntriesCounter=function($el,data){if(data.count>0){var link=wykop.params.base+'ajax2/stream/recent/id/'+$("#itemsStream li:first .dC").data().id+'/hash/'+wykop.params.hash+"/html/1";$("#newEntriesCounter").html("<div class=\"type-light-warning active-annotation space\"><a href=\"#\" class=\"dark ajax\" data-ajaxurl=\""+link+"\">"+wykop.varietyFromNumber(data.count,["Pojawił się","Pojawiły się","Pojawiło się"])+" <b class=\"red\">"+data.count+" "+wykop.varietyFromNumber(data.count,["nowy wpis","nowe wpisy","nowych wpisów"])+"</b>, "+wykop.varietyFromNumber(data.count,["pokaż go","pokaż je","pokaż je"])+".</a></div>")
$("#newEntriesCounter").fadeIn();$("#rightFooterBoxCounter").show();$("#rightFooterBoxCounter").find(".active-counter").text(data.count)}else{$("#rightFooterBoxCounter").hide();$("#newEntriesCounter").hide().text("")}}
wykop.handleNewEntries=function($el,data){$("#itemsStream").prepend(data);$("#newEntriesCounter").text("");wykop.bindLazy()}
wykop.checkNewEntryAnswers=function(){if(!wykop.isFlagSetted('commentSubmit')){wykop._ajaxCall($("#itemsStream li.entry:first"),wykop.params.base+'ajax2/entries/CommentsCount/'+$("#itemsStream li.entry:first .dC:first").data().id+'/hash/'+wykop.params.hash)}}
wykop.handleUpdateNewEntryAnswersCounter=function($el,data){$el.find(".active-counter").remove();if(data.count>$el.find("ul.sub > li").length){if($el.next().find("textarea").is(":focus")||$el.find("textarea").is(":focus")){$el.find(".active-counter").remove();var $html=$("<div class=\"active-counter arrow_box\"><b>"+(data.count-$el.find("ul.sub > li").length)+"</b></div>").on('click',function(){wykop.loadNewEntryAnswers($el)});$el.find("ul.sub > li:last div.dC").prepend($html)}else{wykop.loadNewEntryAnswers($el)}}else{$el.find(".active-counter").remove()}};wykop.loadNewEntryAnswers=function($el){$el.find(".active-counter").remove();var $el=$el.is('form')?$el.closest('li.entry'):$el;var $lastComment=$el.find("ul.sub > li:last .dC:first");if($el.find("ul.sub").length==0){$el.append('<ul class="sub"></ul>')}
wykop._ajaxCall($el,wykop.params.base+'ajax2/entries/comments/'+$el.find(".dC:first").data().id+"/"+($lastComment.length>0?$lastComment.data().id:0)+'/hash/'+wykop.params.hash)};wykop.handleNewEntryAnswers=function($el,data){$("#itemsStream").append(data);$("#newEntryAnswersCounter").text("");wykop.bindLazy()}
wykop.tagChart=function(){if($("#tagChart").length>0){$("#tagChart").sparkline('html',{type:'bar',barWidth:14,barSpacing:4,width:'270px',height:'100px',barColor:'#367aa9',zeroColor:'#D8D8D8',stackedBarColor:['#367aa9','#D8D8D8'],highlightLighten:0.9,tooltipFormatter:function(sparkline,options,fields){var x=$("#tagChart").data('x').split(',');var t='<div class="tagChartTooTip"><div><span>'+x[fields[0].offset]+'</span>';if(fields[0].value>0){t+='<br/><span style="color: #D8D8D8">&#9679;</span> <span style="color: #FF5917; font-weight: bold; font-size: 12px;">'+fields[0].value+'</span> <span style="font-size: 12px;">'+wykop.varietyFromNumber(fields[0].value,["wpis","wpisy","wpisów"])+'</span>'}
if(fields[1].value>0){t+='<br/><span style="color: #367aa9">&#9679;</span> <span style="color: #FF5917; font-weight: bold; font-size: 12px;">'+fields[1].value+'</span> <span style="font-size: 12px;">'+wykop.varietyFromNumber(fields[1].value,["znalezisko","znaleziska","znalezisk"])+'</span></div></div>'}
return t}})}}
wykop.bindEmbeds=function(){var $body=$(document.body);$body.on('click','.media-content.gif',function(e){var $this=$(this);if($this.find("img.dnone").length>0){$this.find('img').toggle();$this.find('p.icon-media').remove()}else{var $img=$this.find('img:eq(0)');if($img.data('preview')){$img.attr('src',$img.data('preview'));$img.data('preview',!1);$this.find('i.fa-spin').removeClass('fa-spin');$this.find('p.icon-media').show()}else{$img.data('preview',$img.attr('src'));$this.find("i").addClass("fa fa-spin");$img.one('load',function(){$this.find("p.icon-media").hide()}).attr('src',$this.find("a:first").attr('href'))}}
return !1});$body.on('click','a.tooLongPicture',function(){$(this).removeClass('tooLongPicture').find('.tooLongPictureHint').remove();return !1});$body.on('click','a.closeEmbed',function(){var $parent=$(this).closest('div');if($parent.data('original')){$parent.replaceWith($parent.data('original'))}else{$parent.slideUp(function(){$(this).remove()})}
return !1});$('#itemsStream').on('click.preview',"p a",function(e){var $this=$(this);if(e.which<=1&&typeof $this.attr('href')!=="undefined"&&($this.attr('href').match(/\.(jpg|jpeg|png|gif)$/i)||$this.attr('href').match(/(youtube\.|youtu\.be|vimeo\.com)/i))){if(wykop.bindLinksWithMediaHandler($this,!0,!0)){e.preventDefault()}}})}
wykop.attachProfileSummary=function(){$(document).on('mouseover','.showProfileSummary',function(event){if(!$(this).data('qtip')){var login=$(this).text();$(this).qtip({prerender:!1,content:{text:function(event,api){$.ajax({url:wykop.params.base+"ajax2/summary/profile/"+login+'/hash/'+wykop.params.hash}).then(function(content){api.set('content.text',content)},function(xhr,status,error){api.set('content.text','')});return ''}},style:{width:305,background:"transparent",border:0,padding:0},position:{my:'bottom left',at:'top left',target:$(this),effect:!1,viewport:$(window)},show:{solo:!0,delay:750,ready:!0,effect:{type:'fade',length:0}},hide:{when:'mouseout',fixed:!0}})}})}
wykop.attachTagSummary=function(){$(document).on('mouseover','.showTagSummary',function(event){if(!$(this).data('qtip')){var tag=$(this).text();$(this).qtip({prerender:!1,content:{text:function(event,api){$.ajax({url:wykop.params.base+"xhr/summary/tag/"+tag+'/hash/'+wykop.params.hash}).then(function(content){api.set('content.text',content)},function(xhr,status,error){api.set('content.text','')});return ''}},style:{width:305,background:"transparent",border:0,padding:0},position:{my:'bottom left',at:'top left',target:$(this),effect:!1,viewport:$(window)},show:{solo:!0,delay:750,ready:!0,effect:{type:'fade',length:0}},hide:{when:'mouseout',fixed:!0}})}})}
wykop.attachLinkReply=function(el,data){var replyOn=$("#itemsStream .replyOn");if(replyOn.length==0){$("#itemsStream").append(data)}else if(replyOn.closest("li").find("ul.sub").length>0){replyOn.closest("li").find("ul.sub").append(data)}else{if(replyOn.parents('ul.sub').length){replyOn.closest("ul.sub").append(data)}else{replyOn.append('<ul class="sub">'+data+'</ul>')}}
wykop.bindLazy()}
wykop.attachEntryReply=function(el,data){var replyOn=$("#itemsStream .replyOn");if(replyOn.length==0){replyOn=$("#itemsStream li.entry");if(replyOn.find('ul.sub').length){replyOn.find("ul.sub").append(data)}else{replyOn.find("div.dC").after('<ul class="sub">'+data+'</ul>')}}else{if(replyOn.find('ul.sub').length){replyOn.find("ul.sub").append(data)}else{replyOn.append('<ul class="sub">'+data+'</ul>')}}
wykop.bindLazy()}
wykop.pmInitialize=function(container){if(wykop.params.method=="conversation"){wykop.addInterval("checkNewPmMessages",2);container.find(".pmStreamView").scrollTop(container.find(".pmStream").height());container.find('.newComment').animate({"border-left-color":'transparent'},2000)}
$("#conversationSearch").on("keyup",function(){wykop._ajaxCall($(this),wykop.params.base+'ajax2/pm/Conversations/hash/'+wykop.params.hash,{q:$(this).val()},'POST')});var $textarea=$("#commentForm textarea");if($textarea.attr('autofocus')){$textarea.focus()}}
wykop.checkNewPmMessages=function(){if(!wykop.isFlagSetted("pmSubmit")){$last=$("ul.pmStream li:last .dC");var lastId=$last.length==0?0:$last.data().id;wykop._ajaxCall($(".pmStreamView"),wykop.params.base+'ajax2/pm/Conversation/'+$(".pmStream").data().user+'/last/'+lastId+'/hash/'+wykop.params.hash,{},"GET","pmSubmit")}}
wykop.attachPMReply=function(el,data){var container=el.closest(".pmContainer");if(data!=""){container.find(".pmStream").append(data);container.find(".pmStreamView").scrollTop(container.find(".pmStream").height());el.find("textarea").focus();wykop.bindLazy();container.find('.newComment').animate({"border-left-color":'transparent'},2000)}}
wykop.attachPMView=function(el,data){var data=$(data);data.find(".pmStreamView").css("height","200px");$(document.body).prepend($("<div class=\"pmView\"></div>").append(data));views=($(".pmView").length);$(".pmView:first").css("right",((views-1)*260)+"px")}
wykop.toggleFavoriteComment=function(el,data){if(typeof data.favorite!=="undefined"){if(data.favorite){el.wrap("<b></b>")}else{el.unwrap()}}}
wykop.bindViolations=function(){var $body=$(document.body);$body.on("click","a.btnNotify",function(){var caller=$(this);var container=caller.closest(".dC");$.getJSON(wykop.params.base+'ajax/violations/form/'+container.data().type+'/'+container.data().id,function(r){if(r.error){alert(r.error);return !1}
$("#violationContainer").remove();$body.prepend(r.html);wykop.bindLazy();if(typeof(caller.data().reason)!="undefined"){$("#zgloszenie .reason-list input[value='"+caller.data().reason+"']").click()}});return !1});$body.on("change","#violationContainer .reasonzone input",function(){$(this).closest("li").addClass("active");$("#zgloszenie .reasonzone li").not(".active").slideUp();$("#zgloszenie .submitzone").slideDown();$("#zgloszenie .submitzone textarea").val("");if($(this).data().extrarequired==0){$("#zgloszenie .submitzone .showExtra a").text($(this).data().extra).show();$("#zgloszenie .submitzone .extraContainer").hide();$("#zgloszenie .submitzone textarea").data("needed","false")}else{$("#zgloszenie .submitzone .showExtra a").text($(this).data().extra).hide();$("#zgloszenie .submitzone .extraContainer").show();$("#zgloszenie .submitzone textarea").data("needed","true")}
$("#zgloszenie .submitzone textarea").val($(this).data().extravalue);$("#zgloszenie .submitzone textarea").focus();if($(this).data().extra!=""){$("#zgloszenie .submitzone .title").text($(this).data().extra)}else{$("#zgloszenie .submitzone .title").text("Doprecyzuj problem (opcjonalnie)")}});$body.on("click","#violationContainer .showExtra a",function(){$("#zgloszenie .submitzone .showExtra a").hide();$("#zgloszenie .submitzone .extraContainer").show();$("#zgloszenie .submitzone textarea").focus();return !1});$body.on("click","#zgloszenie .cancel, #zgloszenie .closepreview",function(){$("#violationContainer").remove();$("#deleteFormContainer").remove();return !1});$body.on("click","#violationContainer .changeReason",function(){$("#zgloszenie .reasonzone li.active input").prop('checked',!1);$("#zgloszenie .reasonzone li.active").removeClass("active");$("#zgloszenie .reasonzone li").slideDown();$("#zgloszenie .submitzone").slideUp();return !1});$body.on("submit","#violationContainer form",function(){var caller=$(this);if(caller.find("textarea").data("needed")=="true"&&caller.find("textarea").val()==""){alert("Uzupełnij pole "+caller.find(".submitzone .title").text());return !1}
caller.find("input[type='submit']").val("Zaczekaj...").attr("disabled","disabled").css("background","#aaa");$.post($(this).closest('form').attr('action'),$(this).serialize(),function(r){caller.find("input[type='submit']").val("Zgłoś").attr("disabled",null).css("background","#E74C3C");if(r.error){alert(r.error)}else{$("#zgloszenie .view").html("<div class=\"thanks\"><h3>Dziękujemy!</h3><p>Dziękujemy, Twoje zgłoszenie zostało przekazane do moderatora. Zajmiemy się nim najszybciej jak to będzie możliwe.</p><p>Stan swoich zgłoszeń możesz śledzić w <a href=\""+wykop.params.base+"naruszenia/moje/\">panelu zgłoszeń</a>.");$("#zgloszenie .reasonzone").remove();$("#zgloszenie .submitzone").remove();setTimeout(function(){caller.closest("#violationContainer").remove()},5000)}},'json');return !1});$body.on("click","#violationContainer li a.learnmore",function(){$(this).closest("li").find(".desc").toggle();return !1})};wykop.notificationTimeout=60000;wykop.notificationRefreshTask=null;wykop.bindNotifications=function(){if(wykop.params.logged){if(wykop.useLocalStorage&&wykop.params.action!="frame"){window.addEventListener("storage",function(event){var key=event.key;var newValue=event.newValue;if(key=='notificationsCount'){wykop.setNotificationsCount(newValue)}else if(key=='tagsNotificationsCount'){wykop.setHashtagNotificationsCount(newValue)}})}
var cn=$('#notificationsCount').text();var ch=$('#hashtagsNotificationsCount').text();wykop.setNotificationsCount(cn);wykop.setHashtagNotificationsCount(ch);wykop.propagateNotificationsCount(cn);wykop.propagateTagsNotificationsCount(ch);wykop.notificationRefreshTask=setTimeout(wykop.checkNotificationsCount,wykop.notificationTimeout)}};wykop.handleNotificationsList=function($el,data){$(".notificationsContainer").hide();$el.closest(".notification").find(".notificationsContainer").replaceWith(data.html);$el.closest(".notification").find(".notificationsContainer").show()};wykop.checkNotificationsCount=function(){if(wykop.useLocalStorage){if(localStorage.getItem('notificationsRefreshTime')&&(new Date).getTime()-localStorage.getItem('notificationsRefreshTime')<wykop.notificationTimeout/2){if(wykop.notificationRefreshTask){clearTimeout(wykop.notificationRefreshTask)}
wykop.notificationRefreshTask=setTimeout(wykop.checkNotificationsCount,wykop.notificationTimeout);return !1}
localStorage.setItem("notificationsRefreshTime",(new Date()).getTime())}
var recent=wykop.useBrowserNotifications?'/recent/1':'';wykop._ajaxCall($(this),wykop.params.base+'ajax2/notifications/count/hash/'+wykop.params.hash+recent)};wykop.handleNotificationsCount=function($el,data){var $ref=$('#notificationsCount');var old=$ref.text();wykop.setNotificationsCount(data.count);wykop.setHashtagNotificationsCount(data.hcount);wykop.propagateNotificationsCount(data.count);wykop.propagateTagsNotificationsCount(data.hcount);if(old!=data.count){if(data.count){if(data.recent&&wykop.useBrowserNotifications){notify.createNotification(data.recent.title,{'body':$("<div/>").html(data.recent.body).text(),'tag':data.recent.tag,'icon':{'x16':wykop.params.base+'img/notifications/16.ico','x32':wykop.params.base+'img/notifications/64.png'},'onclick':function(){var w=window.open(data.recent.url,data.recent.tag);if(!w){window.focus();$('#notificationsBtn').trigger('click')}else{w.focus()}}})}}}
if(wykop.notificationRefreshTask){clearTimeout(wykop.notificationRefreshTask)}
wykop.notificationRefreshTask=setTimeout(wykop.checkNotificationsCount,wykop.notificationTimeout)};wykop.setNotificationsCount=function(notifications){var $ref=$('#notificationsCount');var old=$ref.text();if(old!=notifications){if(notifications&&notifications>0){$ref.html(notifications>999?'&infin;':notifications);$ref.removeClass("dnone")}else{$ref.addClass("dnone");$ref.html(0)}}
wykop.prependNumberToTitle(notifications)};wykop.setHashtagNotificationsCount=function(notifications){var $ref=$('#hashtagsNotificationsCount');var old=$ref.text();if(old!=notifications){if(notifications&&notifications>0){$ref.html(notifications>999?'&infin;':notifications);$ref.removeClass("dnone")}else{$ref.addClass("dnone");$ref.html(0)}}};wykop.propagateNotificationsCount=function(notifications){if(wykop.useLocalStorage){localStorage.setItem("notificationsCount",parseInt(notifications||0))}};wykop.propagateTagsNotificationsCount=function(tags){if(wykop.useLocalStorage){localStorage.setItem("tagsNotificationsCount",parseInt(tags||0))}};wykop.prependNumberToTitle=function(num){if(document.title.match(/^\([0-9]+\)/)){document.title=document.title.replace(/^\([0-9]+\)/,(num>0?'('+num+')':''))}else{if(num>0){document.title='('+num+') '+document.title}}};wykop.bindCommons=function(){var $body=$(document.body);$(".ddC").hoverIntent({over:function(){var $container=$(this);if(!$container.find(".dropdown").is(":visible")){$container.find(".dropdown").show()}
return !1},out:function(){var $container=$(this);if($container.find(".dropdown").is(":visible")){$container.find(".dropdown").hide()}},timeout:500});$body.on("click",".toggleView",function(){if($("#"+$(this).data().target).is(":visible")){$("#"+$(this).data().target).slideUp();$(this).html($(this).html().replace($(this).data().close,$(this).data().open));wykop.rotate($(this).find("i"),0)}else{$("#"+$(this).data().target).slideDown();$(this).html($(this).html().replace($(this).data().open,$(this).data().close));wykop.rotate($(this).find("i"),180)}
return !1});$(".dropdown-show").on("click",function(e){if(!$(this).hasClass("auto")){if($(this).next(".dropdown:first").is(":visible")){$(this).next(".dropdown:first").hide();e.stopPropagation();return !1}}});$body.on("click","button.submit",function(e){e.preventDefault();$(this).closest("form").submit()});$body.on("click","a.unhide",function(){$(this).siblings('.dnone').removeClass('dnone');$(this).remove();return !1});$("#writeOnMicro").on("click",function(){$(this).closest("ul").find("form").show();$(this).hide();wykop.bindCommentForm("#userPanel form");return !1});$("#writeOnMicroCancel").on("click",function(){$(this).closest("form").hide();$("#writeOnMicro").show();return !1});$body.on("click","a.confirmAction",function(){var result=confirm("Czy jesteś pewny?");if(result){$(this).attr("href",wykop.appendGetParam($(this).attr("href"),"areYouSure=yEs"))}
return result});$body.on("blur",".submitOnBlur",function(){$(this).closest("form").submit()})}
wykop.bindLink=function(){if($('.rbl-block .related').find("li:last").length>0){if($(".rbl-block .related > li:last").offset().top-$(".rbl-block .related").offset().top==0){$("#showAllRelated").hide()}}
$("#showAllRelated").on("click",function(){$(this).closest(".related").css("height","auto");$(this).hide();return !1});$("#addRelatedShowForm").on("click",function(){$("#addRelatedForm").slideDown();$("#relatedList").slideUp();wykop.scrollTo("#addRelatedForm")});$("#relatedFormCancel").on("click",function(){$("#addRelatedForm").slideUp();$("#relatedList").slideDown();wykop.scrollTo("#addRelatedForm")});$("#itemsStream").on("click",".vC b",function(){if($(this).closest(".vC").find("b").length==2){$("#itemsStream p.vC").each(function(){$(this).find("b").remove();classUp=$(this).find("a:eq(0)").hasClass("disabled")?"voted plus":"";classDown=$(this).find("a:eq(1)").hasClass("disabled")?"voted minus":"";$(this).prepend("<b class=\""+classUp+classDown+"\"><span class=\""+wykop.classForVoteValue($(this).data().vc)+"\">"+$(this).data().vc+"</span></b>")})}else{$("#itemsStream p.vC").each(function(){$(this).find("b").remove();classUp=$(this).find("a:eq(0)").hasClass("disabled")?"voted plus":"";classDown=$(this).find("a:eq(1)").hasClass("disabled")?"voted minus":"";$(this).prepend("<b class=\""+classUp+"\"><span class=\""+wykop.classForVoteValue($(this).data().vcp)+"\">"+$(this).data().vcp+"</span></b> <b class=\""+classDown+"\"><span class=\""+wykop.classForVoteValue($(this).data().vcm)+"\">"+$(this).data().vcm+"</span></b>")})}
$.get(wykop.params.base+'xhr/profile/option/separated_votes//'+wykop.params.hash)})}
wykop.classForVoteValue=function(val){return val==0?'':val<0?"cbb0000":"c2a7017"}
wykop.showRelatedVideo=function(el,data){$("#relatedVideoPlayer").html(data);wykop.scrollTo("#relatedVideoPlayer")}
wykop.scrollTo=function(selector){$('html, body').animate({scrollTop:$(selector).offset().top-100},1000)}
wykop.loadedPage=1;wykop.nextPageLoading=!1;wykop.handleAjaxPagination=function($el,html){$items=$(html).find('li.iC');if($items.length==0){$('#paginationLoader').hide();$('#ajaxPagination').hide();$(window).unbind('scroll.pagination')}else{$('#itemsStream').append($items);wykop.bindSurveyForm($items);$last=$('#itemsStream > li:last > div');$obj=$('<div/>').append(html).find('.pager a');ajaxUrl=$obj.data('ajaxurl');href=$obj.attr('href');$el.data('ajaxurl',ajaxUrl);$el.attr('href',href);if(typeof(ga)!="undefined"){ga('send','pageview',$el.attr('href').replace(/next\/(link-|entry-)?[0-9]+/,'strona/'+(++wykop.loadedPage)))}
$el.show();wykop.height.document=$(document).height();wykop.bindLazy();$('#paginationLoader').hide();wykop.nextPageLoading=!1}}
wykop.handleAjaxPaginationUrls=function($el,$html){}
wykop.bindAjaxPagination=function(){var paginationButton=$('#ajaxPagination a');if(paginationButton.length>0){var footerHeight=200;$(window).bind('scroll.pagination',function(){if(!wykop.nextPageLoading&&$(window).scrollTop()>=wykop.height.document-wykop.height.window-footerHeight){wykop.nextPageLoading=!0;paginationButton.hide();paginationButton.trigger('click');$('#paginationLoader').show()}})}}
wykop.bindTagSwitcher=function(){$('#input-tag').suggest(wykop.params.base+"ajax/suggest/tag").on("change",function(e){var tag=$(this).val();if(tag.charAt(0)=="#"){$(this).val(tag.substr(1))}
if(e.originalEvent===undefined){$(this).closest("form").submit()}})}
wykop.handleSetIsObserved=function(el,data){$container=el.closest(".folContainer");$container.find(".folObserved").removeClass("dnone");$container.find(".folNeutral, .folBlocked").addClass("dnone")}
wykop.handleSetIsNeutral=function(el,data){$container=el.closest(".folContainer");$container.find(".folNeutral").removeClass("dnone");$container.find(".folObserved, .folBlocked").addClass("dnone")}
wykop.handleSetIsBlocked=function(el,data){$container=el.closest(".folContainer");$container.find(".folObserved, .folNeutral").addClass("dnone");$container.find(".folBlocked").removeClass("dnone")}
wykop.clearForm=function(el,data){el.find("input").val("");el.find("textarea").val("")}
wykop.bindLinksWithMediaHandler=function(item,bindVideo,bindExternalImage){if(!item.data().open){var embed;var useLazy=!1;var typeClass='';if(item.attr('href').match(/youtube\.|youtu\.be/)){if(bindVideo){typeClass='video';var start=0;var m;if(m=item.attr('href').match(/t=([0-9]+)s/)){start=parseInt(m[1])}else if(m=item.attr('href').match(/t=([0-9]+)h([0-9]+)m([0-9]+)s/)){start=parseInt(m[1])*60*60+parseInt(m[2])*60+parseInt(m[3])}else if(m=item.attr('href').match(/t=([0-9]+)m([0-9]+)s/)){start=parseInt(m[1])*60+parseInt(m[2])}else if(m=item.attr('href').match(/at=([0-9]+)/)){start=parseInt(m[1])}else if(m=item.attr('href').match(/t=([0-9]+)/)){start=parseInt(m[1])}
var id='';var m=item.attr('href').match(/youtu.be\/([^&#/\?]+)/);if(m){id=m[1]}
var m=item.attr('href').match(/v[=/]([^&#/\?]+)/);if(m){id=m[1]}
if(id.length>0){s='';if(start>0){s='&start='+start}
useLazy=!1;embed='<div class="videoWrapper"><iframe class="youtube-player vtop" type="text/html" width="800" height="485" src="http://www.youtube.com/embed/'+id+'?wmode=opaque&fs=1'+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowfullscreen></iframe></div>'}}}else if(item.attr('href').match(/vimeo\.com/)){if(bindVideo){var id='';var m=item.attr('href').match(/vimeo.com\/([0-9]+)/);if(m){id=m[1]}
if(id.length>0){useLazy=!1;embed='<div class="videoWrapper"><iframe id="vi-'+id+'" src="http://player.vimeo.com/video/'+id+'" width="800" height="485" frameborder="0" class="youtube-player vtop"></iframe></div>'}}}else{var imgSrc;if(item.attr('href').match(/^http:\/\/[^\/]+\wykop.pl|http:\/\/[^\/]+\.demotywatory.pl|http:\/\/[^\/]+\.kwejk.pl|http:\/\/[^\/]+\.blogspot.com|http:\/\/[^\/]+\.yfrog.com|http:\/\/[^\/]+\.imageshack.us|http:\/\/[^\/]+\.tinypic.com|http:\/\/[^\/]+\.fotosik.pl/)){imgSrc=item.attr('href')}
else if(item.attr('href').match(/^http:\/\/i\.imgur\.com/)){if(item.attr('href').match(/\.(gif)$/i)){imgSrc=item.attr('href').replace(/([^l])(\..{3})$/,'$1$2')}else{imgSrc=item.attr('href').replace(/([^l])(\..{3})$/,'$1$2')}}
else if(item.attr('href').match(/^http:\/\/[^\/]+media\.tumblr\.com/)){imgSrc=item.attr('href').replace(/_([0-9]+)(\..{3})$/,'_500$2')}
else if(bindExternalImage){imgSrc=item.attr('href')}
if(imgSrc){if(useLazy){embed='<img data-original="'+imgSrc+'" class="block lazy" style="max-width: 400px;" />'}else{embed='<img src="'+imgSrc+'" class="block" style="max-width: 400px;" />'}}}
if(embed){item.data('open',1);var html='<div class="media-content'+typeClass+'">'+embed+'<p class="description light">źródło: <a href="'+item.attr('href')+'" target="_blank" data-open="1">'+item.attr('href').split('/')[2]+"</a></p></div>";item.addClass('c222').after(html);if(item.text().match('^http:')||item.text().match('^https:')){item.addClass('dnone')}
item.next('.media-content').on('click','img',function(e){e.preventDefault();$parent=$(this).closest('.media-content');$parent.prev('a.dnone').removeClass('dnone').removeClass('c222');$parent.fadeOut()});return !0}}}
wykop.handleHash=function(){if(document.location.hash){if(document.location.hash.match(/#comment-[0-9]+/)){var container=$('a[name='+document.location.hash.replace('#','')+']').closest('.dC');container.addClass("highlighted")}
if(wykop.params.action=='link'&&(document.location.hash=='#voters'||document.location.hash=='#votersBury')){$(document.location.hash).trigger('click')}
if(wykop.params.action=='link'&&document.location.hash.match(/#related-[0-9]+/)){$(document.location.hash).css('border','2px dotted red')}}}
wykop.naturalSearch=function(){$("#openNaturalSearch").on("click",function(){$("#naturalSearch").toggle().find("input").focus().keyup().select();return !1});$("#naturalSearch input[name=\"nsQ\"]").one("focus",function(){$("#naturalSearch input[name=\"nsQ\"]").suggest(wykop.params.base+"ajax/suggest/natural",{ignoreSpaces:!0,minchars:-1,followLink:!0})})}
wykop.bindProfileNotes=function(){$(document.body).on("focus",".userNote textarea",function(){$(this).closest(".userNote").find(".submit").fadeIn()})}
wykop.handleProfileNoteSaved=function($el,data){$el.find("button").fadeOut(500)}
wykop.sparkline=function(){if($(".sparkline").length>0){setTimeout(function(){$(".sparkline").sparkline('html',{width:'147px',height:'30px',spotColor:!1,lineColor:'#B0D4E8',lineWidth:2,fillColor:'#F0FAFF',minSpotColor:!1,maxSpotColor:!1,disableInteraction:!0})},500)}}
$.fn.hasParent=function(a){return this.filter(function(){return !!$(this).closest(a).length})};wykop.getSetting=function(key,defValue){return typeof wykop.params.settings[key]!=="undefined"?wykop.params.settings[key]:(typeof defValue!=="undefined"?defValue:null)}
wykop.setSetting=function(key,value){wykop.params.settings[key]=value}
wykop.appendGetParam=function(url,param){return url+(url.indexOf('?')>0?'&':'?')+param}
wykop.rotate=function(object,degrees){object.css({'-webkit-transform':'rotate('+degrees+'deg)','-moz-transform':'rotate('+degrees+'deg)','-ms-transform':'rotate('+degrees+'deg)','-o-transform':'rotate('+degrees+'deg)','transform':'rotate('+degrees+'deg)','zoom':1})}
wykop.varietyFromNumber=function(number,words){if(number==1){return words[0]}
if((number%10>=2&&number%10<=4)&&(number<10||number>20)){return words[1]}
return words[2]};wykop.getSelectedText=function(){    if(typeof window.getSelection!="undefined"){        return window.getSelection().toString();    }
    else if(typeof document.getSelection!="undefined")
    {        return document.getSelection().toString();    }
    else if(typeof document.selection!="undefined")
    {        return document.selection.createRange().text;    }
return ''};wykop.addInterval=function(funcName,interval){if(wykop[funcName]!==undefined){wykop.intervalJobs[funcName]=interval;var fn=wykop[funcName];if(wykop.isActiveWindow()){fn()}
setTimeout(function(){wykop.addInterval(funcName,interval)},interval*1000)}}
wykop.flags={};wykop.setFlag=function(name){wykop.flags[name]=1}
wykop.unsetFlag=function(name){wykop.flags[name]=0}
wykop.isFlagSetted=function(name){return typeof wykop.flags[name]!=undefined&&wykop.flags[name]==1};wykop.isActiveWindow=function(){if(typeof document.hidden!=="undefined"){return !document.hidden}else if(typeof document.mozHidden!=="undefined"){return !document.mozHidden}else if(typeof document.msHidden!=="undefined"){return !document.msHidden}else if(typeof document.webkitHidden!=="undefined"){return !document.webkitHidden}
return !0};wykop.findVisibilityEvent=function(){if(typeof document.hidden!=="undefined"){return "visibilitychange"}else if(typeof document.mozHidden!=="undefined"){return "mozvisibilitychange"}else if(typeof document.msHidden!=="undefined"){return "msvisibilitychange"}else if(typeof document.webkitHidden!=="undefined"){return "webkitvisibilitychange"}
return !1};wykop.bindWindowVisibilityEvent=function(){if(typeof document.addEventListener!=="undefined"&&wykop.findVisibilityEvent()){document.addEventListener(wykop.findVisibilityEvent(),function(){if(wykop.isActiveWindow()){for(funcName in wykop.intervalJobs){if(wykop[funcName]!==undefined){var fn=wykop[funcName];fn()}}}},!1);}}
wykop.responsive=function(){$("#nav > div > ul.mainnav li.m-show").on("click",function(){$(this).closest("ul").find("li").toggleClass("activated");return !1})}
wykop.sendMessageToWebkitApp=function(msg){try{webkit.messageHandlers.callbackHandler.postMessage(msg)}catch(err){}};wykop.setTightView=function(){$("body").addClass("screening")}
wykop.setWideView=function(){$("body").removeClass("screening")}
wykop.refreshPage=function(){window.location.href=window.location.href}
wykop.blaBlaCar=function(){if($("#bbcData").length>0){$('#bbcData').pickmeup({format:'d/m/Y',locale:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Nd","Pn","Wt","Śr","Cz","Pt","So","Nd"],months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}})}}
wykop.refreshAmaQuestions=function(){linkId=$('#itemsStreamAma').attr('data-link-id');wykop._ajaxCall($('#itemsStreamAma'),wykop.params.base+'xhr/ama/questions/'+linkId+'/')}
wykop.bindAmaBtns=function(){$('.ama-remove-question').on('click',function(){linkId=$(this).attr('data-link-id');commentId=$(this).attr('data-comment-id');wykop._ajaxCall($(this),wykop.params.base+'xhr/ama/ignore/'+linkId+'/'+commentId+'/')});$('.ama-top-question').on('click',function(){linkId=$(this).attr('data-link-id');commentId=$(this).attr('data-comment-id');wykop._ajaxCall($(this),wykop.params.base+'xhr/ama/top/'+linkId+'/'+commentId+'/')});$('.ama-accept-question').on('click',function(){linkId=$(this).attr('data-link-id');commentId=$(this).attr('data-comment-id');wykop._ajaxCall($(this),wykop.params.base+'xhr/ama/accept/'+linkId+'/'+commentId+'/')});$('#ama-form-prev').on('click',function(){linkId=$(this).attr('data-link-id');wykop._ajaxCall($(this),wykop.params.base+'xhr/ama/prev/'+linkId+'/')});$('#ama-form-next').on('click',function(){linkId=$(this).attr('data-link-id');wykop._ajaxCall($(this),wykop.params.base+'xhr/ama/next/'+linkId+'/')})}
wykop.bindQuerySubscription=function(){setInterval(function(){wykop._ajaxCall($('#savedQueries'),wykop.params.base+'xhr/query/check/')},60000);wykop._ajaxCall($('#savedQueries'),wykop.params.base+'xhr/query/check/');currQueryTags=$('#searchInput').val().split(' ');for(i in currQueryTags){$('.opendroplist input[data-tag="'+currQueryTags[i]+'"]').attr('checked','checked')}
$('.searcher .opendrop').on('click',function(){$(this).find('i.fa').toggleClass('fa-chevron-down fa-chevron-right');$('.searcher .opendroplist').toggle();return !1});$('.opendroplist input').on('click',function(){tagValue=$(this).data('tag');currQuery=$('#searchInput').val();currQuery=' '+currQuery+' ';newQuery=currQuery;isRadio=$(this).hasClass('radio');if($(this).is(':checked')){name=$(this).attr('name');$('.opendroplist input[name="'+name+'"]').not(this).each(function(){$(this).removeAttr('checked');myTagValue=$(this).data('tag');currQuery=currQuery.replace(' '+myTagValue+' ',' ')});newQuery=currQuery+' '+tagValue}else{newQuery=currQuery.replace(tagValue,'')}
newQuery=newQuery.replace('  ',' ');newQuery=jQuery.trim(newQuery);$('#searchInput').val(newQuery);$('#searchInput').closest('form').submit()});$('#subscribeQuery').on('click',function(){oldQuery=$('#searchInput').data('query');curQuery=$('#searchInput').val();q={'old':oldQuery,'new':curQuery};wykop._ajaxCall($('#savedQueries'),wykop.params.base+'xhr/query/subscribe/',q);return !1})}
wykop.bindQueryUnsubscribe=function(){$('#savedQueries a.rmQuery').on('click',function(){id=$(this).data('id');wykop._ajaxCall($('#savedQueries'),wykop.params.base+'xhr/query/unsubscribe/'+id+'/');return !1})};function drawChart(elementId,type,data,options){var defaultOptions={legend:{display:!1}};if(data.datasets[0].backgroundColor===undefined){var backgroundColors=[];var elementCount=data.datasets[0].data.length;for(var i=0;i<elementCount;i++){backgroundColors.push(getRandomColor(i))}
data.datasets[0].backgroundColor=backgroundColors}
var element=document.getElementById(elementId);var chartOptions=(options===undefined)?defaultOptions:options;new Chart(element,{data:data,type:type,options:chartOptions})}
function getRandomColor(index){var colors=['#4572A7','#5E8BC0','#C35F5C','#A2BE67','#9982B4','#56AFC7','#F49D56','#ABC1E6','#BD9695','#A47D7C'];var pickedColor=colors[index];if(pickedColor===undefined){var colorElements=colors.length;var randomIndex=Math.floor(Math.random()*colorElements)+1;pickedColor=colors[randomIndex]}
return pickedColor}